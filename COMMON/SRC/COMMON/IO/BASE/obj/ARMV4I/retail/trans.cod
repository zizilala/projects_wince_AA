; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\COMMON\IO\trans.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "


  00000			 AREA	 |.rdata|, DATA, READONLY
|EdbgVendorIds| DCW 0x0
	DCW	0x0
	DCD	0x4033
	DCB	0x1
	DCB	"AD", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x4005
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x2078
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x10ec
	DCW	0x8029
	DCD	0xc0f0
	DCB	0x1
	DCB	"KS", 0x0
	DCW	0x10ec
	DCW	0x8129
	DCD	0x0
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0x900b
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xd0c9
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xe04c
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x1186
	DCW	0x1300
	DCD	0x50ba
	DCB	0x4
	DCB	"DL", 0x0
	DCW	0x100b
	DCW	0x20
	DCD	0xa0cc
	DCB	0x5
	DCB	"NG", 0x0
	DCW	0x10b7
	DCW	0x9050
	DCD	0x6008
	DCB	0x6
	DCB	"3C", 0x0
	DCW	0x10b7
	DCW	0x9200
	DCD	0x476
	DCB	0x6
	DCB	"3C", 0x0
	EXPORT	|OALIoTransBusAddress|
	EXPORT	|??_C@_1KE@FCFGNLKM@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AAS@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GI@BPOGFGAB@?$AA?$CL?$AAO?$AAA?$AAL?$AAI?$AAo?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF?$AAd@| [ DATA ] ; `string'
	IMPORT	|NKDbgPrintfW|
	IMPORT	|dpCurSettings|
; File c:\wince600\platform\common\src\common\io\trans.c

  00000			 AREA	 |.pdata|, PDATA
|$T43094| DCD	|$LN14@OALIoTrans|
	DCD	0x40003002

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KE@FCFGNLKM@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AAS@| DCB "-"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "T", 0x0, "r", 0x0, "a"
	DCB	0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "B", 0x0, "u", 0x0, "s", 0x0, "A", 0x0, "d", 0x0, "d"
	DCB	0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "(", 0x0, "a"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, "S", 0x0, "p", 0x0, "a", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "=", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " "
	DCB	0x0, "s", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, " ", 0x0, "=", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ",", 0x0, " ", 0x0, "r", 0x0, "c"
	DCB	0x0, " ", 0x0, "=", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GI@BPOGFGAB@?$AA?$CL?$AAO?$AAA?$AAL?$AAI?$AAo?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF?$AAd@| DCB "+"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "I", 0x0, "o", 0x0, "T"
	DCB	0x0, "r", 0x0, "a", 0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "B", 0x0, "u", 0x0, "s", 0x0, "A"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, "(", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, ",", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, ",", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALIoTransBusAddress| PROC

; 26   : ) {

  00000		 |$LN14@OALIoTrans|
  00000	e92d43f0	 stmdb       sp!, {r4 - r9, lr}
  00004	e24dd008	 sub         sp, sp, #8
  00008		 |$M43091|
  00008	e1a08003	 mov         r8, r3
  0000c	e1a09002	 mov         r9, r2
  00010	e1a06000	 mov         r6, r0

; 27   :     BOOL rc = FALSE;
; 28   : 
; 29   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 30   :         L"+OALIoTranslateBusAddress(%d, %d, 0x%08x%08x, %d)\r\n",
; 31   :         ifcType, busNumber, (UINT32)(busAddress >> 32), (UINT32)busAddress, 
; 32   :         *pAddressSpace
; 33   :     ));

  00014	e59f70a0	 ldr         r7, [pc, #0xA0]
  00018	e59d5024	 ldr         r5, [sp, #0x24]
  0001c	e3a04000	 mov         r4, #0
  00020	e597e440	 ldr         lr, [r7, #0x440]
  00024	e31e0b01	 tst         lr, #1, 22
  00028	0a000009	 beq         |$LN8@OALIoTrans|
  0002c	e31e0004	 tst         lr, #4
  00030	0a000007	 beq         |$LN8@OALIoTrans|
  00034	e595e000	 ldr         lr, [r5]
  00038	e59f0078	 ldr         r0, [pc, #0x78]
  0003c	e1a02001	 mov         r2, r1
  00040	e1a01006	 mov         r1, r6
  00044	e58de004	 str         lr, [sp, #4]
  00048	e58d9000	 str         r9, [sp]
  0004c	eb000000	 bl          NKDbgPrintfW
  00050	e597e440	 ldr         lr, [r7, #0x440]
  00054		 |$LN8@OALIoTrans|

; 34   : 
; 35   :     if (pAddressSpace == NULL || pSystemAddress == NULL) goto cleanUp;

  00054	e59d2028	 ldr         r2, [sp, #0x28]
  00058	e3550000	 cmp         r5, #0
  0005c	0a000008	 beq         |$cleanUp$43028|
  00060	e3520000	 cmp         r2, #0
  00064	0a000006	 beq         |$cleanUp$43028|

; 36   :     
; 37   :     switch (ifcType) {

  00068	e3560000	 cmp         r6, #0

; 38   :     case Internal:
; 39   :         *pSystemAddress = busAddress;
; 40   :         *pAddressSpace = 0;

  0006c	03a03000	 moveq       r3, #0
  00070	05829000	 streq       r9, [r2]
  00074	05828004	 streq       r8, [r2, #4]
  00078	05853000	 streq       r3, [r5]

; 41   :         rc = TRUE;

  0007c	0597e440	 ldreq       lr, [r7, #0x440]
  00080	03a04001	 moveq       r4, #1
  00084		 |$cleanUp$43028|

; 42   :         break;
; 43   : #ifdef OAL_IO_PCI
; 44   :     case Isa:
; 45   :     case PCIBus:
; 46   :         rc = OALPCITransBusAddress(
; 47   :             busNumber, busAddress, pAddressSpace, pSystemAddress
; 48   :         );
; 49   :         break;
; 50   : #endif
; 51   : #ifdef OAL_IO_PCMCIA
; 52   :     case PCMCIABus: 
; 53   :         rc = OALPCMCIATransBusAddress(
; 54   :             busNumber, busAddress, pAddressSpace, pSystemAddress
; 55   :         );
; 56   :         break;
; 57   : #endif            
; 58   :     }
; 59   : 
; 60   : cleanUp:
; 61   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 62   :         L"-OALTranslateBusAddress(addressSpace = %d, "
; 63   :         L"systemAddress = 0x%08x%08x, rc = %d)\r\n", *pAddressSpace, 
; 64   :         (UINT32)(*pSystemAddress >> 32), (UINT32)*pSystemAddress, rc
; 65   :     ));      

  00084	e31e0b01	 tst         lr, #1, 22
  00088	131e0004	 tstne       lr, #4
  0008c	15923000	 ldrne       r3, [r2]
  00090	15922004	 ldrne       r2, [r2, #4]
  00094	15951000	 ldrne       r1, [r5]
  00098	159f0014	 ldrne       r0, [pc, #0x14]
  0009c	158d4000	 strne       r4, [sp]
  000a0	1b000000	 blne        NKDbgPrintfW

; 66   :     return rc;    
; 67   : }

  000a4	e1a00004	 mov         r0, r4
  000a8	e28dd008	 add         sp, sp, #8
  000ac	e8bd43f0	 ldmia       sp!, {r4 - r9, lr}
  000b0	e12fff1e	 bx          lr
  000b4		 |$LN15@OALIoTrans|
  000b4		 |$LN16@OALIoTrans|
  000b4	00000000	 DCD         |??_C@_1KE@FCFGNLKM@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AAS@|
  000b8		 |$LN17@OALIoTrans|
  000b8	00000000	 DCD         |??_C@_1GI@BPOGFGAB@?$AA?$CL?$AAO?$AAA?$AAL?$AAI?$AAo?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF?$AAd@|
  000bc		 |$LN18@OALIoTrans|
  000bc	00000000	 DCD         |dpCurSettings|
  000c0		 |$M43092|

			 ENDP  ; |OALIoTransBusAddress|

	EXPORT	|OALIoTransSystemAddress|
	EXPORT	|??_C@_1HM@IKCJOCJL@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAb?$AAu?$AAs?$AAA?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@GKDDBMML@?$AA?$CL?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T43116| DCD	|$LN10@OALIoTrans@2|
	DCD	0x40002302

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HM@IKCJOCJL@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAb?$AAu?$AAs?$AAA?$AAd@| DCB "-"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "T", 0x0, "r", 0x0, "a"
	DCB	0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "S", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "(", 0x0, "b", 0x0, "u", 0x0, "s", 0x0, "A"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, " ", 0x0, "=", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, ",", 0x0, " ", 0x0, "r", 0x0, "c", 0x0, " "
	DCB	0x0, "=", 0x0, " ", 0x0, "1", 0x0, ")", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@GKDDBMML@?$AA?$CL?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF@| DCB "+"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "T", 0x0, "r", 0x0, "a"
	DCB	0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "S", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "(", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALIoTransSystemAddress| PROC

; 77   : ) {

  00000		 |$LN10@OALIoTrans@2|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M43113|
  00008	e1a04003	 mov         r4, r3
  0000c	e1a05002	 mov         r5, r2
  00010	e1a0e000	 mov         lr, r0

; 78   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 79   :         L"+OALTranslateSystemAddress(%d, %d, 0x%08x%08x)\r\n", 
; 80   :         ifcType, busNumber, (UINT32)(systemAddress >> 32), (UINT32)systemAddress
; 81   :     ));

  00014	e59f606c	 ldr         r6, [pc, #0x6C]
  00018	e5963440	 ldr         r3, [r6, #0x440]
  0001c	e3130b01	 tst         r3, #1, 22
  00020	13130004	 tstne       r3, #4
  00024	159f0058	 ldrne       r0, [pc, #0x58]
  00028	11a02001	 movne       r2, r1
  0002c	11a03004	 movne       r3, r4
  00030	11a0100e	 movne       r1, lr
  00034	158d5000	 strne       r5, [sp]
  00038	1b000000	 blne        NKDbgPrintfW

; 82   : 
; 83   :     // Check parameters
; 84   :     if (pBusAddress == NULL) return FALSE;

  0003c	e59d1014	 ldr         r1, [sp, #0x14]
  00040	e3510000	 cmp         r1, #0
  00044	03a00000	 moveq       r0, #0
  00048	0a000009	 beq         |$LN2@OALIoTrans@2|

; 85   : 
; 86   :     // All buses can access system memory without offset
; 87   :     *pBusAddress = systemAddress;

  0004c	e5815000	 str         r5, [r1]
  00050	e5814004	 str         r4, [r1, #4]

; 88   :     
; 89   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 90   :         L"-OALTranslateSystemAddress(busAddress = 0x%08x%08x, rc = 1)\r\n",
; 91   :         (UINT32)(*pBusAddress >> 32), (UINT32)*pBusAddress
; 92   :     ));

  00054	e5963440	 ldr         r3, [r6, #0x440]
  00058	e3130b01	 tst         r3, #1, 22
  0005c	13130004	 tstne       r3, #4
  00060	159f0018	 ldrne       r0, [pc, #0x18]
  00064	11a02005	 movne       r2, r5
  00068	11a01004	 movne       r1, r4
  0006c	1b000000	 blne        NKDbgPrintfW

; 93   :     return TRUE;

  00070	e3a00001	 mov         r0, #1
  00074		 |$LN2@OALIoTrans@2|

; 94   : }

  00074	e28dd004	 add         sp, sp, #4
  00078	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  0007c	e12fff1e	 bx          lr
  00080		 |$LN11@OALIoTrans@2|
  00080		 |$LN12@OALIoTrans@2|
  00080	00000000	 DCD         |??_C@_1HM@IKCJOCJL@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAb?$AAu?$AAs?$AAA?$AAd@|
  00084		 |$LN13@OALIoTrans@2|
  00084	00000000	 DCD         |??_C@_1GC@GKDDBMML@?$AA?$CL?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF@|
  00088		 |$LN14@OALIoTrans@2|
  00088	00000000	 DCD         |dpCurSettings|
  0008c		 |$M43114|

			 ENDP  ; |OALIoTransSystemAddress|

	END
