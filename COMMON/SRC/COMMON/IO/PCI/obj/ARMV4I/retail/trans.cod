; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\COMMON\IO\trans.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "


  00000			 AREA	 |.rdata|, DATA, READONLY
|EdbgVendorIds| DCW 0x0
	DCW	0x0
	DCD	0x4033
	DCB	0x1
	DCB	"AD", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x4005
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x2078
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x10ec
	DCW	0x8029
	DCD	0xc0f0
	DCB	0x1
	DCB	"KS", 0x0
	DCW	0x10ec
	DCW	0x8129
	DCD	0x0
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0x900b
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xd0c9
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xe04c
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x1186
	DCW	0x1300
	DCD	0x50ba
	DCB	0x4
	DCB	"DL", 0x0
	DCW	0x100b
	DCW	0x20
	DCD	0xa0cc
	DCB	0x5
	DCB	"NG", 0x0
	DCW	0x10b7
	DCW	0x9050
	DCD	0x6008
	DCB	0x6
	DCB	"3C", 0x0
	DCW	0x10b7
	DCW	0x9200
	DCD	0x476
	DCB	0x6
	DCB	"3C", 0x0
	EXPORT	|OALIoTransBusAddress|
	EXPORT	|??_C@_1KE@FCFGNLKM@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AAS@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GI@BPOGFGAB@?$AA?$CL?$AAO?$AAA?$AAL?$AAI?$AAo?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF?$AAd@| [ DATA ] ; `string'
	IMPORT	|OALPCITransBusAddress|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|dpCurSettings|
; File c:\wince600\platform\common\src\common\io\trans.c

  00000			 AREA	 |.pdata|, PDATA
|$T43096| DCD	|$LN16@OALIoTrans|
	DCD	0x40003e02

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KE@FCFGNLKM@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AAS@| DCB "-"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "T", 0x0, "r", 0x0, "a"
	DCB	0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "B", 0x0, "u", 0x0, "s", 0x0, "A", 0x0, "d", 0x0, "d"
	DCB	0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "(", 0x0, "a"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, "S", 0x0, "p", 0x0, "a", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "=", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " "
	DCB	0x0, "s", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, " ", 0x0, "=", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ",", 0x0, " ", 0x0, "r", 0x0, "c"
	DCB	0x0, " ", 0x0, "=", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GI@BPOGFGAB@?$AA?$CL?$AAO?$AAA?$AAL?$AAI?$AAo?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF?$AAd@| DCB "+"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "I", 0x0, "o", 0x0, "T"
	DCB	0x0, "r", 0x0, "a", 0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "B", 0x0, "u", 0x0, "s", 0x0, "A"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, "(", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, ",", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, ",", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALIoTransBusAddress| PROC

; 26   : ) {

  00000		 |$LN16@OALIoTrans|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004	e24dd008	 sub         sp, sp, #8
  00008		 |$M43093|
  00008	e1a09003	 mov         r9, r3
  0000c	e1a0a002	 mov         r10, r2
  00010	e1a0b001	 mov         r11, r1
  00014	e1a07000	 mov         r7, r0

; 27   :     BOOL rc = FALSE;
; 28   : 
; 29   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 30   :         L"+OALIoTranslateBusAddress(%d, %d, 0x%08x%08x, %d)\r\n",
; 31   :         ifcType, busNumber, (UINT32)(busAddress >> 32), (UINT32)busAddress, 
; 32   :         *pAddressSpace
; 33   :     ));

  00018	e59f80d4	 ldr         r8, [pc, #0xD4]
  0001c	e59d602c	 ldr         r6, [sp, #0x2C]
  00020	e3a05000	 mov         r5, #0
  00024	e598e440	 ldr         lr, [r8, #0x440]
  00028	e31e0b01	 tst         lr, #1, 22
  0002c	0a000009	 beq         |$LN9@OALIoTrans|
  00030	e31e0004	 tst         lr, #4
  00034	0a000007	 beq         |$LN9@OALIoTrans|
  00038	e596e000	 ldr         lr, [r6]
  0003c	e59f00ac	 ldr         r0, [pc, #0xAC]
  00040	e1a0200b	 mov         r2, r11
  00044	e1a01007	 mov         r1, r7
  00048	e58de004	 str         lr, [sp, #4]
  0004c	e58da000	 str         r10, [sp]
  00050	eb000000	 bl          NKDbgPrintfW
  00054	e598e440	 ldr         lr, [r8, #0x440]
  00058		 |$LN9@OALIoTrans|

; 34   : 
; 35   :     if (pAddressSpace == NULL || pSystemAddress == NULL) goto cleanUp;

  00058	e59d4030	 ldr         r4, [sp, #0x30]
  0005c	e3560000	 cmp         r6, #0
  00060	0a000015	 beq         |$cleanUp$43028|
  00064	e3540000	 cmp         r4, #0
  00068	0a000013	 beq         |$cleanUp$43028|

; 36   :     
; 37   :     switch (ifcType) {

  0006c	e3570000	 cmp         r7, #0
  00070	0a00000b	 beq         |$LN2@OALIoTrans|
  00074	e3570001	 cmp         r7, #1
  00078	0a000001	 beq         |$LN1@OALIoTrans|
  0007c	e3570005	 cmp         r7, #5
  00080	1a00000d	 bne         |$cleanUp$43028|
  00084		 |$LN1@OALIoTrans|

; 42   :         break;
; 43   : #ifdef OAL_IO_PCI
; 44   :     case Isa:
; 45   :     case PCIBus:
; 46   :         rc = OALPCITransBusAddress(
; 47   :             busNumber, busAddress, pAddressSpace, pSystemAddress
; 48   :         );

  00084	e1a03006	 mov         r3, r6
  00088	e1a0100a	 mov         r1, r10
  0008c	e1a02009	 mov         r2, r9
  00090	e1a0000b	 mov         r0, r11
  00094	e58d4000	 str         r4, [sp]
  00098	eb000000	 bl          OALPCITransBusAddress
  0009c	e1a05000	 mov         r5, r0

; 49   :         break;

  000a0	ea000004	 b           |$LN13@OALIoTrans|
  000a4		 |$LN2@OALIoTrans|

; 38   :     case Internal:
; 39   :         *pSystemAddress = busAddress;
; 40   :         *pAddressSpace = 0;

  000a4	e3a03000	 mov         r3, #0
  000a8	e584a000	 str         r10, [r4]
  000ac	e5849004	 str         r9, [r4, #4]
  000b0	e5863000	 str         r3, [r6]

; 41   :         rc = TRUE;

  000b4	e3a05001	 mov         r5, #1
  000b8		 |$LN13@OALIoTrans|
  000b8	e598e440	 ldr         lr, [r8, #0x440]
  000bc		 |$cleanUp$43028|

; 50   : #endif
; 51   : #ifdef OAL_IO_PCMCIA
; 52   :     case PCMCIABus: 
; 53   :         rc = OALPCMCIATransBusAddress(
; 54   :             busNumber, busAddress, pAddressSpace, pSystemAddress
; 55   :         );
; 56   :         break;
; 57   : #endif            
; 58   :     }
; 59   : 
; 60   : cleanUp:
; 61   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 62   :         L"-OALTranslateBusAddress(addressSpace = %d, "
; 63   :         L"systemAddress = 0x%08x%08x, rc = %d)\r\n", *pAddressSpace, 
; 64   :         (UINT32)(*pSystemAddress >> 32), (UINT32)*pSystemAddress, rc
; 65   :     ));      

  000bc	e31e0b01	 tst         lr, #1, 22
  000c0	131e0004	 tstne       lr, #4
  000c4	15943000	 ldrne       r3, [r4]
  000c8	15942004	 ldrne       r2, [r4, #4]
  000cc	15961000	 ldrne       r1, [r6]
  000d0	159f0014	 ldrne       r0, [pc, #0x14]
  000d4	158d5000	 strne       r5, [sp]
  000d8	1b000000	 blne        NKDbgPrintfW

; 66   :     return rc;    
; 67   : }

  000dc	e1a00005	 mov         r0, r5
  000e0	e28dd008	 add         sp, sp, #8
  000e4	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  000e8	e12fff1e	 bx          lr
  000ec		 |$LN17@OALIoTrans|
  000ec		 |$LN18@OALIoTrans|
  000ec	00000000	 DCD         |??_C@_1KE@FCFGNLKM@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AAS@|
  000f0		 |$LN19@OALIoTrans|
  000f0	00000000	 DCD         |??_C@_1GI@BPOGFGAB@?$AA?$CL?$AAO?$AAA?$AAL?$AAI?$AAo?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAB?$AAu?$AAs?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF?$AAd@|
  000f4		 |$LN20@OALIoTrans|
  000f4	00000000	 DCD         |dpCurSettings|
  000f8		 |$M43094|

			 ENDP  ; |OALIoTransBusAddress|

	EXPORT	|OALIoTransSystemAddress|
	EXPORT	|??_C@_1HM@IKCJOCJL@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAb?$AAu?$AAs?$AAA?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@GKDDBMML@?$AA?$CL?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T43118| DCD	|$LN10@OALIoTrans@2|
	DCD	0x40002302

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HM@IKCJOCJL@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAb?$AAu?$AAs?$AAA?$AAd@| DCB "-"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "T", 0x0, "r", 0x0, "a"
	DCB	0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "S", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "(", 0x0, "b", 0x0, "u", 0x0, "s", 0x0, "A"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, " ", 0x0, "=", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, ",", 0x0, " ", 0x0, "r", 0x0, "c", 0x0, " "
	DCB	0x0, "=", 0x0, " ", 0x0, "1", 0x0, ")", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@GKDDBMML@?$AA?$CL?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF@| DCB "+"
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "T", 0x0, "r", 0x0, "a"
	DCB	0x0, "n", 0x0, "s", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "S", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "(", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALIoTransSystemAddress| PROC

; 77   : ) {

  00000		 |$LN10@OALIoTrans@2|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M43115|
  00008	e1a04003	 mov         r4, r3
  0000c	e1a05002	 mov         r5, r2
  00010	e1a0e000	 mov         lr, r0

; 78   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 79   :         L"+OALTranslateSystemAddress(%d, %d, 0x%08x%08x)\r\n", 
; 80   :         ifcType, busNumber, (UINT32)(systemAddress >> 32), (UINT32)systemAddress
; 81   :     ));

  00014	e59f606c	 ldr         r6, [pc, #0x6C]
  00018	e5963440	 ldr         r3, [r6, #0x440]
  0001c	e3130b01	 tst         r3, #1, 22
  00020	13130004	 tstne       r3, #4
  00024	159f0058	 ldrne       r0, [pc, #0x58]
  00028	11a02001	 movne       r2, r1
  0002c	11a03004	 movne       r3, r4
  00030	11a0100e	 movne       r1, lr
  00034	158d5000	 strne       r5, [sp]
  00038	1b000000	 blne        NKDbgPrintfW

; 82   : 
; 83   :     // Check parameters
; 84   :     if (pBusAddress == NULL) return FALSE;

  0003c	e59d1014	 ldr         r1, [sp, #0x14]
  00040	e3510000	 cmp         r1, #0
  00044	03a00000	 moveq       r0, #0
  00048	0a000009	 beq         |$LN2@OALIoTrans@2|

; 85   : 
; 86   :     // All buses can access system memory without offset
; 87   :     *pBusAddress = systemAddress;

  0004c	e5815000	 str         r5, [r1]
  00050	e5814004	 str         r4, [r1, #4]

; 88   :     
; 89   :     OALMSG(OAL_IO&&OAL_FUNC, (
; 90   :         L"-OALTranslateSystemAddress(busAddress = 0x%08x%08x, rc = 1)\r\n",
; 91   :         (UINT32)(*pBusAddress >> 32), (UINT32)*pBusAddress
; 92   :     ));

  00054	e5963440	 ldr         r3, [r6, #0x440]
  00058	e3130b01	 tst         r3, #1, 22
  0005c	13130004	 tstne       r3, #4
  00060	159f0018	 ldrne       r0, [pc, #0x18]
  00064	11a02005	 movne       r2, r5
  00068	11a01004	 movne       r1, r4
  0006c	1b000000	 blne        NKDbgPrintfW

; 93   :     return TRUE;

  00070	e3a00001	 mov         r0, #1
  00074		 |$LN2@OALIoTrans@2|

; 94   : }

  00074	e28dd004	 add         sp, sp, #4
  00078	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  0007c	e12fff1e	 bx          lr
  00080		 |$LN11@OALIoTrans@2|
  00080		 |$LN12@OALIoTrans@2|
  00080	00000000	 DCD         |??_C@_1HM@IKCJOCJL@?$AA?9?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AAb?$AAu?$AAs?$AAA?$AAd@|
  00084		 |$LN13@OALIoTrans@2|
  00084	00000000	 DCD         |??_C@_1GC@GKDDBMML@?$AA?$CL?$AAO?$AAA?$AAL?$AAT?$AAr?$AAa?$AAn?$AAs?$AAl?$AAa?$AAt?$AAe?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$CI?$AA?$CF?$AAd?$AA?0?$AA?5?$AA?$CF@|
  00088		 |$LN14@OALIoTrans@2|
  00088	00000000	 DCD         |dpCurSettings|
  0008c		 |$M43116|

			 ENDP  ; |OALIoTransSystemAddress|

	END
