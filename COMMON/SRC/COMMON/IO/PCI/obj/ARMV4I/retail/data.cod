; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\COMMON\IO\data.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|OALIoReadBusData|
	IMPORT	|OALPCICfgRead|
	IMPORT	|memset|
; File c:\wince600\platform\common\src\common\io\data.c

  00000			 AREA	 |.pdata|, PDATA
|$T40374| DCD	|$LN9@OALIoReadB|
	DCD	0x40001902
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALIoReadBusData| PROC

; 37   : ) {

  00000		 |$LN9@OALIoReadB|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M40371|
  00008	e1a05003	 mov         r5, r3
  0000c	e1a04002	 mov         r4, r2
  00010	e1a02001	 mov         r2, r1
  00014	e1a03000	 mov         r3, r0

; 38   :     UINT32 rc = 0;
; 39   :     
; 40   :     switch (pDevLoc->IfcType) {

  00018	e593e000	 ldr         lr, [r3]
  0001c	e3a00000	 mov         r0, #0
  00020	e35e0005	 cmp         lr, #5
  00024	1a00000b	 bne         |$LN1@OALIoReadB|

; 41   : #ifdef OAL_IO_PCI        
; 42   :     case PCIBus:
; 43   :         rc = OALPCICfgRead(
; 44   :             pDevLoc->BusNumber, *(OAL_PCI_LOCATION*)&pDevLoc->LogicalLoc,
; 45   :             address, size, pData
; 46   :         );

  00028	e5931008	 ldr         r1, [r3, #8]
  0002c	e5930004	 ldr         r0, [r3, #4]
  00030	e1a03004	 mov         r3, r4
  00034	e58d5000	 str         r5, [sp]
  00038	eb000000	 bl          OALPCICfgRead
  0003c	e3500000	 cmp         r0, #0

; 47   :         // Workaround PCIBus enumeration issue
; 48   :         if (rc == 0) {

  00040	1a000004	 bne         |$LN1@OALIoReadB|

; 49   :             memset(pData, 0xFF, size);

  00044	e1a02004	 mov         r2, r4
  00048	e3a010ff	 mov         r1, #0xFF
  0004c	e1a00005	 mov         r0, r5
  00050	eb000000	 bl          memset

; 50   :             rc = size;

  00054	e1a00004	 mov         r0, r4
  00058		 |$LN1@OALIoReadB|

; 51   :         }
; 52   :         break;
; 53   : #endif        
; 54   :     }
; 55   :     return rc;
; 56   : }

  00058	e28dd004	 add         sp, sp, #4
  0005c	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00060	e12fff1e	 bx          lr
  00064		 |$M40372|

			 ENDP  ; |OALIoReadBusData|

	EXPORT	|OALIoWriteBusData|
	IMPORT	|OALPCICfgWrite|

  00000			 AREA	 |.pdata|, PDATA
|$T40388| DCD	|$LN8@OALIoWrite|
	DCD	0x40001102
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALIoWriteBusData| PROC

; 68   : ) {

  00000		 |$LN8@OALIoWrite|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M40385|
  00008	e1a05003	 mov         r5, r3
  0000c	e1a06001	 mov         r6, r1
  00010	e1a04000	 mov         r4, r0

; 69   :     UINT32 rc = 0;
; 70   :     
; 71   :     switch (pDevLoc->IfcType) {

  00014	e594e000	 ldr         lr, [r4]
  00018	e3a00000	 mov         r0, #0
  0001c	e35e0005	 cmp         lr, #5

; 72   : #ifdef OAL_IO_PCI
; 73   :     case PCIBus:
; 74   :         rc = OALPCICfgWrite(
; 75   :             pDevLoc->BusNumber, *(OAL_PCI_LOCATION*)&pDevLoc->LogicalLoc, 
; 76   :             address, size, pData
; 77   :         );

  00020	05941008	 ldreq       r1, [r4, #8]
  00024	05940004	 ldreq       r0, [r4, #4]
  00028	01a03002	 moveq       r3, r2
  0002c	01a02006	 moveq       r2, r6
  00030	058d5000	 streq       r5, [sp]
  00034	0b000000	 bleq        OALPCICfgWrite

; 78   :         break;
; 79   : #endif        
; 80   :     }
; 81   :     return rc;
; 82   : }

  00038	e28dd004	 add         sp, sp, #4
  0003c	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$M40386|

			 ENDP  ; |OALIoWriteBusData|

	END
