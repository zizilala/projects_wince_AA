; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\COMMON_TI\BOOT\RNDIS\rndis.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|g_InterruptData| [ DATA ]
	EXPORT	|g_pEP1DataWrapper| [ DATA ]
	EXPORT	|DigitTable| [ DATA ]
	EXPORT	|g_devState| [ DATA ]
	EXPORT	|g_EP0TransferState| [ DATA ]
	EXPORT	|g_EP1TransferState| [ DATA ]
	EXPORT	|g_EP2TransferState| [ DATA ]
	EXPORT	|g_EP3TransferState| [ DATA ]

  00000			 AREA	 |.data|, DATA
	 COMMON	|MDDZONE2|, 0x4

	 COMMON	|MDDZONE|, 0x4

	 COMMON	|MDDZONE0|, 0x4

	 COMMON	|g_EP0Transfer|, 0x20

	 COMMON	|PDDZONE0|, 0x4

	 COMMON	|g_EP2Transfer|, 0x20

	 COMMON	|MDDZONE3|, 0x4

	 COMMON	|g_pddInterface|, 0x60

	 COMMON	|g_EP3Transfer|, 0x20

	 COMMON	|PDDZONE|, 0x4

	 COMMON	|MDDZONE4|, 0x4

	 COMMON	|g_udr|, 0x8

	 COMMON	|g_RndisKitlDev|, 0x444

	 COMMON	|g_EP1Transfer|, 0x20

	 COMMON	|g_mddInterface|, 0x8

	 COMMON	|MDDZONE5|, 0x4

	 COMMON	|g_EP0DataWrapper|, 0x10


  00000			 AREA	 |.bss|, NOINIT
|g_ucScratch| %	0x1
|g_pEP1DataWrapper| % 0x4
|g_devState| %	0x4
|g_EP0TransferState| % 0x4
|g_EP1TransferState| % 0x4
|g_EP2TransferState| % 0x4
|g_EP3TransferState| % 0x4

  00000			 AREA	 |.data|, DATA
|g_InterruptData| DCD 0x1
	DCD	0x0
|g_RndisMacAddress| DCB 0x0
	DCB	0x2
	DCB	0xb3
	DCB	0x92
	DCB	0xa8
	DCB	0xc4
	%	2
|pucVendorID| DCB "Microsoft.", 0x0, 0x0
|pucVendorDescription| DCB "Microsoft RNDIS virtual adapter miniport.", 0x0
	DCB	0x0

  00000			 AREA	 |.rdata|, DATA, READONLY
|EdbgVendorIds| DCW 0x0
	DCW	0x0
	DCD	0x4033
	DCB	0x1
	DCB	"AD", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x4005
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x2078
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x10ec
	DCW	0x8029
	DCD	0xc0f0
	DCB	0x1
	DCB	"KS", 0x0
	DCW	0x10ec
	DCW	0x8129
	DCD	0x0
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0x900b
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xd0c9
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xe04c
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x1186
	DCW	0x1300
	DCD	0x50ba
	DCB	0x4
	DCB	"DL", 0x0
	DCW	0x100b
	DCW	0x20
	DCD	0xa0cc
	DCB	0x5
	DCB	"NG", 0x0
	DCW	0x10b7
	DCW	0x9050
	DCD	0x6008
	DCB	0x6
	DCB	"3C", 0x0
	DCW	0x10b7
	DCW	0x9200
	DCD	0x476
	DCB	0x6
	DCB	"3C", 0x0
|gs_pucSupportedLanguage| DCB 0x4
	DCB	0x3
	DCB	0x9
	DCB	0x4
|DigitTable| DCB "0", 0x0, "1", 0x0, "2", 0x0, "3", 0x0, "4", 0x0, "5", 0x0
	DCB	"6", 0x0, "7", 0x0, "8", 0x0, "9", 0x0, "A", 0x0, "B", 0x0
	DCB	"C", 0x0, "D", 0x0, "E", 0x0, "F", 0x0, 0x0, 0x0
	%	2
|gs_Manufacturer| DCB 0x16
	DCB	0x3
	DCB	"M", 0x0, "i", 0x0, "c", 0x0, "r", 0x0, "o", 0x0, "s", 0x0
	DCB	"o", 0x0, "f", 0x0, "t", 0x0, 0x0, 0x0
	%	236
	%	6
|gs_Product| DCB 0x3e
	DCB	0x3
	DCB	"M", 0x0, "i", 0x0, "c", 0x0, "r", 0x0, "o", 0x0, "s", 0x0
	DCB	"o", 0x0, "f", 0x0, "t", 0x0, " ", 0x0, "R", 0x0, "N", 0x0
	DCB	"D", 0x0, "I", 0x0, "S", 0x0, " ", 0x0, "K", 0x0, "I", 0x0
	DCB	"T", 0x0, "L", 0x0, " ", 0x0, "f", 0x0, "o", 0x0, "r", 0x0
	DCB	" ", 0x0, "O", 0x0, "M", 0x0, "A", 0x0, "P", 0x0, 0x0, 0x0
	%	196
	%	6
|gs_pucUSBDescriptors| DCB 0x12
	DCB	0x1
	DCB	0x10
	DCB	0x1
	DCB	0x2
	DCB	0x0
	DCB	0x0
	DCB	0x40
	DCB	0x5e
	DCB	0x4
	DCB	0x1
	DCB	0x3
	DCB	0x1
	DCB	0x0
	DCB	0x1
	DCB	0x2
	DCB	0x3
	DCB	0x1
	DCB	0x9
	DCB	0x2
	DCB	0x3e
	DCB	0x0
	DCB	0x2
	DCB	0x1
	DCB	0x0
	DCB	0x40
	DCB	0x1
	DCB	0x9
	DCB	0x4
	DCB	0x0
	DCB	0x0
	DCB	0x1
	DCB	0x2
	DCB	0x2
	DCB	0xff
	DCB	0x0
	DCB	0x5
	DCB	0x24
	DCB	0x1
	DCB	0x0
	DCB	0x1
	DCB	0x4
	DCB	0x24
	DCB	0x2
	DCB	0x0
	DCB	0x5
	DCB	0x24
	DCB	0x6
	DCB	0x0
	DCB	0x1
	DCB	0x7
	DCB	0x5
	DCB	0x83
	DCB	0x3
	DCB	0x40
	DCB	0x0
	DCB	0x50
	DCB	0x9
	DCB	0x4
	DCB	0x1
	DCB	0x0
	DCB	0x2
	DCB	0xa
	DCB	0x0
	DCB	0x0
	DCB	0x0
	DCB	0x7
	DCB	0x5
	DCB	0x82
	DCB	0x2
	DCB	0x40
	DCB	0x0
	DCB	0x0
	DCB	0x7
	DCB	0x5
	DCB	0x1
	DCB	0x2
	DCB	0x40
	DCB	0x0
	DCB	0x0
	IMPORT	|MddSendRndisMessageComplete|
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\boot\rndis\rndis.c

  00000			 AREA	 |.pdata|, PDATA
|$T44462| DCD	|$LN6@PDD_SendNo|
	DCD	0x40000b01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_SendNotification| PROC

; 247  : {

  00000		 |$LN6@PDD_SendNo|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M44459|

; 248  :     DATA_WRAPPER *pWrapper = (DATA_WRAPPER *)pvUser;
; 249  : 
; 250  : 	UNREFERENCED_PARAMETER(pRequest);
; 251  : 
; 252  :     if (pWrapper != g_RndisKitlDev.pEP0DataWrapper) {

  00004	e59f401c	 ldr         r4, [pc, #0x1C]
  00008	e5940430	 ldr         r0, [r4, #0x430]
  0000c	e1510000	 cmp         r1, r0
  00010	1a000002	 bne         |$LN2@PDD_SendNo|

; 253  :         ASSERT(FALSE);
; 254  :         return;
; 255  :     }
; 256  :     MddSendRndisMessageComplete(g_RndisKitlDev.pEP0DataWrapper);

  00014	eb000000	 bl          MddSendRndisMessageComplete

; 257  :     g_RndisKitlDev.pEP0DataWrapper = NULL;

  00018	e3a03000	 mov         r3, #0
  0001c	e5843430	 str         r3, [r4, #0x430]
  00020		 |$LN2@PDD_SendNo|

; 258  : }

  00020	e8bd4010	 ldmia       sp!, {r4, lr}
  00024	e12fff1e	 bx          lr
  00028		 |$LN7@PDD_SendNo|
  00028		 |$LN8@PDD_SendNo|
  00028	00000000	 DCD         |g_RndisKitlDev|
  0002c		 |$M44460|

			 ENDP  ; |PDD_SendNotification|

	IMPORT	|MddIndicateRndisMessage|

  00000			 AREA	 |.pdata|, PDATA
|$T44473| DCD	|$LN6@PDD_RecvNo|
	DCD	0x40000e01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_RecvNotification| PROC

; 262  : {

  00000		 |$LN6@PDD_RecvNo|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M44470|
  00004	e1a0e000	 mov         lr, r0

; 263  :     DATA_WRAPPER *pWrapper = (DATA_WRAPPER *)pvUser;
; 264  : 
; 265  :     if (pWrapper != &g_RndisKitlDev.EP0DataWrapper) {

  00008	e59f2024	 ldr         r2, [pc, #0x24]
  0000c	e2823e42	 add         r3, r2, #0x42, 28
  00010	e1510003	 cmp         r1, r3

; 266  :         ASSERT(FALSE);
; 267  :         return;
; 268  :     }
; 269  :     g_RndisKitlDev.EP0DataWrapper.pucData = pRequest->pucData;

  00014	059e3004	 ldreq       r3, [lr, #4]

; 270  :     g_RndisKitlDev.EP0DataWrapper.dwDataSize = pRequest->dwActualSize;
; 271  :     MddIndicateRndisMessage(&(g_RndisKitlDev.EP0DataWrapper));

  00018	02820e42	 addeq       r0, r2, #0x42, 28
  0001c	05823428	 streq       r3, [r2, #0x428]
  00020	059e300c	 ldreq       r3, [lr, #0xC]
  00024	0582342c	 streq       r3, [r2, #0x42C]
  00028	0b000000	 bleq        MddIndicateRndisMessage

; 272  : }

  0002c	e49de004	 ldr         lr, [sp], #4
  00030	e12fff1e	 bx          lr
  00034		 |$LN7@PDD_RecvNo|
  00034		 |$LN8@PDD_RecvNo|
  00034	00000000	 DCD         |g_RndisKitlDev|
  00038		 |$M44471|

			 ENDP  ; |PDD_RecvNotification|

	EXPORT	|PDD_GetDescriptor|
	EXPORT	|??_C@_1DM@FCMMONGE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAS?$AAT?$AAR?$AAI?$AAN?$AAG?$AA?5?$AAi?$AAn?$AAd?$AAe?$AAx?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FE@MMFBADFF@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAG?$AAE?$AAT?$AA_?$AAD?$AAE?$AAS?$AAC?$AAR?$AAI?$AAP?$AAT?$AAO?$AAR?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe@| [ DATA ] ; `string'
	IMPORT	|NKDbgPrintfW|
	IMPORT	|dpCurSettings|

  00019			 AREA	 |.bss|, NOINIT
|gs_SerialNumber| % 0x14
|gs_SerialNumber| % 0x14

  00000			 AREA	 |.pdata|, PDATA
|$T44498| DCD	|$LN27@PDD_GetDes|
	DCD	0x40005601

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DM@FCMMONGE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAS?$AAT?$AAR?$AAI?$AAN?$AAG?$AA?5?$AAi?$AAn?$AAd?$AAe?$AAx?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, " ", 0x0, "U", 0x0, "n", 0x0, "k"
	DCB	0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "S"
	DCB	0x0, "T", 0x0, "R", 0x0, "I", 0x0, "N", 0x0, "G", 0x0, " "
	DCB	0x0, "i", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "x", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@MMFBADFF@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAG?$AAE?$AAT?$AA_?$AAD?$AAE?$AAS?$AAC?$AAR?$AAI?$AAP?$AAT?$AAO?$AAR?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, " ", 0x0, "U", 0x0, "n", 0x0, "k"
	DCB	0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "G"
	DCB	0x0, "E", 0x0, "T", 0x0, "_", 0x0, "D", 0x0, "E", 0x0, "S"
	DCB	0x0, "C", 0x0, "R", 0x0, "I", 0x0, "P", 0x0, "T", 0x0, "O"
	DCB	0x0, "R", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, ":", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_GetDescriptor| PROC

; 276  : {

  00000		 |$LN27@PDD_GetDes|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M44495|
  00004	e1a0e001	 mov         lr, r1
  00008	e1a04000	 mov         r4, r0

; 277  :     UCHAR *pucData = NULL;
; 278  :     WORD wLength   = 0;
; 279  :     WORD wType     = pUdr->wValue;

  0000c	e5d42002	 ldrb        r2, [r4, #2]
  00010	e5d43003	 ldrb        r3, [r4, #3]

; 280  :     BOOL fRet      = TRUE;

  00014	e3a00001	 mov         r0, #1
  00018	e1822403	 orr         r2, r2, r3, lsl #8

; 281  : 
; 282  :     switch (HIBYTE(wType)) {

  0001c	e1a03422	 mov         r3, r2, lsr #8
  00020	e20310ff	 and         r1, r3, #0xFF
  00024	e3510001	 cmp         r1, #1
  00028	0a00002e	 beq         |$LN12@PDD_GetDes|
  0002c	e3510002	 cmp         r1, #2
  00030	0a000027	 beq         |$LN11@PDD_GetDes|
  00034	e3510003	 cmp         r1, #3
  00038	0a000008	 beq         |$LN10@PDD_GetDes|

; 321  : 
; 322  :         default:
; 323  :             OALMSG(OAL_ERROR, (L"*** Unknown GET_DESCRIPTOR request:0x%x\r\n", HIBYTE(wType)));

  0003c	e59f310c	 ldr         r3, [pc, #0x10C]
  00040	e5933440	 ldr         r3, [r3, #0x440]
  00044	e3130001	 tst         r3, #1
  00048	0a000001	 beq         |$LN19@PDD_GetDes|
  0004c	e59f0100	 ldr         r0, [pc, #0x100]
  00050		 |$LN24@PDD_GetDes|
  00050	eb000000	 bl          NKDbgPrintfW
  00054		 |$LN19@PDD_GetDes|

; 324  :             fRet = FALSE;

  00054	e3a00000	 mov         r0, #0

; 335  :     }
; 336  :     return fRet;
; 337  : }

  00058	e8bd4010	 ldmia       sp!, {r4, lr}
  0005c	e12fff1e	 bx          lr
  00060		 |$LN10@PDD_GetDes|

; 292  : 
; 293  :         case USB_STRING_DESCRIPTOR_TYPE:
; 294  :             switch (LOBYTE(wType)) {

  00060	e21230ff	 ands        r3, r2, #0xFF
  00064	0a000017	 beq         |$LN7@PDD_GetDes|
  00068	e3530001	 cmp         r3, #1
  0006c	0a000011	 beq         |$LN6@PDD_GetDes|
  00070	e3530002	 cmp         r3, #2
  00074	0a00000b	 beq         |$LN5@PDD_GetDes|
  00078	e3530003	 cmp         r3, #3
  0007c	0a000006	 beq         |$LN4@PDD_GetDes|

; 314  : 
; 315  :                 default:
; 316  :                     OALMSG(OAL_ERROR, (L"*** Unknown STRING index %d\r\n", LOBYTE(wType)));

  00080	e59f30c8	 ldr         r3, [pc, #0xC8]
  00084	e5933440	 ldr         r3, [r3, #0x440]
  00088	e3130001	 tst         r3, #1
  0008c	0afffff0	 beq         |$LN19@PDD_GetDes|
  00090	e59f00b4	 ldr         r0, [pc, #0xB4]
  00094	e20210ff	 and         r1, r2, #0xFF

; 317  :                     fRet = FALSE;
; 318  :                     break;

  00098	eaffffec	 b           |$LN24@PDD_GetDes|
  0009c		 |$LN4@PDD_GetDes|

; 309  : 
; 310  :                 case 0x03:
; 311  :                     pucData = (UCHAR *)&gs_SerialNumber;

  0009c	e59f30a4	 ldr         r3, [pc, #0xA4]

; 312  :                     wLength = gs_SerialNumber.ucbLength;

  000a0	e5d31000	 ldrb        r1, [r3]

; 313  :                     break;

  000a4	ea000012	 b           |$LN13@PDD_GetDes|
  000a8		 |$LN5@PDD_GetDes|

; 304  : 
; 305  :                 case 0x02:
; 306  :                     pucData = (UCHAR *)&gs_Product;

  000a8	e59f3094	 ldr         r3, [pc, #0x94]

; 307  :                     wLength = gs_Product.ucbLength;

  000ac	e3a0103e	 mov         r1, #0x3E
  000b0	e2833e13	 add         r3, r3, #0x13, 28

; 308  :                     break;

  000b4	ea00000e	 b           |$LN13@PDD_GetDes|
  000b8		 |$LN6@PDD_GetDes|

; 298  :                     break;
; 299  : 
; 300  :                 case 0x01:
; 301  :                     pucData = (UCHAR *)&gs_Manufacturer;

  000b8	e59f3084	 ldr         r3, [pc, #0x84]

; 302  :                     wLength = gs_Manufacturer.ucbLength;

  000bc	e3a01016	 mov         r1, #0x16
  000c0	e2833028	 add         r3, r3, #0x28

; 303  :                     break;

  000c4	ea00000a	 b           |$LN13@PDD_GetDes|
  000c8		 |$LN7@PDD_GetDes|

; 295  :                 case 0x00:
; 296  :                     pucData = (UCHAR *)gs_pucSupportedLanguage;

  000c8	e59f3074	 ldr         r3, [pc, #0x74]

; 297  :                     wLength = gs_pucSupportedLanguage[0];

  000cc	e3a01004	 mov         r1, #4

; 319  :             }
; 320  :             break;

  000d0	ea000007	 b           |$LN13@PDD_GetDes|
  000d4		 |$LN11@PDD_GetDes|

; 286  :             break;
; 287  : 
; 288  :         case USB_CONFIGURATION_DESCRIPTOR_TYPE:
; 289  :             pucData = (UCHAR *)&gs_pucUSBDescriptors[iCONF];

  000d4	e59f3068	 ldr         r3, [pc, #0x68]

; 290  :             wLength = CFGLEN;;

  000d8	e3a0103e	 mov         r1, #0x3E
  000dc	e2833f8e	 add         r3, r3, #0x8E, 30
  000e0	e2833012	 add         r3, r3, #0x12

; 291  :             break;

  000e4	ea000002	 b           |$LN13@PDD_GetDes|
  000e8		 |$LN12@PDD_GetDes|

; 283  :         case USB_DEVICE_DESCRIPTOR_TYPE:
; 284  :             pucData = (UCHAR *)gs_pucUSBDescriptors;

  000e8	e59f3054	 ldr         r3, [pc, #0x54]

; 285  :             wLength = gs_pucUSBDescriptors[0];

  000ec	e3a01012	 mov         r1, #0x12
  000f0	e2833f8e	 add         r3, r3, #0x8E, 30
  000f4		 |$LN13@PDD_GetDes|

; 325  :             break;
; 326  :     }
; 327  : 
; 328  :     if (fRet) {
; 329  :         pRequest->eDir = EP0In;

  000f4	e3a02002	 mov         r2, #2
  000f8	e88e000c	 stmia       lr, {r2, r3}

; 330  :         pRequest->pucData = pucData;
; 331  :         pRequest->dwExpectedSize = pUdr->wLength;

  000fc	e5d42006	 ldrb        r2, [r4, #6]
  00100	e5d43007	 ldrb        r3, [r4, #7]
  00104	e1823403	 orr         r3, r2, r3, lsl #8
  00108	e58e3008	 str         r3, [lr, #8]

; 332  :         pRequest->dwActualSize = min(wLength, pUdr->wLength);

  0010c	e5d42006	 ldrb        r2, [r4, #6]
  00110	e5d43007	 ldrb        r3, [r4, #7]
  00114	e1823403	 orr         r3, r2, r3, lsl #8
  00118	e1510003	 cmp         r1, r3
  0011c	25d42006	 ldrcsb      r2, [r4, #6]
  00120	31a03001	 movcc       r3, r1
  00124	25d43007	 ldrcsb      r3, [r4, #7]
  00128	21823403	 orrcs       r3, r2, r3, lsl #8

; 333  :         pRequest->pfnNotification = NULL;       // notification not required

  0012c	e3a02000	 mov         r2, #0
  00130	e58e2010	 str         r2, [lr, #0x10]

; 334  :         pRequest->pvUser = NULL;

  00134	e58e2014	 str         r2, [lr, #0x14]
  00138	e58e300c	 str         r3, [lr, #0xC]

; 335  :     }
; 336  :     return fRet;
; 337  : }

  0013c	e8bd4010	 ldmia       sp!, {r4, lr}
  00140	e12fff1e	 bx          lr
  00144		 |$LN28@PDD_GetDes|
  00144		 |$LN29@PDD_GetDes|
  00144	00000000	 DCD         |gs_pucSupportedLanguage|
  00148		 |$LN30@PDD_GetDes|
  00148	00000000	 DCD         |gs_SerialNumber|
  0014c		 |$LN31@PDD_GetDes|
  0014c	00000000	 DCD         |??_C@_1DM@FCMMONGE@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAS?$AAT?$AAR?$AAI?$AAN?$AAG?$AA?5?$AAi?$AAn?$AAd?$AAe?$AAx?$AA?5?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00150		 |$LN32@PDD_GetDes|
  00150	00000000	 DCD         |dpCurSettings|
  00154		 |$LN33@PDD_GetDes|
  00154	00000000	 DCD         |??_C@_1FE@MMFBADFF@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAG?$AAE?$AAT?$AA_?$AAD?$AAE?$AAS?$AAC?$AAR?$AAI?$AAP?$AAT?$AAO?$AAR?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe@|
  00158		 |$M44496|

			 ENDP  ; |PDD_GetDescriptor|

	EXPORT	|PDD_DoVendorCommand|

  00000			 AREA	 |.pdata|, PDATA
|$T44521| DCD	|$LN15@PDD_DoVend|
	DCD	0x40004701
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_DoVendorCommand| PROC

; 342  : {

  00000		 |$LN15@PDD_DoVend|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M44518|
  00004	e1a04001	 mov         r4, r1

; 343  :     BOOL fRet = TRUE;
; 344  : 
; 345  :     //
; 346  :     // RNDIS spec:: we should only be getting:
; 347  :     // - SEND_ENCAPSULATED_COMMAND  or
; 348  :     // - GET_ENCAPSULATED_RESPONSE.
; 349  :     // So let's just look for these two, and bail out if it does
; 350  :     //not match..
; 351  :     //
; 352  :     switch (pUdr->bRequest) {

  00008	e5d03001	 ldrb        r3, [r0, #1]
  0000c	e3a05001	 mov         r5, #1
  00010	e3530000	 cmp         r3, #0
  00014	0a000028	 beq         |$LN5@PDD_DoVend|
  00018	e3530001	 cmp         r3, #1

; 391  : 
; 392  :         default:
; 393  :             fRet = FALSE;

  0001c	13a05000	 movne       r5, #0
  00020	1a000036	 bne         |$LN6@PDD_DoVend|
  00024	e59fe0e4	 ldr         lr, [pc, #0xE4]
  00028	e3a03002	 mov         r3, #2
  0002c	e5843000	 str         r3, [r4]
  00030	e59e6434	 ldr         r6, [lr, #0x434]
  00034	e28e3b01	 add         r3, lr, #1, 22
  00038	e2833034	 add         r3, r3, #0x34
  0003c	e1560003	 cmp         r6, r3
  00040	0a000012	 beq         |$LN3@PDD_DoVend|
  00044	e5962000	 ldr         r2, [r6]
  00048	e28e3b01	 add         r3, lr, #1, 22
  0004c	e2833034	 add         r3, r3, #0x34
  00050	e5823004	 str         r3, [r2, #4]
  00054	e5963000	 ldr         r3, [r6]
  00058	e59f10b8	 ldr         r1, [pc, #0xB8]
  0005c	e58e3434	 str         r3, [lr, #0x434]
  00060	e5963008	 ldr         r3, [r6, #8]
  00064	e5843004	 str         r3, [r4, #4]
  00068	e5d02006	 ldrb        r2, [r0, #6]
  0006c	e5d03007	 ldrb        r3, [r0, #7]
  00070	e1823403	 orr         r3, r2, r3, lsl #8
  00074	e5843008	 str         r3, [r4, #8]
  00078	e596300c	 ldr         r3, [r6, #0xC]
  0007c	e5841010	 str         r1, [r4, #0x10]
  00080	e5846014	 str         r6, [r4, #0x14]
  00084	e584300c	 str         r3, [r4, #0xC]
  00088	e58e6430	 str         r6, [lr, #0x430]
  0008c	ea00001b	 b           |$LN6@PDD_DoVend|
  00090		 |$LN3@PDD_DoVend|

; 360  :             break;
; 361  : 
; 362  :         case GET_ENCAPSULATED_RESPONSE:
; 363  :             pRequest->eDir = EP0In;
; 364  :             if (!IsListEmpty(&(g_RndisKitlDev.listTxRndisMessageQueue))) {
; 365  :                 PLIST_ENTRY pLink;
; 366  :                 PDATA_WRAPPER pDataWrapper;
; 367  : 
; 368  :                 pLink = RemoveHeadList(&(g_RndisKitlDev.listTxRndisMessageQueue));
; 369  :                 pDataWrapper = CONTAINING_RECORD(pLink, DATA_WRAPPER, Link);
; 370  :                 //KITLDEBUGMSG(MDDZONE, ("<0x%X\r\n", pDataWrapper));
; 371  :                 pRequest->pucData = pDataWrapper->pucData;
; 372  :                 pRequest->dwExpectedSize = pUdr->wLength;
; 373  :                 pRequest->dwActualSize = pDataWrapper->dwDataSize;
; 374  :                 pRequest->pfnNotification = PDD_SendNotification;
; 375  :                 pRequest->pvUser = pDataWrapper;
; 376  : 
; 377  :                 g_RndisKitlDev.pEP0DataWrapper = pDataWrapper;
; 378  :             } else {
; 379  :                 //
; 380  :                 // RNDIS spec says if we have no data to send then 
; 381  :                 // send one byte packet set to 00 instead of stalling the 
; 382  :                 // pipe.
; 383  :                 //
; 384  :                 pRequest->pucData = &g_ucScratch;

  00090	e59f307c	 ldr         r3, [pc, #0x7C]

; 385  :                 pRequest->dwActualSize = sizeof(UCHAR);

  00094	e3a02001	 mov         r2, #1
  00098	e584200c	 str         r2, [r4, #0xC]
  0009c	e5843004	 str         r3, [r4, #4]

; 386  :                 pRequest->dwExpectedSize = pUdr->wLength;

  000a0	e5d02006	 ldrb        r2, [r0, #6]
  000a4	e5d03007	 ldrb        r3, [r0, #7]

; 387  :                 pRequest->pfnNotification = NULL;

  000a8	e3a01000	 mov         r1, #0

; 388  :                 pRequest->pvUser = NULL;

  000ac	e5841014	 str         r1, [r4, #0x14]
  000b0	e1823403	 orr         r3, r2, r3, lsl #8
  000b4	e5843008	 str         r3, [r4, #8]

; 389  :             }
; 390  :             break;

  000b8	ea00000f	 b           |$LN12@PDD_DoVend|
  000bc		 |$LN5@PDD_DoVend|

; 353  :         case SEND_ENCAPSULATED_COMMAND:
; 354  :             pRequest->eDir = EP0Out;
; 355  :             pRequest->pucData = (UCHAR *)(g_RndisKitlDev.EP0RxBuffer);

  000bc	e59fe04c	 ldr         lr, [pc, #0x4C]
  000c0	e3a03001	 mov         r3, #1
  000c4	e5843000	 str         r3, [r4]
  000c8	e28e3020	 add         r3, lr, #0x20
  000cc	e5843004	 str         r3, [r4, #4]

; 356  :             pRequest->dwExpectedSize = pUdr->wLength;

  000d0	e5d02006	 ldrb        r2, [r0, #6]
  000d4	e5d03007	 ldrb        r3, [r0, #7]

; 357  :             pRequest->dwActualSize = pUdr->wLength;
; 358  :             pRequest->pfnNotification = PDD_RecvNotification;

  000d8	e59f102c	 ldr         r1, [pc, #0x2C]

; 359  :             pRequest->pvUser = &(g_RndisKitlDev.EP0DataWrapper);

  000dc	e28eee42	 add         lr, lr, #0x42, 28
  000e0	e1823403	 orr         r3, r2, r3, lsl #8
  000e4	e5843008	 str         r3, [r4, #8]
  000e8	e5d02006	 ldrb        r2, [r0, #6]
  000ec	e5d03007	 ldrb        r3, [r0, #7]
  000f0	e584e014	 str         lr, [r4, #0x14]
  000f4	e1823403	 orr         r3, r2, r3, lsl #8
  000f8	e584300c	 str         r3, [r4, #0xC]
  000fc		 |$LN12@PDD_DoVend|
  000fc	e5841010	 str         r1, [r4, #0x10]
  00100		 |$LN6@PDD_DoVend|

; 394  :             break;
; 395  :     }
; 396  :     return fRet;
; 397  : }

  00100	e1a00005	 mov         r0, r5
  00104	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00108	e12fff1e	 bx          lr
  0010c		 |$LN16@PDD_DoVend|
  0010c		 |$LN17@PDD_DoVend|
  0010c	00000000	 DCD         |PDD_RecvNotification|
  00110		 |$LN18@PDD_DoVend|
  00110	00000000	 DCD         |g_RndisKitlDev|
  00114		 |$LN19@PDD_DoVend|
  00114	00000000	 DCD         |g_ucScratch|
  00118		 |$LN20@PDD_DoVend|
  00118	00000000	 DCD         |PDD_SendNotification|
  0011c		 |$M44519|

			 ENDP  ; |PDD_DoVendorCommand|

	EXPORT	|SetupEP1Transfer|
	EXPORT	|??_C@_1CK@OLHEFDLK@?$AAN?$AAo?$AA?5?$AAm?$AAe?$AAm?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAR?$AAX?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@FELDACDH@?$AAN?$AAo?$AA?5?$AAm?$AAe?$AAm?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAR?$AAX?$AA?5?$AAD?$AAa?$AAt?$AAa?$AAW?$AAr?$AAa?$AAp?$AAp?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|MDDFreeDataWrapper|
	IMPORT	|MDDAllocMem|
	IMPORT	|MDDAllocDataWrapper|

  00000			 AREA	 |.pdata|, PDATA
|$T44537| DCD	|$LN12@SetupEP1Tr|
	DCD	0x40004401

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@OLHEFDLK@?$AAN?$AAo?$AA?5?$AAm?$AAe?$AAm?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAR?$AAX?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?$AN?$AA?6?$AA?$AA@| DCB "N"
	DCB	0x0, "o", 0x0, " ", 0x0, "m", 0x0, "e", 0x0, "m", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "R", 0x0, "X"
	DCB	0x0, " ", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "a", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@FELDACDH@?$AAN?$AAo?$AA?5?$AAm?$AAe?$AAm?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAR?$AAX?$AA?5?$AAD?$AAa?$AAt?$AAa?$AAW?$AAr?$AAa?$AAp?$AAp?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| DCB "N"
	DCB	0x0, "o", 0x0, " ", 0x0, "m", 0x0, "e", 0x0, "m", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "R", 0x0, "X"
	DCB	0x0, " ", 0x0, "D", 0x0, "a", 0x0, "t", 0x0, "a", 0x0, "W"
	DCB	0x0, "r", 0x0, "a", 0x0, "p", 0x0, "p", 0x0, "e", 0x0, "r"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |SetupEP1Transfer| PROC

; 401  : {

  00000		 |$LN12@SetupEP1Tr|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M44534|

; 402  :     // allocate data transfer for EP1
; 403  :     if (!g_pEP1DataWrapper) {

  00004	e59f4100	 ldr         r4, [pc, #0x100]
  00008	e5941000	 ldr         r1, [r4]
  0000c	e3510000	 cmp         r1, #0
  00010	1a000020	 bne         |$LN3@SetupEP1Tr|

; 404  :         g_pEP1DataWrapper = MDDAllocDataWrapper();

  00014	eb000000	 bl          MDDAllocDataWrapper
  00018	e3500000	 cmp         r0, #0
  0001c	e5840000	 str         r0, [r4]

; 405  :         if (!g_pEP1DataWrapper) {

  00020	1a000007	 bne         |$LN2@SetupEP1Tr|

; 406  :             OALMSG(OAL_ERROR, (L"No mem for RX DataWrapper\r\n"));

  00024	e59f30d8	 ldr         r3, [pc, #0xD8]
  00028	e5933440	 ldr         r3, [r3, #0x440]
  0002c	e3130001	 tst         r3, #1
  00030	0a00002e	 beq         |$LN4@SetupEP1Tr|
  00034	e59f00cc	 ldr         r0, [pc, #0xCC]
  00038	eb000000	 bl          NKDbgPrintfW

; 429  : }

  0003c	e8bd4010	 ldmia       sp!, {r4, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$LN2@SetupEP1Tr|

; 407  :             return;
; 408  :         }
; 409  : 
; 410  :         g_pEP1DataWrapper->pucData = MDDAllocMem();

  00044	eb000000	 bl          MDDAllocMem
  00048	e5943000	 ldr         r3, [r4]
  0004c	e5830008	 str         r0, [r3, #8]

; 411  :         if (!g_pEP1DataWrapper->pucData) {

  00050	e5942000	 ldr         r2, [r4]
  00054	e5923008	 ldr         r3, [r2, #8]
  00058	e3530000	 cmp         r3, #0
  0005c	1a00000a	 bne         |$LN1@SetupEP1Tr|

; 412  :             OALMSG(OAL_ERROR, (L"No mem for RX data\r\n"));

  00060	e59f309c	 ldr         r3, [pc, #0x9C]
  00064	e5933440	 ldr         r3, [r3, #0x440]
  00068	e3130001	 tst         r3, #1
  0006c	0a000002	 beq         |$LN8@SetupEP1Tr|
  00070	e59f0088	 ldr         r0, [pc, #0x88]
  00074	eb000000	 bl          NKDbgPrintfW
  00078	e5942000	 ldr         r2, [r4]
  0007c		 |$LN8@SetupEP1Tr|

; 413  :             MDDFreeDataWrapper(g_pEP1DataWrapper);

  0007c	e1a00002	 mov         r0, r2
  00080	eb000000	 bl          MDDFreeDataWrapper

; 429  : }

  00084	e8bd4010	 ldmia       sp!, {r4, lr}
  00088	e12fff1e	 bx          lr
  0008c		 |$LN1@SetupEP1Tr|

; 414  :             return;
; 415  :         }
; 416  :         g_pEP1DataWrapper->dwDataSize = MAX_INCOMING_BUFFER;

  0008c	e3a03a02	 mov         r3, #2, 20
  00090	e582300c	 str         r3, [r2, #0xC]
  00094	e5941000	 ldr         r1, [r4]
  00098		 |$LN3@SetupEP1Tr|

; 417  :     }
; 418  : 
; 419  :     // g_EP1Transfer.dwCallerPermissions;
; 420  :     g_EP1Transfer.pvBuffer = g_pEP1DataWrapper->pucData;

  00098	e59f205c	 ldr         r2, [pc, #0x5C]
  0009c	e5913008	 ldr         r3, [r1, #8]

; 421  :     // g_EP1Transfer.dwBufferPhysicalAddress; // not used
; 422  :     g_EP1Transfer.cbBuffer = g_pEP1DataWrapper->dwDataSize;
; 423  :     g_EP1Transfer.cbTransferred = 0;
; 424  :     g_EP1Transfer.dwUsbError = UFN_NOT_COMPLETE_ERROR; // Possible values are in usbfntypes.h
; 425  :     g_EP1Transfer.pvPddData = NULL;
; 426  :     g_EP1Transfer.pvPddTransferInfo = NULL;
; 427  :     g_EP1Transfer.dwFlags = 0;
; 428  :     g_pddInterface.pfnIssueTransfer( g_pddInterface.pvPddContext, 1, &g_EP1Transfer );

  000a0	e3a04c01	 mov         r4, #1, 24
  000a4	e3a00000	 mov         r0, #0
  000a8	e5823004	 str         r3, [r2, #4]
  000ac	e591300c	 ldr         r3, [r1, #0xC]
  000b0	e3841003	 orr         r1, r4, #3
  000b4	e59fe03c	 ldr         lr, [pc, #0x3C]
  000b8	e582300c	 str         r3, [r2, #0xC]
  000bc	e5820010	 str         r0, [r2, #0x10]
  000c0	e5821014	 str         r1, [r2, #0x14]
  000c4	e3a01000	 mov         r1, #0
  000c8	e5821018	 str         r1, [r2, #0x18]
  000cc	e3a01000	 mov         r1, #0
  000d0	e582101c	 str         r1, [r2, #0x1C]
  000d4	e3a01000	 mov         r1, #0
  000d8	e59e000c	 ldr         r0, [lr, #0xC]
  000dc	e59e3030	 ldr         r3, [lr, #0x30]
  000e0	e5821000	 str         r1, [r2]
  000e4	e3a01001	 mov         r1, #1
  000e8	e1a0e00f	 mov         lr, pc
  000ec	e12fff13	 bx          r3
  000f0		 |$LN4@SetupEP1Tr|

; 429  : }

  000f0	e8bd4010	 ldmia       sp!, {r4, lr}
  000f4	e12fff1e	 bx          lr
  000f8		 |$LN13@SetupEP1Tr|
  000f8		 |$LN14@SetupEP1Tr|
  000f8	00000000	 DCD         |g_pddInterface|
  000fc		 |$LN15@SetupEP1Tr|
  000fc	00000000	 DCD         |g_EP1Transfer|
  00100		 |$LN16@SetupEP1Tr|
  00100	00000000	 DCD         |??_C@_1CK@OLHEFDLK@?$AAN?$AAo?$AA?5?$AAm?$AAe?$AAm?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAR?$AAX?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?$AN?$AA?6?$AA?$AA@|
  00104		 |$LN17@SetupEP1Tr|
  00104	00000000	 DCD         |dpCurSettings|
  00108		 |$LN18@SetupEP1Tr|
  00108	00000000	 DCD         |??_C@_1DI@FELDACDH@?$AAN?$AAo?$AA?5?$AAm?$AAe?$AAm?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAR?$AAX?$AA?5?$AAD?$AAa?$AAt?$AAa?$AAW?$AAr?$AAa?$AAp?$AAp?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@|
  0010c		 |$LN19@SetupEP1Tr|
  0010c	00000000	 DCD         |g_pEP1DataWrapper|
  00110		 |$M44535|

			 ENDP  ; |SetupEP1Transfer|

	EXPORT	|HandleSetupPacket|
	EXPORT	|??_C@_1CK@OFGGHINF@?$AA?9?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAS?$AAe?$AAt?$AAu?$AAp?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DG@HDGBABFG@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FI@GLILKAEG@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAG?$AAE?$AAT?$AA_?$AAD?$AAE?$AAS?$AAC?$AAR?$AAI?$AAP?$AAT?$AAO?$AAR?$AA?5?$AAr?$AAe?$AAq@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@NANJHOKH@?$AA?$CK?$AA?$CK?$AA?$CK?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAT?$AAy?$AAp?$AAe?$AA?$DN?$AA?$DN?$AA0?$AAx?$AA0?$AA2?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@MDAODOFD@?$AA?$CK?$AA?$CK?$AA?$CK?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAT?$AAy?$AAp?$AAe?$AA?$DN?$AA?$DN?$AA0?$AAx?$AA8?$AA2?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EM@PLFMLLKO@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAv?$AAe?$AAr?$AAn?$AAd?$AAo?$AAr?$AA?5?$AAc?$AAo?$AAm?$AAm?$AAa?$AAn?$AAd?$AA?5?$AA0@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CK@JFBBGODD@?$AA?$CL?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAS?$AAe?$AAt?$AAu?$AAp?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|OALStall|

  00000			 AREA	 |.pdata|, PDATA
|$T44589| DCD	|$LN61@HandleSetu|
	DCD	0x40007301

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@OFGGHINF@?$AA?9?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAS?$AAe?$AAt?$AAu?$AAp?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "S", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "p", 0x0, "P"
	DCB	0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@HDGBABFG@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, " ", 0x0, "U", 0x0, "n", 0x0, "k"
	DCB	0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@GLILKAEG@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAG?$AAE?$AAT?$AA_?$AAD?$AAE?$AAS?$AAC?$AAR?$AAI?$AAP?$AAT?$AAO?$AAR?$AA?5?$AAr?$AAe?$AAq@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, " ", 0x0, "U", 0x0, "n", 0x0, "H"
	DCB	0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "G", 0x0, "E", 0x0, "T", 0x0, "_", 0x0, "D"
	DCB	0x0, "E", 0x0, "S", 0x0, "C", 0x0, "R", 0x0, "I", 0x0, "P"
	DCB	0x0, "T", 0x0, "O", 0x0, "R", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t", 0x0, ":"
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@NANJHOKH@?$AA?$CK?$AA?$CK?$AA?$CK?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAT?$AAy?$AAp?$AAe?$AA?$DN?$AA?$DN?$AA0?$AAx?$AA0?$AA2?$AA?$AN?$AA?6?$AA?$AA@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, "R", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, "T", 0x0, "y", 0x0, "p"
	DCB	0x0, "e", 0x0, "=", 0x0, "=", 0x0, "0", 0x0, "x", 0x0, "0"
	DCB	0x0, "2", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@MDAODOFD@?$AA?$CK?$AA?$CK?$AA?$CK?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAT?$AAy?$AAp?$AAe?$AA?$DN?$AA?$DN?$AA0?$AAx?$AA8?$AA2?$AA?$AN?$AA?6?$AA?$AA@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, "R", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, "T", 0x0, "y", 0x0, "p"
	DCB	0x0, "e", 0x0, "=", 0x0, "=", 0x0, "0", 0x0, "x", 0x0, "8"
	DCB	0x0, "2", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EM@PLFMLLKO@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAv?$AAe?$AAr?$AAn?$AAd?$AAo?$AAr?$AA?5?$AAc?$AAo?$AAm?$AAm?$AAa?$AAn?$AAd?$AA?5?$AA0@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, "*", 0x0, " ", 0x0, "U", 0x0, "n"
	DCB	0x0, "h", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, "n"
	DCB	0x0, "d", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "o"
	DCB	0x0, "m", 0x0, "m", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@JFBBGODD@?$AA?$CL?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAS?$AAe?$AAt?$AAu?$AAp?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "S", 0x0, "e", 0x0, "t", 0x0, "u", 0x0, "p", 0x0, "P"
	DCB	0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |HandleSetupPacket| PROC

; 433  : {

  00000		 |$LN61@HandleSetu|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M44586|
  00004	e1a04001	 mov         r4, r1
  00008	e1a05000	 mov         r5, r0

; 434  :     BOOL rc = TRUE;
; 435  :     
; 436  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+HandleSetupPacket\r\n"));

  0000c	e59f61b4	 ldr         r6, [pc, #0x1B4]
  00010	e5963440	 ldr         r3, [r6, #0x440]
  00014	e3130a02	 tst         r3, #2, 20
  00018	13130004	 tstne       r3, #4
  0001c	159f01a0	 ldrne       r0, [pc, #0x1A0]
  00020	1b000000	 blne        NKDbgPrintfW

; 437  :     
; 438  :     if (pUdr->bmRequestType & (USB_REQUEST_CLASS | USB_REQUEST_VENDOR)) {

  00024	e5d53000	 ldrb        r3, [r5]
  00028	e3130060	 tst         r3, #0x60
  0002c	0a000011	 beq         |$LN22@HandleSetu|

; 439  :         if (PDD_DoVendorCommand(pUdr, pRequest)) {

  00030	e1a01004	 mov         r1, r4
  00034	e1a00005	 mov         r0, r5
  00038	eb000000	 bl          PDD_DoVendorCommand
  0003c	e3500000	 cmp         r0, #0
  00040	1a000050	 bne         |$ErrorReturn$44014|

; 440  :             // do nothing
; 441  :         } else {
; 442  :             OALMSG(OAL_ERROR, (
; 443  :                 L"**** Unhandled verndor command 0x%x\r\n", pUdr->bRequest
; 444  :             ));

  00044	e5963440	 ldr         r3, [r6, #0x440]
  00048	e3130001	 tst         r3, #1
  0004c	15d51001	 ldrneb      r1, [r5, #1]
  00050	159f0168	 ldrne       r0, [pc, #0x168]
  00054	1b000000	 blne        NKDbgPrintfW

; 445  :             pRequest->eDir = EP0Setup;

  00058	e3a03000	 mov         r3, #0
  0005c	e5843000	 str         r3, [r4]

; 446  :             pRequest->pucData = NULL;

  00060	e5843004	 str         r3, [r4, #4]

; 447  :             pRequest->dwExpectedSize = 0;

  00064	e5843008	 str         r3, [r4, #8]

; 448  :             pRequest->dwActualSize = 0;

  00068	e584300c	 str         r3, [r4, #0xC]

; 449  :             pRequest->pfnNotification = NULL;

  0006c	e5843010	 str         r3, [r4, #0x10]

; 450  :             pRequest->pvUser = NULL;

  00070	e5843014	 str         r3, [r4, #0x14]

; 451  :         }
; 452  :         goto ErrorReturn;

  00074	ea000043	 b           |$ErrorReturn$44014|
  00078		 |$LN22@HandleSetu|

; 453  :     }
; 454  : 
; 455  :     // standard chapter 9 commands
; 456  :     pRequest->eDir = EP0Setup;

  00078	e3a03000	 mov         r3, #0
  0007c	e5843000	 str         r3, [r4]

; 457  :     pRequest->pucData = NULL;

  00080	e5843004	 str         r3, [r4, #4]

; 458  :     pRequest->dwExpectedSize = 0;

  00084	e5843008	 str         r3, [r4, #8]

; 459  :     pRequest->dwActualSize = 0;

  00088	e584300c	 str         r3, [r4, #0xC]

; 460  :     pRequest->pfnNotification = NULL;

  0008c	e5843010	 str         r3, [r4, #0x10]

; 461  :     pRequest->pvUser = NULL;

  00090	e5843014	 str         r3, [r4, #0x14]

; 462  : 
; 463  :     switch(pUdr->bRequest) {

  00094	e5d51001	 ldrb        r1, [r5, #1]
  00098	e351000c	 cmp         r1, #0xC
  0009c	8a000034	 bhi         |$LN1@HandleSetu|
  000a0	e28f3004	 add         r3, pc, #4
  000a4	e7d33001	 ldrb        r3, [r3, +r1]
  000a8	e08ff003	 add         pc, pc, r3
  000ac		 |$LN45@HandleSetu|
  000ac		 |$LN44@HandleSetu|
  000ac		 |$LN46@HandleSetu|
  000ac	0ced		 DCB         0xc
  000ad		 |$LN47@HandleSetu|
  000ad	30ed		 DCB         0x30
  000ae		 |$LN48@HandleSetu|
  000ae	c4ed		 DCB         0xc4
  000af		 |$LN49@HandleSetu|
  000af	30ed		 DCB         0x30
  000b0		 |$LN50@HandleSetu|
  000b0	c4ed		 DCB         0xc4
  000b1		 |$LN51@HandleSetu|
  000b1	54ed		 DCB         0x54
  000b2		 |$LN52@HandleSetu|
  000b2	7ced		 DCB         0x7c
  000b3		 |$LN53@HandleSetu|
  000b3	d8ed		 DCB         0xd8
  000b4		 |$LN54@HandleSetu|
  000b4	d8ed		 DCB         0xd8
  000b5		 |$LN55@HandleSetu|
  000b5	b0ed		 DCB         0xb0
  000b6		 |$LN56@HandleSetu|
  000b6	d8ed		 DCB         0xd8
  000b7		 |$LN57@HandleSetu|
  000b7	d8ed		 DCB         0xd8
  000b8		 |$LN58@HandleSetu|
  000b8	d8ed		 DCB         0xd8
  000b9		 |$LN72@HandleSetu|

; 538  : }

  000b9	d8ed		 DCB         0xd8
  000ba		 |$LN73@HandleSetu|
  000ba	d8ed		 DCB         0xd8
  000bb		 |$LN74@HandleSetu|
  000bb	d8ed		 DCB         0xd8
  000bc		 |$LN17@HandleSetu|

; 464  :         case USB_REQUEST_GET_STATUS:
; 465  :             if (pUdr->bmRequestType == 0x82) {

  000bc	e5d53000	 ldrb        r3, [r5]
  000c0	e3530082	 cmp         r3, #0x82
  000c4	1a00002f	 bne         |$ErrorReturn$44014|
  000c8	e5963440	 ldr         r3, [r6, #0x440]

; 466  :                 // Not currently handled...
; 467  :                 OALMSG(OAL_WARN, (L"***RequestType==0x82\r\n"));

  000cc	e3130002	 tst         r3, #2
  000d0	0a00002c	 beq         |$ErrorReturn$44014|
  000d4	e59f00e0	 ldr         r0, [pc, #0xE0]
  000d8	eb000000	 bl          NKDbgPrintfW

; 468  :                 // check for the stall bit
; 469  :             }
; 470  :             break;

  000dc	ea000029	 b           |$ErrorReturn$44014|
  000e0		 |$LN15@HandleSetu|

; 471  : 
; 472  :         case USB_REQUEST_CLEAR_FEATURE:
; 473  :             if (pUdr->bmRequestType == 0x02) {

  000e0	e5d53000	 ldrb        r3, [r5]
  000e4	e3530002	 cmp         r3, #2
  000e8	1a000026	 bne         |$ErrorReturn$44014|
  000ec	e5963440	 ldr         r3, [r6, #0x440]

; 474  :                 // Not currently handled...
; 475  :                 OALMSG(OAL_WARN, (L"***RequestType==0x02\r\n"));

  000f0	e3130002	 tst         r3, #2
  000f4	0a000023	 beq         |$ErrorReturn$44014|
  000f8	e59f00b8	 ldr         r0, [pc, #0xB8]
  000fc	eb000000	 bl          NKDbgPrintfW
  00100	ea000020	 b           |$ErrorReturn$44014|
  00104		 |$LN11@HandleSetu|

; 476  :             }
; 477  :             break;
; 478  : 
; 479  :         case USB_REQUEST_SET_FEATURE:
; 480  :             if (pUdr->bmRequestType == 0x02) {
; 481  :                 // Not currently handled...
; 482  :                 OALMSG(OAL_WARN, (L"***RequestType==0x02\r\n"));
; 483  :             }
; 484  :             break;
; 485  : 
; 486  :         case USB_REQUEST_SET_ADDRESS:
; 487  :             g_pddInterface.pfnSetAddress( g_pddInterface.pvPddContext, (UCHAR)pUdr->wValue );

  00104	e5d52002	 ldrb        r2, [r5, #2]
  00108	e5d53003	 ldrb        r3, [r5, #3]
  0010c	e59f10a0	 ldr         r1, [pc, #0xA0]
  00110	e1822403	 orr         r2, r2, r3, lsl #8
  00114	e5913048	 ldr         r3, [r1, #0x48]
  00118	e591000c	 ldr         r0, [r1, #0xC]
  0011c	e20210ff	 and         r1, r2, #0xFF
  00120	e1a0e00f	 mov         lr, pc
  00124	e12fff13	 bx          r3

; 488  :             break;

  00128	ea000016	 b           |$ErrorReturn$44014|
  0012c		 |$LN10@HandleSetu|

; 489  : 
; 490  :         case USB_REQUEST_GET_DESCRIPTOR:
; 491  :             if (PDD_GetDescriptor(pUdr, pRequest)) {

  0012c	e1a01004	 mov         r1, r4
  00130	e1a00005	 mov         r0, r5
  00134	eb000000	 bl          PDD_GetDescriptor
  00138	e3500000	 cmp         r0, #0
  0013c	1a000011	 bne         |$ErrorReturn$44014|
  00140	e5963440	 ldr         r3, [r6, #0x440]

; 492  :                 // do nothing
; 493  :             } else {
; 494  :                 OALMSG(OAL_ERROR, (
; 495  :                     L"*** UnHandled GET_DESCRIPTOR request:0x%x\r\n",
; 496  :                     pUdr->wValue
; 497  :                 ));

  00144	e3130001	 tst         r3, #1
  00148	0a00000e	 beq         |$ErrorReturn$44014|
  0014c	e5d52002	 ldrb        r2, [r5, #2]
  00150	e5d53003	 ldrb        r3, [r5, #3]
  00154	e59f0054	 ldr         r0, [pc, #0x54]
  00158	e1821403	 orr         r1, r2, r3, lsl #8

; 498  :             }
; 499  :             break;

  0015c	ea000008	 b           |$LN42@HandleSetu|
  00160		 |$LN5@HandleSetu|
  00160	e3a03c13	 mov         r3, #0x13, 24

; 500  : 
; 501  :         case USB_REQUEST_SET_DESCRIPTOR:
; 502  :             // Not currently handled...
; 503  :             break;
; 504  : 
; 505  :         case USB_REQUEST_GET_CONFIGURATION:
; 506  :             // Not currently handled...
; 507  :             break;
; 508  : 
; 509  :         case USB_REQUEST_SET_CONFIGURATION:
; 510  :             OALStall(5000);

  00164	e3830088	 orr         r0, r3, #0x88
  00168	eb000000	 bl          OALStall

; 511  :             // setup RX transfer on EP1
; 512  :             SetupEP1Transfer();

  0016c	eb000000	 bl          SetupEP1Transfer

; 513  :             ////pDev->ucConfigValue = (BYTE)pUdr->wValue;
; 514  :             break;

  00170	ea000004	 b           |$ErrorReturn$44014|
  00174		 |$LN1@HandleSetu|

; 451  :         }
; 452  :         goto ErrorReturn;

  00174	e5963440	 ldr         r3, [r6, #0x440]

; 515  : 
; 516  :         case USB_REQUEST_GET_INTERFACE:
; 517  :             // Not currently handled...
; 518  :             break;
; 519  : 
; 520  :         case USB_REQUEST_SET_INTERFACE:
; 521  :             // Not currently handled...
; 522  :             break;
; 523  : 
; 524  :         case USB_REQUEST_SYNC_FRAME:
; 525  :             // Not currently handled...
; 526  :             break;
; 527  : 
; 528  :         default:
; 529  :             OALMSG(OAL_WARN, (
; 530  :                 L"*** Unknown request 0x%x\r\n", pUdr->bRequest
; 531  :             ));

  00178	e3130002	 tst         r3, #2
  0017c	0a000001	 beq         |$ErrorReturn$44014|
  00180	e59f0024	 ldr         r0, [pc, #0x24]
  00184		 |$LN42@HandleSetu|
  00184	eb000000	 bl          NKDbgPrintfW
  00188		 |$ErrorReturn$44014|
  00188	e5963440	 ldr         r3, [r6, #0x440]

; 532  :     }
; 533  : 
; 534  : ErrorReturn:
; 535  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-HandleSetupPacket\r\n"));

  0018c	e3130a02	 tst         r3, #2, 20
  00190	13130004	 tstne       r3, #4
  00194	159f000c	 ldrne       r0, [pc, #0xC]
  00198	1b000000	 blne        NKDbgPrintfW

; 536  :     
; 537  :     return rc;

  0019c	e3a00001	 mov         r0, #1

; 538  : }

  001a0	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  001a4	e12fff1e	 bx          lr
  001a8		 |$LN62@HandleSetu|
  001a8		 |$LN63@HandleSetu|
  001a8	00000000	 DCD         |??_C@_1CK@OFGGHINF@?$AA?9?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAS?$AAe?$AAt?$AAu?$AAp?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  001ac		 |$LN64@HandleSetu|
  001ac	00000000	 DCD         |??_C@_1DG@HDGBABFG@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  001b0		 |$LN65@HandleSetu|
  001b0	00000000	 DCD         |??_C@_1FI@GLILKAEG@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAG?$AAE?$AAT?$AA_?$AAD?$AAE?$AAS?$AAC?$AAR?$AAI?$AAP?$AAT?$AAO?$AAR?$AA?5?$AAr?$AAe?$AAq@|
  001b4		 |$LN66@HandleSetu|
  001b4	00000000	 DCD         |g_pddInterface|
  001b8		 |$LN67@HandleSetu|
  001b8	00000000	 DCD         |??_C@_1CO@NANJHOKH@?$AA?$CK?$AA?$CK?$AA?$CK?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAT?$AAy?$AAp?$AAe?$AA?$DN?$AA?$DN?$AA0?$AAx?$AA0?$AA2?$AA?$AN?$AA?6?$AA?$AA@|
  001bc		 |$LN68@HandleSetu|
  001bc	00000000	 DCD         |??_C@_1CO@MDAODOFD@?$AA?$CK?$AA?$CK?$AA?$CK?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAT?$AAy?$AAp?$AAe?$AA?$DN?$AA?$DN?$AA0?$AAx?$AA8?$AA2?$AA?$AN?$AA?6?$AA?$AA@|
  001c0		 |$LN69@HandleSetu|
  001c0	00000000	 DCD         |??_C@_1EM@PLFMLLKO@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?$CK?$AA?5?$AAU?$AAn?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AAd?$AA?5?$AAv?$AAe?$AAr?$AAn?$AAd?$AAo?$AAr?$AA?5?$AAc?$AAo?$AAm?$AAm?$AAa?$AAn?$AAd?$AA?5?$AA0@|
  001c4		 |$LN70@HandleSetu|
  001c4	00000000	 DCD         |??_C@_1CK@JFBBGODD@?$AA?$CL?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAS?$AAe?$AAt?$AAu?$AAp?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  001c8		 |$LN71@HandleSetu|
  001c8	00000000	 DCD         |dpCurSettings|
  001cc		 |$M44587|

			 ENDP  ; |HandleSetupPacket|

	EXPORT	|TxComplete|
	EXPORT	|??_C@_1O@KIJBGEAN@?$AAD?$AAo?$AAn?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@LFHLPLMG@?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAl?$AAe?$AAt?$AAe?$AAd?$AA?$CB?$AA?5?$AA?$FL?$AA?$CF@| [ DATA ] ; `string'
	IMPORT	|MddSendRndisPacketComplete|

  00000			 AREA	 |.pdata|, PDATA
|$T44613| DCD	|$LN9@TxComplete|
	DCD	0x40001a01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@KIJBGEAN@?$AAD?$AAo?$AAn?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB "D", 0x0
	DCB	"o", 0x0, "n", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@LFHLPLMG@?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAl?$AAe?$AAt?$AAe?$AAd?$AA?$CB?$AA?5?$AA?$FL?$AA?$CF@| DCB "S"
	DCB	0x0, "e", 0x0, "n", 0x0, "d", 0x0, "P", 0x0, "a", 0x0, "c"
	DCB	0x0, "k", 0x0, "e", 0x0, "t", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t", 0x0, " "
	DCB	0x0, "c", 0x0, "o", 0x0, "m", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, "t", 0x0, "e", 0x0, "d", 0x0, "!", 0x0, " ", 0x0, "["
	DCB	0x0, "%", 0x0, "d", 0x0, " ", 0x0, "b", 0x0, "y", 0x0, "t"
	DCB	0x0, "e", 0x0, "s", 0x0, "]", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |TxComplete| PROC

; 542  : {

  00000		 |$LN9@TxComplete|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M44610|

; 543  :     RNDIS_KITLDEV *pRndisKitlDev = &g_RndisKitlDev;
; 544  : 
; 545  :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 546  :         L"SendPacket request completed! [%d bytes]\r\n", 
; 547  :         g_EP2Transfer.cbTransferred 
; 548  :     ));

  00004	e59f4058	 ldr         r4, [pc, #0x58]
  00008	e5943440	 ldr         r3, [r4, #0x440]
  0000c	e3130a02	 tst         r3, #2, 20
  00010	13130004	 tstne       r3, #4
  00014	159f3044	 ldrne       r3, [pc, #0x44]
  00018	159f003c	 ldrne       r0, [pc, #0x3C]
  0001c	15931010	 ldrne       r1, [r3, #0x10]
  00020	1b000000	 blne        NKDbgPrintfW

; 549  :     MddSendRndisPacketComplete(pRndisKitlDev->pTxDataWrapper);

  00024	e59f502c	 ldr         r5, [pc, #0x2C]
  00028	e595043c	 ldr         r0, [r5, #0x43C]
  0002c	eb000000	 bl          MddSendRndisPacketComplete

; 550  : 
; 551  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"Done\r\n"));

  00030	e5943440	 ldr         r3, [r4, #0x440]
  00034	e3130a02	 tst         r3, #2, 20
  00038	13130004	 tstne       r3, #4
  0003c	159f0010	 ldrne       r0, [pc, #0x10]
  00040	1b000000	 blne        NKDbgPrintfW

; 552  :     pRndisKitlDev->pTxDataWrapper = NULL;

  00044	e3a03000	 mov         r3, #0
  00048	e585343c	 str         r3, [r5, #0x43C]

; 553  : }

  0004c	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00050	e12fff1e	 bx          lr
  00054		 |$LN10@TxComplete|
  00054		 |$LN11@TxComplete|
  00054	00000000	 DCD         |??_C@_1O@KIJBGEAN@?$AAD?$AAo?$AAn?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00058		 |$LN12@TxComplete|
  00058	00000000	 DCD         |g_RndisKitlDev|
  0005c		 |$LN13@TxComplete|
  0005c	00000000	 DCD         |??_C@_1FG@LFHLPLMG@?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAl?$AAe?$AAt?$AAe?$AAd?$AA?$CB?$AA?5?$AA?$FL?$AA?$CF@|
  00060		 |$LN14@TxComplete|
  00060	00000000	 DCD         |g_EP2Transfer|
  00064		 |$LN15@TxComplete|
  00064	00000000	 DCD         |dpCurSettings|
  00068		 |$M44611|

			 ENDP  ; |TxComplete|

	EXPORT	|NotifyHandler|
	EXPORT	|??_C@_1CC@IOLIBBDB@?$AA?9?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FM@FDJOONCJ@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AA?$DM?$AAN?$AAO?$AA?5?$AAD?$AAA?$AAT?$AAA?$AA?3?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@MJLPENBD@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAO?$AAU?$AAT?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CM@NHNGDKFM@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAI?$AAN?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@CJOHLCDF@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AAP?$AAA?$AAR?$AAS?$AAI?$AAN?$AAG?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAP?$AAA?$AAC?$AAK?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@KCINNAAK@?$AAI?$AAN?$AAV?$AAA?$AAL?$AAI?$AAD?$AA?5?$AAT?$AAR?$AAA?$AAN?$AAS?$AAF?$AAE?$AAR?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@NBFJCBDP@?$AAE?$AAP?$AA3?$AA?5?$AAI?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AAs?$AAu?$AAc?$AAc?$AAe?$AAs?$AAs?$AAf?$AAu?$AAl?$AAl?$AAy?$AA?5?$AAs?$AAe?$AAn?$AAt?$AA?$CB@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@PFNPIHHC@?$AAU?$AAn?$AAe?$AAx?$AAp?$AAe?$AAc?$AAt?$AAe?$AAd?$AA?5?$AAE?$AAP?$AA2?$AA?5?$AAt?$AAr?$AAa?$AAn?$AAs?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAe?$AA?$CB?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@NEPEKMDB@?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAN?$AAU?$AAL?$AAL?$AA?5?$AAt?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa?$AAt?$AAo?$AAr?$AA?5?$AAs?$AAe?$AAn?$AAt?$AA?$CB@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FI@KOMJGPLF@?$AAS?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAN?$AAU?$AAL?$AAL?$AA?5?$AAt?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa?$AAt?$AAo?$AAr?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAt?$AAh?$AAe?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@ODINLGJJ@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$FN?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CM@FNJKEBIB@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@MJKBFNNP@?$AAD?$AAo?$AAn?$AAe?$AA?5?$AAr?$AAe?$AAc?$AAe?$AAi?$AAv?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@LJDGALBJ@?$AAS?$AAe?$AAn?$AAd?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAl?$AAe?$AAt?$AAe?$AAd?$AA?$CB?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CK@FEGGBLDE@?$AAD?$AAo?$AAn?$AAe?$AA?5?$AAs?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@FFLFPHIF@?$AA?$CL?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|MddIndicateRndisPacket|
	IMPORT	|memcpy|
	IMPORT	|memset|

  00000			 AREA	 |.pdata|, PDATA
|$T44670| DCD	|$LN86@NotifyHand|
	DCD	0x40016202

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@IOLIBBDB@?$AA?9?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "N", 0x0, "o", 0x0, "t", 0x0, "i", 0x0, "f", 0x0, "y"
	DCB	0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "r", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@FDJOONCJ@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AA?$DM?$AAN?$AAO?$AA?5?$AAD?$AAA?$AAT?$AAA?$AA?3?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5@| DCB "G"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "S", 0x0, "E", 0x0, "T"
	DCB	0x0, "U", 0x0, "P", 0x0, " ", 0x0, "<", 0x0, "N", 0x0, "O"
	DCB	0x0, " ", 0x0, "D", 0x0, "A", 0x0, "T", 0x0, "A", 0x0, ":"
	DCB	0x0, " ", 0x0, "%", 0x0, "x", 0x0, " ", 0x0, "%", 0x0, "x"
	DCB	0x0, " ", 0x0, "%", 0x0, "x", 0x0, " ", 0x0, "%", 0x0, "x"
	DCB	0x0, " ", 0x0, "%", 0x0, "x", 0x0, ">", 0x0, " ", 0x0, "p"
	DCB	0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t", 0x0, "."
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@MJLPENBD@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAO?$AAU?$AAT?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| DCB "G"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "S", 0x0, "E", 0x0, "T"
	DCB	0x0, "U", 0x0, "P", 0x0, " ", 0x0, "O", 0x0, "U", 0x0, "T"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e"
	DCB	0x0, "t", 0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@NHNGDKFM@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAI?$AAN?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "G"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "S", 0x0, "E", 0x0, "T"
	DCB	0x0, "U", 0x0, "P", 0x0, " ", 0x0, "I", 0x0, "N", 0x0, " "
	DCB	0x0, "p", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@CJOHLCDF@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AAP?$AAA?$AAR?$AAS?$AAI?$AAN?$AAG?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAP?$AAA?$AAC?$AAK?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, " ", 0x0, "P"
	DCB	0x0, "A", 0x0, "R", 0x0, "S", 0x0, "I", 0x0, "N", 0x0, "G"
	DCB	0x0, " ", 0x0, "S", 0x0, "E", 0x0, "T", 0x0, "U", 0x0, "P"
	DCB	0x0, " ", 0x0, "P", 0x0, "A", 0x0, "C", 0x0, "K", 0x0, "E"
	DCB	0x0, "T", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@KCINNAAK@?$AAI?$AAN?$AAV?$AAA?$AAL?$AAI?$AAD?$AA?5?$AAT?$AAR?$AAA?$AAN?$AAS?$AAF?$AAE?$AAR?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@| DCB "I"
	DCB	0x0, "N", 0x0, "V", 0x0, "A", 0x0, "L", 0x0, "I", 0x0, "D"
	DCB	0x0, " ", 0x0, "T", 0x0, "R", 0x0, "A", 0x0, "N", 0x0, "S"
	DCB	0x0, "F", 0x0, "E", 0x0, "R", 0x0, "!", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@NBFJCBDP@?$AAE?$AAP?$AA3?$AA?5?$AAI?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AAs?$AAu?$AAc?$AAc?$AAe?$AAs?$AAs?$AAf?$AAu?$AAl?$AAl?$AAy?$AA?5?$AAs?$AAe?$AAn?$AAt?$AA?$CB@| DCB "E"
	DCB	0x0, "P", 0x0, "3", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "t"
	DCB	0x0, "e", 0x0, "r", 0x0, "r", 0x0, "u", 0x0, "p", 0x0, "t"
	DCB	0x0, " ", 0x0, "s", 0x0, "u", 0x0, "c", 0x0, "c", 0x0, "e"
	DCB	0x0, "s", 0x0, "s", 0x0, "f", 0x0, "u", 0x0, "l", 0x0, "l"
	DCB	0x0, "y", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, "!", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@PFNPIHHC@?$AAU?$AAn?$AAe?$AAx?$AAp?$AAe?$AAc?$AAt?$AAe?$AAd?$AA?5?$AAE?$AAP?$AA2?$AA?5?$AAt?$AAr?$AAa?$AAn?$AAs?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAe?$AA?$CB?$AA?$AA@| DCB "U"
	DCB	0x0, "n", 0x0, "e", 0x0, "x", 0x0, "p", 0x0, "e", 0x0, "c"
	DCB	0x0, "t", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "E", 0x0, "P"
	DCB	0x0, "2", 0x0, " ", 0x0, "t", 0x0, "r", 0x0, "a", 0x0, "n"
	DCB	0x0, "s", 0x0, "f", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "s"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "!", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@NEPEKMDB@?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAN?$AAU?$AAL?$AAL?$AA?5?$AAt?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa?$AAt?$AAo?$AAr?$AA?5?$AAs?$AAe?$AAn?$AAt?$AA?$CB@| DCB "S"
	DCB	0x0, "e", 0x0, "n", 0x0, "d", 0x0, "P", 0x0, "a", 0x0, "c"
	DCB	0x0, "k", 0x0, "e", 0x0, "t", 0x0, " ", 0x0, "N", 0x0, "U"
	DCB	0x0, "L", 0x0, "L", 0x0, " ", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, "m", 0x0, "i", 0x0, "n", 0x0, "a", 0x0, "t", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "n", 0x0, "t"
	DCB	0x0, "!", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@KOMJGPLF@?$AAS?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAN?$AAU?$AAL?$AAL?$AA?5?$AAt?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa?$AAt?$AAo?$AAr?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAt?$AAh?$AAe?$AA?5@| DCB "S"
	DCB	0x0, "e", 0x0, "n", 0x0, "d", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "N", 0x0, "U", 0x0, "L", 0x0, "L", 0x0, " "
	DCB	0x0, "t", 0x0, "e", 0x0, "r", 0x0, "m", 0x0, "i", 0x0, "n"
	DCB	0x0, "a", 0x0, "t", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "f"
	DCB	0x0, "o", 0x0, "r", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e"
	DCB	0x0, "t", 0x0, ".", 0x0, ".", 0x0, ".", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@ODINLGJJ@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$FN?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "c", 0x0, "e", 0x0, "i", 0x0, "v", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "a", 0x0, " ", 0x0, "p", 0x0, "a"
	DCB	0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t", 0x0, " ", 0x0, "["
	DCB	0x0, "%", 0x0, "d", 0x0, " ", 0x0, "b", 0x0, "y", 0x0, "t"
	DCB	0x0, "e", 0x0, "s", 0x0, "]", 0x0, "!", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@FNJKEBIB@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "c", 0x0, "e", 0x0, "i", 0x0, "v", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "a", 0x0, " ", 0x0, "m", 0x0, "e"
	DCB	0x0, "s", 0x0, "s", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, "!"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@MJKBFNNP@?$AAD?$AAo?$AAn?$AAe?$AA?5?$AAr?$AAe?$AAc?$AAe?$AAi?$AAv?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| DCB "D"
	DCB	0x0, "o", 0x0, "n", 0x0, "e", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "c", 0x0, "e", 0x0, "i", 0x0, "v", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "d", 0x0, "a", 0x0, "t", 0x0, "a"
	DCB	0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@LJDGALBJ@?$AAS?$AAe?$AAn?$AAd?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAl?$AAe?$AAt?$AAe?$AAd?$AA?$CB?$AA?$AN?$AA?6@| DCB "S"
	DCB	0x0, "e", 0x0, "n", 0x0, "d", 0x0, "M", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t"
	DCB	0x0, " ", 0x0, "c", 0x0, "o", 0x0, "m", 0x0, "p", 0x0, "l"
	DCB	0x0, "e", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, "!", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@FEGGBLDE@?$AAD?$AAo?$AAn?$AAe?$AA?5?$AAs?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?4?$AA?$AN?$AA?6?$AA?$AA@| DCB "D"
	DCB	0x0, "o", 0x0, "n", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "d", 0x0, "a", 0x0, "t", 0x0, "a", 0x0, ".", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@FFLFPHIF@?$AA?$CL?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "N", 0x0, "o", 0x0, "t", 0x0, "i", 0x0, "f", 0x0, "y"
	DCB	0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "r", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |NotifyHandler| PROC

; 562  : {

  00000		 |$LN86@NotifyHand|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004	e24dd028	 sub         sp, sp, #0x28
  00008		 |$M44667|
  00008	e1a06002	 mov         r6, r2
  0000c	e1a04001	 mov         r4, r1

; 563  :     USB_DEVICE_REQUEST request;
; 564  :     EP0_REQUEST EP0Request;
; 565  :     STransfer *pTransfer;
; 566  : 
; 567  : 	UNREFERENCED_PARAMETER(pvMddContext);
; 568  : 
; 569  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+NotifyHandler\r\n"));

  00010	e59f556c	 ldr         r5, [pc, #0x56C]
  00014	e5950440	 ldr         r0, [r5, #0x440]
  00018	e3100a02	 tst         r0, #2, 20
  0001c	0a000004	 beq         |$LN46@NotifyHand|
  00020	e3100004	 tst         r0, #4
  00024	0a000002	 beq         |$LN46@NotifyHand|
  00028	e59f0550	 ldr         r0, [pc, #0x550]
  0002c	eb000000	 bl          NKDbgPrintfW
  00030	e5950440	 ldr         r0, [r5, #0x440]
  00034		 |$LN46@NotifyHand|

; 570  :     switch( dwMsg )

  00034	e3540001	 cmp         r4, #1
  00038	0a00011a	 beq         |$LN14@NotifyHand|
  0003c	e3540004	 cmp         r4, #4
  00040	0a0000ad	 beq         |$LN41@NotifyHand|
  00044	e3540006	 cmp         r4, #6
  00048	0a0000a5	 beq         |$LN4@NotifyHand|
  0004c	e3540064	 cmp         r4, #0x64
  00050	1a00012a	 bne         |$LN6@NotifyHand|

; 625  : 
; 626  :     case UFN_MSG_TRANSFER_COMPLETE: 
; 627  :         pTransfer = (STransfer *)dwParam;
; 628  :         if( pTransfer == &g_EP0Transfer )

  00054	e59f34e0	 ldr         r3, [pc, #0x4E0]
  00058	e1560003	 cmp         r6, r3
  0005c	1a000045	 bne         |$LN34@NotifyHand|

; 629  :         {
; 630  :             switch( g_EP0TransferState )

  00060	e59f44bc	 ldr         r4, [pc, #0x4BC]
  00064	e594300c	 ldr         r3, [r4, #0xC]
  00068	e3530001	 cmp         r3, #1
  0006c	0a000021	 beq         |$LN31@NotifyHand|
  00070	e3530002	 cmp         r3, #2
  00074	1a000121	 bne         |$LN6@NotifyHand|

; 643  :                 break;
; 644  :             case TS_SENDING_MESSAGE:
; 645  :                 OALMSG(OAL_ETHER&&OAL_FUNC, (L"Done sending data.\r\n"));

  00078	e3100a02	 tst         r0, #2, 20
  0007c	13100004	 tstne       r0, #4
  00080	159f04f4	 ldrne       r0, [pc, #0x4F4]
  00084	1b000000	 blne        NKDbgPrintfW

; 646  : 
; 647  :                 g_EP0TransferState = TS_IDLE;
; 648  :                 g_pddInterface.pfnSendControlStatusHandshake( g_pddInterface.pvPddContext, 0 );

  00088	e59f3498	 ldr         r3, [pc, #0x498]
  0008c	e3a02000	 mov         r2, #0
  00090	e3a01000	 mov         r1, #0
  00094	e593000c	 ldr         r0, [r3, #0xC]
  00098	e5933044	 ldr         r3, [r3, #0x44]
  0009c	e584200c	 str         r2, [r4, #0xC]
  000a0	e1a0e00f	 mov         lr, pc
  000a4	e12fff13	 bx          r3

; 649  : 
; 650  :                 if (g_RndisKitlDev.EP0Request.pfnNotification) {

  000a8	e59f4490	 ldr         r4, [pc, #0x490]
  000ac	e5943010	 ldr         r3, [r4, #0x10]
  000b0	e3530000	 cmp         r3, #0
  000b4	0a0000f9	 beq         |$LN82@NotifyHand|

; 651  :                     OALMSG(OAL_ETHER&&OAL_FUNC, (L"SendMessage request completed!\r\n"));

  000b8	e5953440	 ldr         r3, [r5, #0x440]
  000bc	e3130a02	 tst         r3, #2, 20
  000c0	13130004	 tstne       r3, #4
  000c4	159f04ac	 ldrne       r0, [pc, #0x4AC]
  000c8	1b000000	 blne        NKDbgPrintfW

; 652  :                     g_RndisKitlDev.EP0Request.pfnNotification(&g_RndisKitlDev.EP0Request, g_RndisKitlDev.EP0Request.pvUser);

  000cc	e5941014	 ldr         r1, [r4, #0x14]
  000d0	e5943010	 ldr         r3, [r4, #0x10]
  000d4	e1a00004	 mov         r0, r4
  000d8	e1a0e00f	 mov         lr, pc
  000dc	e12fff13	 bx          r3

; 653  : 
; 654  :                     //memset(&g_RndisKitlDev.EP0Request, 0, sizeof (g_RndisKitlDev.EP0Request));
; 655  :                     g_RndisKitlDev.EP0Request.pfnNotification = NULL;

  000e0	e3a03000	 mov         r3, #0
  000e4	e5843010	 str         r3, [r4, #0x10]

; 656  :                     g_RndisKitlDev.EP0Request.pvUser = NULL;

  000e8	e3a03000	 mov         r3, #0
  000ec	e5950440	 ldr         r0, [r5, #0x440]
  000f0	e5843014	 str         r3, [r4, #0x14]
  000f4	ea000101	 b           |$LN6@NotifyHand|
  000f8		 |$LN31@NotifyHand|

; 631  :             {
; 632  :             case TS_RECEIVING_MESSAGE:
; 633  :                 g_EP0TransferState = TS_IDLE;
; 634  :                 OALMSG(OAL_ETHER&&OAL_FUNC, (L"Done receiving data.\r\n"));

  000f8	e3100a02	 tst         r0, #2, 20
  000fc	13100004	 tstne       r0, #4
  00100	159f046c	 ldrne       r0, [pc, #0x46C]
  00104	e3a03000	 mov         r3, #0
  00108	e584300c	 str         r3, [r4, #0xC]
  0010c	1b000000	 blne        NKDbgPrintfW

; 635  : 
; 636  :                 g_pddInterface.pfnSendControlStatusHandshake( g_pddInterface.pvPddContext, 0 );

  00110	e59f3410	 ldr         r3, [pc, #0x410]
  00114	e3a01000	 mov         r1, #0
  00118	e593000c	 ldr         r0, [r3, #0xC]
  0011c	e5933044	 ldr         r3, [r3, #0x44]
  00120	e1a0e00f	 mov         lr, pc
  00124	e12fff13	 bx          r3

; 637  : 
; 638  :                 if (g_RndisKitlDev.EP0Request.pfnNotification) {

  00128	e59f4410	 ldr         r4, [pc, #0x410]
  0012c	e5943010	 ldr         r3, [r4, #0x10]
  00130	e3530000	 cmp         r3, #0
  00134	0a000009	 beq         |$LN30@NotifyHand|

; 639  :                     OALMSG(OAL_ETHER&&OAL_FUNC, (L"Received a message!\r\n"));

  00138	e5953440	 ldr         r3, [r5, #0x440]
  0013c	e3130a02	 tst         r3, #2, 20
  00140	13130004	 tstne       r3, #4
  00144	159f0424	 ldrne       r0, [pc, #0x424]
  00148	1b000000	 blne        NKDbgPrintfW

; 640  :                     g_RndisKitlDev.EP0Request.pfnNotification(&g_RndisKitlDev.EP0Request, g_RndisKitlDev.EP0Request.pvUser);

  0014c	e5941014	 ldr         r1, [r4, #0x14]
  00150	e5943010	 ldr         r3, [r4, #0x10]
  00154	e1a00004	 mov         r0, r4
  00158	e1a0e00f	 mov         lr, pc
  0015c	e12fff13	 bx          r3
  00160		 |$LN30@NotifyHand|

; 641  :                 }
; 642  :                 memset(&g_RndisKitlDev.EP0Request, 0, sizeof (g_RndisKitlDev.EP0Request));

  00160	e3a02020	 mov         r2, #0x20
  00164	e3a01000	 mov         r1, #0
  00168	e1a00004	 mov         r0, r4
  0016c	eb000000	 bl          memset
  00170	e5950440	 ldr         r0, [r5, #0x440]
  00174	ea0000e1	 b           |$LN6@NotifyHand|
  00178		 |$LN34@NotifyHand|

; 657  :                 }
; 658  :                 break;
; 659  :             }
; 660  :         }
; 661  :         else if( pTransfer == &g_EP1Transfer )

  00178	e59f33ec	 ldr         r3, [pc, #0x3EC]
  0017c	e1560003	 cmp         r6, r3
  00180	1a00000f	 bne         |$LN26@NotifyHand|

; 662  :         {
; 663  :             // BULK OUT data received on EP1
; 664  :             OALMSG(OAL_ETHER&&OAL_FUNC, (
; 665  :                 L"Received a packet [%d bytes]!\r\n", pTransfer->cbTransferred
; 666  :             ));

  00184	e3100a02	 tst         r0, #2, 20
  00188	13100004	 tstne       r0, #4
  0018c	15961010	 ldrne       r1, [r6, #0x10]
  00190	159f03d0	 ldrne       r0, [pc, #0x3D0]
  00194	1b000000	 blne        NKDbgPrintfW

; 667  :             // notify the MDD
; 668  :             g_pEP1DataWrapper->dwDataSize = pTransfer->cbTransferred;

  00198	e59f4384	 ldr         r4, [pc, #0x384]
  0019c	e5962010	 ldr         r2, [r6, #0x10]
  001a0	e5943004	 ldr         r3, [r4, #4]
  001a4	e583200c	 str         r2, [r3, #0xC]

; 669  :             MddIndicateRndisPacket(g_pEP1DataWrapper);

  001a8	e5940004	 ldr         r0, [r4, #4]
  001ac	eb000000	 bl          MddIndicateRndisPacket

; 670  :             g_pEP1DataWrapper = NULL;

  001b0	e3a03000	 mov         r3, #0
  001b4	e5843004	 str         r3, [r4, #4]

; 671  :             // setup another transfer
; 672  :             SetupEP1Transfer();

  001b8	eb000000	 bl          SetupEP1Transfer
  001bc	e5950440	 ldr         r0, [r5, #0x440]
  001c0	ea0000ce	 b           |$LN6@NotifyHand|
  001c4		 |$LN26@NotifyHand|

; 673  :         }
; 674  :         else if( pTransfer == &g_EP2Transfer )

  001c4	e59f4398	 ldr         r4, [pc, #0x398]
  001c8	e1560004	 cmp         r6, r4
  001cc	1a000033	 bne         |$LN24@NotifyHand|

; 675  :         {
; 676  :             if( g_EP2TransferState == TS_SENDING_PACKET )

  001d0	e59f634c	 ldr         r6, [pc, #0x34C]
  001d4	e5963014	 ldr         r3, [r6, #0x14]
  001d8	e3530004	 cmp         r3, #4
  001dc	1a00001e	 bne         |$LN23@NotifyHand|

; 677  :             {
; 678  :                 if( ( g_EP2Transfer.cbTransferred % EPMaxSize ) == 0 )

  001e0	e5943010	 ldr         r3, [r4, #0x10]
  001e4	e313003f	 tst         r3, #0x3F
  001e8	1a000021	 bne         |$LN68@NotifyHand|

; 679  :                 {
; 680  :                     // g_EP2Transfer.dwCallerPermissions;
; 681  :                     g_EP2Transfer.dwFlags = USB_REQUEST_DEVICE_TO_HOST;

  001ec	e3a03080	 mov         r3, #0x80
  001f0	e8840048	 stmia       r4, {r3, r6}

; 682  : #ifdef USE_1BYTE_TERMINATING_PACKETS
; 683  :                     g_EP2Transfer.pvBuffer = &g_ucScratch;
; 684  :                     g_EP2Transfer.cbBuffer = sizeof(UCHAR);

  001f4	e3a03001	 mov         r3, #1
  001f8	e584300c	 str         r3, [r4, #0xC]
  001fc	e3a02c01	 mov         r2, #1, 24

; 685  : #else
; 686  :                     g_EP2Transfer.pvBuffer = NULL;
; 687  :                     g_EP2Transfer.cbBuffer = 0;
; 688  : #endif
; 689  :                     // g_EP2Transfer.dwBufferPhysicalAddress; // not used
; 690  :                     g_EP2Transfer.cbTransferred = 0;
; 691  :                     g_EP2Transfer.dwUsbError = UFN_NOT_COMPLETE_ERROR; // Possible values are in usbfntypes.h
; 692  :                     g_EP2Transfer.pvPddData = NULL;
; 693  :                     g_EP2Transfer.pvPddTransferInfo = NULL;
; 694  : 
; 695  : 
; 696  :                     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 697  :                         L"Sending NULL terminator for the packet...\r\n"
; 698  :                     ));

  00200	e3100a02	 tst         r0, #2, 20
  00204	13100004	 tstne       r0, #4
  00208	159f0350	 ldrne       r0, [pc, #0x350]
  0020c	e3a03000	 mov         r3, #0
  00210	e5843010	 str         r3, [r4, #0x10]
  00214	e3823003	 orr         r3, r2, #3
  00218	e5843014	 str         r3, [r4, #0x14]
  0021c	e3a03000	 mov         r3, #0
  00220	e5843018	 str         r3, [r4, #0x18]
  00224	e3a03000	 mov         r3, #0
  00228	e584301c	 str         r3, [r4, #0x1C]
  0022c	1b000000	 blne        NKDbgPrintfW

; 699  :                     g_EP2TransferState = TS_SENDING_PACKET_TERMINATOR;
; 700  :                     g_pddInterface.pfnIssueTransfer( g_pddInterface.pvPddContext, 2, &g_EP2Transfer );

  00230	e59f32f0	 ldr         r3, [pc, #0x2F0]
  00234	e3a07005	 mov         r7, #5
  00238	e1a02004	 mov         r2, r4
  0023c	e593000c	 ldr         r0, [r3, #0xC]
  00240	e5933030	 ldr         r3, [r3, #0x30]
  00244	e3a01002	 mov         r1, #2
  00248	e5867014	 str         r7, [r6, #0x14]
  0024c	e1a0e00f	 mov         lr, pc
  00250	e12fff13	 bx          r3
  00254	e5950440	 ldr         r0, [r5, #0x440]
  00258	ea0000a8	 b           |$LN6@NotifyHand|
  0025c		 |$LN23@NotifyHand|

; 701  :                 }
; 702  :                 else
; 703  :                 {
; 704  :                     g_EP2TransferState = TS_IDLE;
; 705  :                     TxComplete();
; 706  :                 }
; 707  :             }
; 708  :             else if( g_EP2TransferState == TS_SENDING_PACKET_TERMINATOR )

  0025c	e3530005	 cmp         r3, #5
  00260	1a000008	 bne         |$LN19@NotifyHand|

; 709  :             {
; 710  :                 ASSERT( g_EP2Transfer.dwUsbError == UFN_NO_ERROR );
; 711  :                 OALMSG(OAL_ETHER&&OAL_FUNC, (L"SendPacket NULL terminator sent!\r\n"));

  00264	e3100a02	 tst         r0, #2, 20
  00268	13100004	 tstne       r0, #4
  0026c	159f02e8	 ldrne       r0, [pc, #0x2E8]
  00270	1b000000	 blne        NKDbgPrintfW
  00274		 |$LN68@NotifyHand|

; 712  :                 g_EP2TransferState = TS_IDLE;

  00274	e3a03000	 mov         r3, #0
  00278	e5863014	 str         r3, [r6, #0x14]

; 713  : 
; 714  :                 TxComplete();

  0027c	eb000000	 bl          TxComplete
  00280	e5950440	 ldr         r0, [r5, #0x440]
  00284	ea00009d	 b           |$LN6@NotifyHand|
  00288		 |$LN19@NotifyHand|

; 715  :             }
; 716  :             else
; 717  :             {
; 718  :                 OALMSG(OAL_ERROR, (L"Unexpected EP2 transfer state!"));

  00288	e3100001	 tst         r0, #1
  0028c	0a00009b	 beq         |$LN6@NotifyHand|
  00290	e59f02c0	 ldr         r0, [pc, #0x2C0]

; 726  :             // interrupt succesfully sent
; 727  :         }
; 728  :         else
; 729  :         {
; 730  :             OALMSG(OAL_ERROR, (L"INVALID TRANSFER!\r\n"));

  00294	eb000000	 bl          NKDbgPrintfW
  00298	e5950440	 ldr         r0, [r5, #0x440]
  0029c	ea000097	 b           |$LN6@NotifyHand|
  002a0		 |$LN24@NotifyHand|

; 719  :             }
; 720  :         }
; 721  :         else if( pTransfer == &g_EP3Transfer )

  002a0	e59f32ac	 ldr         r3, [pc, #0x2AC]
  002a4	e1560003	 cmp         r6, r3
  002a8	1a000007	 bne         |$LN16@NotifyHand|

; 722  :         {
; 723  :             OALMSG(OAL_ETHER&&OAL_FUNC, (
; 724  :                 L"EP3 Interrupt successfully sent!\r\n"
; 725  :             ));

  002ac	e3100a02	 tst         r0, #2, 20
  002b0	0a000092	 beq         |$LN6@NotifyHand|
  002b4	e3100004	 tst         r0, #4
  002b8	0a000090	 beq         |$LN6@NotifyHand|
  002bc	e59f028c	 ldr         r0, [pc, #0x28C]

; 726  :             // interrupt succesfully sent
; 727  :         }
; 728  :         else
; 729  :         {
; 730  :             OALMSG(OAL_ERROR, (L"INVALID TRANSFER!\r\n"));

  002c0	eb000000	 bl          NKDbgPrintfW
  002c4	e5950440	 ldr         r0, [r5, #0x440]
  002c8	ea00008c	 b           |$LN6@NotifyHand|
  002cc		 |$LN16@NotifyHand|
  002cc	e3100001	 tst         r0, #1
  002d0	0a00008a	 beq         |$LN6@NotifyHand|
  002d4	e59f0270	 ldr         r0, [pc, #0x270]
  002d8	eb000000	 bl          NKDbgPrintfW
  002dc	e5950440	 ldr         r0, [r5, #0x440]
  002e0	ea000086	 b           |$LN6@NotifyHand|
  002e4		 |$LN4@NotifyHand|

; 754  :         default:
; 755  :             ASSERT(!"Unexpected bus event!");
; 756  :         }
; 757  :         break;
; 758  : 
; 759  :     case UFN_MSG_BUS_SPEED:
; 760  :         break;
; 761  : 
; 762  :     case UFN_MSG_SET_ADDRESS:
; 763  :         if( dwParam )

  002e4	e3560000	 cmp         r6, #0

; 764  :         {
; 765  :             g_devState = DS_ADDRESSED;

  002e8	e59f3234	 ldr         r3, [pc, #0x234]
  002ec	13a02004	 movne       r2, #4
  002f0	1a000081	 bne         |$LN80@NotifyHand|

; 766  :         }
; 767  :         else
; 768  :         {
; 769  :             g_devState = DS_DEFAULT;

  002f4	e3a02003	 mov         r2, #3

; 770  :         }
; 771  :         // we should call pfnSetAddress here
; 772  :         break;

  002f8	ea00007f	 b           |$LN80@NotifyHand|
  002fc		 |$LN41@NotifyHand|

; 571  :     {
; 572  :     case UFN_MSG_SETUP_PACKET:
; 573  :         request = *(USB_DEVICE_REQUEST*)(void*)dwParam;
; 574  :         g_udr = request;

  002fc	e59f7244	 ldr         r7, [pc, #0x244]
  00300	e3a02008	 mov         r2, #8
  00304	e1a01006	 mov         r1, r6
  00308	e1a00007	 mov         r0, r7
  0030c	eb000000	 bl          memcpy

; 575  : 
; 576  :         if( !HandleSetupPacket( &g_udr, &EP0Request ) )

  00310	e28d1008	 add         r1, sp, #8
  00314	e1a00007	 mov         r0, r7
  00318	eb000000	 bl          HandleSetupPacket

; 577  :         {
; 578  :             OALMSG(OAL_ERROR, (L"ERROR PARSING SETUP PACKET\r\n"));

  0031c	e5954440	 ldr         r4, [r5, #0x440]
  00320	e3500000	 cmp         r0, #0
  00324	1a000004	 bne         |$LN48@NotifyHand|
  00328	e3140001	 tst         r4, #1
  0032c	0a000002	 beq         |$LN48@NotifyHand|
  00330	e59f020c	 ldr         r0, [pc, #0x20C]
  00334	eb000000	 bl          NKDbgPrintfW
  00338	e5954440	 ldr         r4, [r5, #0x440]
  0033c		 |$LN48@NotifyHand|

; 579  :         }
; 580  : 
; 581  :         memcpy(&g_RndisKitlDev.EP0Request, &EP0Request, sizeof(EP0Request));

  0033c	e59f61fc	 ldr         r6, [pc, #0x1FC]
  00340	e28d1008	 add         r1, sp, #8
  00344	e3a02020	 mov         r2, #0x20
  00348	e1a00006	 mov         r0, r6
  0034c	eb000000	 bl          memcpy

; 582  :         g_RndisKitlDev.EP0Request.dwProcessed = 0;

  00350	e3a03000	 mov         r3, #0
  00354	e5863018	 str         r3, [r6, #0x18]

; 583  :         g_RndisKitlDev.EP0Request.fCompleted = FALSE;

  00358	e3a03000	 mov         r3, #0
  0035c	e586301c	 str         r3, [r6, #0x1C]

; 584  : 
; 585  :         if (g_RndisKitlDev.EP0Request.eDir != EP0Setup) {

  00360	e596e000	 ldr         lr, [r6]
  00364	e35e0000	 cmp         lr, #0
  00368	0a000036	 beq         |$LN39@NotifyHand|

; 586  :             g_EP0DataWrapper.pucData = g_RndisKitlDev.EP0Request.pucData;

  0036c	e5960004	 ldr         r0, [r6, #4]

; 587  :             g_EP0DataWrapper.dwDataSize = g_RndisKitlDev.EP0Request.dwActualSize;
; 588  :             
; 589  :             // g_EP2Transfer.dwCallerPermissions;
; 590  :             g_EP0Transfer.pvBuffer = g_EP0DataWrapper.pucData;

  00370	e59f71c4	 ldr         r7, [pc, #0x1C4]
  00374	e596100c	 ldr         r1, [r6, #0xC]

; 591  :             // g_EP2Transfer.dwBufferPhysicalAddress; // not used
; 592  :             g_EP0Transfer.cbBuffer = g_EP0DataWrapper.dwDataSize;
; 593  :             g_EP0Transfer.cbTransferred = 0;

  00378	e3a03000	 mov         r3, #0
  0037c	e5870004	 str         r0, [r7, #4]
  00380	e587100c	 str         r1, [r7, #0xC]
  00384	e3a06c01	 mov         r6, #1, 24
  00388	e5873010	 str         r3, [r7, #0x10]

; 594  :             g_EP0Transfer.dwUsbError = UFN_NOT_COMPLETE_ERROR; // Possible values are in usbfntypes.h

  0038c	e3863003	 orr         r3, r6, #3
  00390	e59f21a0	 ldr         r2, [pc, #0x1A0]
  00394	e5873014	 str         r3, [r7, #0x14]

; 595  :             g_EP0Transfer.pvPddData = NULL;

  00398	e3a03000	 mov         r3, #0
  0039c	e5873018	 str         r3, [r7, #0x18]

; 596  :             g_EP0Transfer.pvPddTransferInfo = NULL;

  003a0	e3a03000	 mov         r3, #0
  003a4	e5820008	 str         r0, [r2, #8]
  003a8	e587301c	 str         r3, [r7, #0x1C]
  003ac	e582100c	 str         r1, [r2, #0xC]

; 597  : 
; 598  :             if (g_RndisKitlDev.EP0Request.eDir == EP0In) {

  003b0	e35e0002	 cmp         lr, #2
  003b4	1a000011	 bne         |$LN38@NotifyHand|

; 599  :                 OALMSG(OAL_ETHER&&OAL_FUNC, (L"Got SETUP IN packet\r\n"));

  003b8	e3140a02	 tst         r4, #2, 20
  003bc	13140004	 tstne       r4, #4
  003c0	159f016c	 ldrne       r0, [pc, #0x16C]
  003c4	1b000000	 blne        NKDbgPrintfW

; 600  :                 g_EP0Transfer.dwFlags = USB_REQUEST_DEVICE_TO_HOST;
; 601  :                 g_EP0TransferState = TS_SENDING_MESSAGE;
; 602  :                 g_pddInterface.pfnIssueTransfer( g_pddInterface.pvPddContext, 0, &g_EP0Transfer );

  003c8	e59f3158	 ldr         r3, [pc, #0x158]
  003cc	e59f4150	 ldr         r4, [pc, #0x150]
  003d0	e3a08080	 mov         r8, #0x80
  003d4	e593000c	 ldr         r0, [r3, #0xC]
  003d8	e5933030	 ldr         r3, [r3, #0x30]
  003dc	e3a06002	 mov         r6, #2
  003e0	e1a02007	 mov         r2, r7
  003e4	e3a01000	 mov         r1, #0
  003e8	e5878000	 str         r8, [r7]
  003ec	e584600c	 str         r6, [r4, #0xC]
  003f0	e1a0e00f	 mov         lr, pc
  003f4	e12fff13	 bx          r3

; 623  :         }
; 624  :         break;

  003f8	e5950440	 ldr         r0, [r5, #0x440]
  003fc	ea00003f	 b           |$LN6@NotifyHand|
  00400		 |$LN38@NotifyHand|

; 603  :             }
; 604  :             else
; 605  :             {
; 606  :                 OALMSG(OAL_ETHER&&OAL_FUNC, (L"Got SETUP OUT packet.\r\n"));

  00400	e3140a02	 tst         r4, #2, 20
  00404	13140004	 tstne       r4, #4
  00408	159f0120	 ldrne       r0, [pc, #0x120]
  0040c	1b000000	 blne        NKDbgPrintfW

; 607  :                 g_EP0Transfer.dwFlags = 0;
; 608  :                 g_EP0TransferState = TS_RECEIVING_MESSAGE;
; 609  :                 g_pddInterface.pfnIssueTransfer( g_pddInterface.pvPddContext, 0, &g_EP0Transfer );

  00410	e59f3110	 ldr         r3, [pc, #0x110]
  00414	e59f4108	 ldr         r4, [pc, #0x108]
  00418	e3a08000	 mov         r8, #0
  0041c	e593000c	 ldr         r0, [r3, #0xC]
  00420	e5933030	 ldr         r3, [r3, #0x30]
  00424	e3a06001	 mov         r6, #1
  00428	e1a02007	 mov         r2, r7
  0042c	e3a01000	 mov         r1, #0
  00430	e5878000	 str         r8, [r7]
  00434	e584600c	 str         r6, [r4, #0xC]
  00438	e1a0e00f	 mov         lr, pc
  0043c	e12fff13	 bx          r3

; 623  :         }
; 624  :         break;

  00440	e5950440	 ldr         r0, [r5, #0x440]
  00444	ea00002d	 b           |$LN6@NotifyHand|
  00448		 |$LN39@NotifyHand|

; 610  :             }
; 611  :         }
; 612  :         else
; 613  :         {
; 614  :             OALMSG(OAL_ETHER&&OAL_FUNC, (
; 615  :                 L"Got SETUP <NO DATA: %x %x %x %x %x> packet.\r\n",
; 616  :                 g_udr.bmRequestType, g_udr.bRequest, g_udr.wValue, g_udr.wIndex,
; 617  :                  g_udr.wLength 
; 618  :             ));

  00448	e3140a02	 tst         r4, #2, 20
  0044c	0a00000a	 beq         |$LN54@NotifyHand|
  00450	e3140004	 tst         r4, #4
  00454	0a000008	 beq         |$LN54@NotifyHand|
  00458	e1d740b6	 ldrh        r4, [r7, #6]
  0045c	e1d7e0b4	 ldrh        lr, [r7, #4]
  00460	e1d730b2	 ldrh        r3, [r7, #2]
  00464	e5d72001	 ldrb        r2, [r7, #1]
  00468	e5d71000	 ldrb        r1, [r7]
  0046c	e59f00b8	 ldr         r0, [pc, #0xB8]
  00470	e58d4004	 str         r4, [sp, #4]
  00474	e58de000	 str         lr, [sp]
  00478	eb000000	 bl          NKDbgPrintfW
  0047c		 |$LN54@NotifyHand|

; 619  : 
; 620  :             // Send the SETUP ACK packet
; 621  :             g_EP0TransferState = TS_IDLE;
; 622  :             g_pddInterface.pfnSendControlStatusHandshake( g_pddInterface.pvPddContext, 0 );

  0047c	e59f30a4	 ldr         r3, [pc, #0xA4]
  00480	e59f209c	 ldr         r2, [pc, #0x9C]
  00484	e3a04000	 mov         r4, #0
  00488	e593000c	 ldr         r0, [r3, #0xC]
  0048c	e5933044	 ldr         r3, [r3, #0x44]
  00490	e3a01000	 mov         r1, #0
  00494	e582400c	 str         r4, [r2, #0xC]
  00498	e1a0e00f	 mov         lr, pc
  0049c	e12fff13	 bx          r3
  004a0		 |$LN82@NotifyHand|

; 623  :         }
; 624  :         break;

  004a0	e5950440	 ldr         r0, [r5, #0x440]
  004a4	ea000015	 b           |$LN6@NotifyHand|
  004a8		 |$LN14@NotifyHand|

; 731  :         }
; 732  :         break;
; 733  : 
; 734  :     case UFN_MSG_BUS_EVENTS:
; 735  :         switch( dwParam )

  004a8	e3560000	 cmp         r6, #0
  004ac	0a000010	 beq         |$LN11@NotifyHand|
  004b0	e3560001	 cmp         r6, #1
  004b4	0a000005	 beq         |$LN8@NotifyHand|
  004b8	e3560002	 cmp         r6, #2
  004bc	0a000005	 beq         |$LN9@NotifyHand|
  004c0	e3560003	 cmp         r6, #3
  004c4	0a000001	 beq         |$LN8@NotifyHand|
  004c8	e3560004	 cmp         r6, #4
  004cc	1a00000b	 bne         |$LN6@NotifyHand|
  004d0		 |$LN8@NotifyHand|

; 748  :         case UFN_SUSPEND:
; 749  :             g_devState = DS_ATTACHED;
; 750  :             break;
; 751  :         case UFN_RESUME:
; 752  :             g_devState = DS_ATTACHED;

  004d0	e3a02001	 mov         r2, #1

; 753  :             break;

  004d4	ea000007	 b           |$LN81@NotifyHand|
  004d8		 |$LN9@NotifyHand|

; 739  :             break;
; 740  :         case UFN_ATTACH:
; 741  :             g_devState = DS_ATTACHED;
; 742  :             break;
; 743  :         case UFN_RESET:
; 744  :             g_devState = DS_DEFAULT;

  004d8	e59f3044	 ldr         r3, [pc, #0x44]

; 745  :             g_EP0TransferState = TS_IDLE;

  004dc	e3a01000	 mov         r1, #0

; 746  :             g_EP2TransferState = TS_IDLE;

  004e0	e3a0e000	 mov         lr, #0
  004e4	e583100c	 str         r1, [r3, #0xC]
  004e8	e583e014	 str         lr, [r3, #0x14]
  004ec	e3a02003	 mov         r2, #3

; 747  :             break;

  004f0	ea000001	 b           |$LN80@NotifyHand|
  004f4		 |$LN11@NotifyHand|

; 736  :         {
; 737  :         case UFN_DETACH:
; 738  :             g_devState = DS_DETACHED;

  004f4	e3a02000	 mov         r2, #0
  004f8		 |$LN81@NotifyHand|
  004f8	e59f3024	 ldr         r3, [pc, #0x24]
  004fc		 |$LN80@NotifyHand|
  004fc	e5832008	 str         r2, [r3, #8]
  00500		 |$LN6@NotifyHand|

; 773  : 
; 774  :     default:
; 775  :         ASSERT(!"Unexpected Msg in NotifyHandler!");
; 776  :     }
; 777  : 
; 778  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-NotifyHandler\r\n"));

  00500	e3100a02	 tst         r0, #2, 20
  00504	13100004	 tstne       r0, #4
  00508	159f0010	 ldrne       r0, [pc, #0x10]
  0050c	1b000000	 blne        NKDbgPrintfW

; 779  : 
; 780  :     return FALSE;

  00510	e3a00000	 mov         r0, #0

; 781  : }

  00514	e28dd028	 add         sp, sp, #0x28
  00518	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  0051c	e12fff1e	 bx          lr
  00520		 |$LN87@NotifyHand|
  00520		 |$LN88@NotifyHand|
  00520	00000000	 DCD         |??_C@_1CC@IOLIBBDB@?$AA?9?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@|
  00524		 |$LN89@NotifyHand|
  00524	00000000	 DCD         |g_ucScratch|
  00528		 |$LN90@NotifyHand|
  00528	00000000	 DCD         |g_pddInterface|
  0052c		 |$LN91@NotifyHand|
  0052c	00000000	 DCD         |??_C@_1FM@FDJOONCJ@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AA?$DM?$AAN?$AAO?$AA?5?$AAD?$AAA?$AAT?$AAA?$AA?3?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5?$AA?$CF?$AAx?$AA?5@|
  00530		 |$LN92@NotifyHand|
  00530	00000000	 DCD         |??_C@_1DA@MJLPENBD@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAO?$AAU?$AAT?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?4?$AA?$AN?$AA?6?$AA?$AA@|
  00534		 |$LN93@NotifyHand|
  00534	00000000	 DCD         |??_C@_1CM@NHNGDKFM@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAI?$AAN?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00538		 |$LN94@NotifyHand|
  00538	00000000	 DCD         |g_EP0DataWrapper|
  0053c		 |$LN95@NotifyHand|
  0053c	00000000	 DCD         |g_EP0Transfer|
  00540		 |$LN96@NotifyHand|
  00540	00000000	 DCD         |g_RndisKitlDev|
  00544		 |$LN97@NotifyHand|
  00544	00000000	 DCD         |??_C@_1DK@CJOHLCDF@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AAP?$AAA?$AAR?$AAS?$AAI?$AAN?$AAG?$AA?5?$AAS?$AAE?$AAT?$AAU?$AAP?$AA?5?$AAP?$AAA?$AAC?$AAK?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@|
  00548		 |$LN98@NotifyHand|
  00548	00000000	 DCD         |g_udr|
  0054c		 |$LN99@NotifyHand|
  0054c	00000000	 DCD         |??_C@_1CI@KCINNAAK@?$AAI?$AAN?$AAV?$AAA?$AAL?$AAI?$AAD?$AA?5?$AAT?$AAR?$AAA?$AAN?$AAS?$AAF?$AAE?$AAR?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@|
  00550		 |$LN100@NotifyHand|
  00550	00000000	 DCD         |??_C@_1EG@NBFJCBDP@?$AAE?$AAP?$AA3?$AA?5?$AAI?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AAs?$AAu?$AAc?$AAc?$AAe?$AAs?$AAs?$AAf?$AAu?$AAl?$AAl?$AAy?$AA?5?$AAs?$AAe?$AAn?$AAt?$AA?$CB@|
  00554		 |$LN101@NotifyHand|
  00554	00000000	 DCD         |g_EP3Transfer|
  00558		 |$LN102@NotifyHand|
  00558	00000000	 DCD         |??_C@_1DO@PFNPIHHC@?$AAU?$AAn?$AAe?$AAx?$AAp?$AAe?$AAc?$AAt?$AAe?$AAd?$AA?5?$AAE?$AAP?$AA2?$AA?5?$AAt?$AAr?$AAa?$AAn?$AAs?$AAf?$AAe?$AAr?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAe?$AA?$CB?$AA?$AA@|
  0055c		 |$LN103@NotifyHand|
  0055c	00000000	 DCD         |??_C@_1EG@NEPEKMDB@?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAN?$AAU?$AAL?$AAL?$AA?5?$AAt?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa?$AAt?$AAo?$AAr?$AA?5?$AAs?$AAe?$AAn?$AAt?$AA?$CB@|
  00560		 |$LN104@NotifyHand|
  00560	00000000	 DCD         |??_C@_1FI@KOMJGPLF@?$AAS?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAN?$AAU?$AAL?$AAL?$AA?5?$AAt?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa?$AAt?$AAo?$AAr?$AA?5?$AAf?$AAo?$AAr?$AA?5?$AAt?$AAh?$AAe?$AA?5@|
  00564		 |$LN105@NotifyHand|
  00564	00000000	 DCD         |g_EP2Transfer|
  00568		 |$LN106@NotifyHand|
  00568	00000000	 DCD         |??_C@_1EA@ODINLGJJ@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAp?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs?$AA?$FN?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@|
  0056c		 |$LN107@NotifyHand|
  0056c	00000000	 DCD         |g_EP1Transfer|
  00570		 |$LN108@NotifyHand|
  00570	00000000	 DCD         |??_C@_1CM@FNJKEBIB@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?$CB?$AA?$AN?$AA?6?$AA?$AA@|
  00574		 |$LN109@NotifyHand|
  00574	00000000	 DCD         |??_C@_1CO@MJKBFNNP@?$AAD?$AAo?$AAn?$AAe?$AA?5?$AAr?$AAe?$AAc?$AAe?$AAi?$AAv?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?4?$AA?$AN?$AA?6?$AA?$AA@|
  00578		 |$LN110@NotifyHand|
  00578	00000000	 DCD         |??_C@_1EC@LJDGALBJ@?$AAS?$AAe?$AAn?$AAd?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAc?$AAo?$AAm?$AAp?$AAl?$AAe?$AAt?$AAe?$AAd?$AA?$CB?$AA?$AN?$AA?6@|
  0057c		 |$LN111@NotifyHand|
  0057c	00000000	 DCD         |??_C@_1CK@FEGGBLDE@?$AAD?$AAo?$AAn?$AAe?$AA?5?$AAs?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAd?$AAa?$AAt?$AAa?$AA?4?$AA?$AN?$AA?6?$AA?$AA@|
  00580		 |$LN112@NotifyHand|
  00580	00000000	 DCD         |??_C@_1CC@FFLFPHIF@?$AA?$CL?$AAN?$AAo?$AAt?$AAi?$AAf?$AAy?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@|
  00584		 |$LN113@NotifyHand|
  00584	00000000	 DCD         |dpCurSettings|
  00588		 |$M44668|

			 ENDP  ; |NotifyHandler|

	EXPORT	|RegisterUSBDevice|

  00041			 AREA	 |.bss|, NOINIT
|?deviceDescriptor@?1??RegisterUSBDevice@@9@9| % 0x12	; `RegisterUSBDevice'::`2'::deviceDescriptor
|?Interface@?1??RegisterUSBDevice@@9@9| % 0x1c		; `RegisterUSBDevice'::`2'::Interface
|?rgEndPoints@?1??RegisterUSBDevice@@9@9| % 0x3c	; `RegisterUSBDevice'::`2'::rgEndPoints
|?deviceConfiguration@?1??RegisterUSBDevice@@9@9| % 0x1c ; `RegisterUSBDevice'::`2'::deviceConfiguration
|?deviceDescriptor@?1??RegisterUSBDevice@@9@9| % 0x12	; `RegisterUSBDevice'::`2'::deviceDescriptor

  00000			 AREA	 |.pdata|, PDATA
|$T44704| DCD	|$LN5@RegisterUS|
	DCD	0x40003302
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |RegisterUSBDevice| PROC

; 785  : {

  00000		 |$LN5@RegisterUS|
  00000	e92d47f0	 stmdb       sp!, {r4 - r10, lr}
  00004	e24dd014	 sub         sp, sp, #0x14
  00008		 |$M44701|

; 786  :     static USB_DEVICE_DESCRIPTOR deviceDescriptor;
; 787  :     static UFN_ENDPOINT rgEndPoints[3];
; 788  :     static UFN_INTERFACE Interface;
; 789  :     static UFN_CONFIGURATION deviceConfiguration;
; 790  : 
; 791  :     deviceConfiguration.pInterfaces = &Interface;

  00008	e59f60b8	 ldr         r6, [pc, #0xB8]

; 792  :     deviceConfiguration.Descriptor.bNumInterfaces = 1;
; 793  :     Interface.pEndpoints = rgEndPoints;
; 794  :     Interface.Descriptor.bNumEndpoints = 3;
; 795  :     rgEndPoints[0].Descriptor.bEndpointAddress = 0x01; // EP1, OUT (BULK)

  0000c	e3a03001	 mov         r3, #1

; 796  :     rgEndPoints[0].Descriptor.wMaxPacketSize = EPMaxSize;

  00010	e3a02040	 mov         r2, #0x40
  00014	e5c63052	 strb        r3, [r6, #0x52]
  00018	e1c625b4	 strh        r2, [r6, #0x54]

; 797  :     rgEndPoints[0].Descriptor.bmAttributes = USB_ENDPOINT_TYPE_BULK;

  0001c	e3a02002	 mov         r2, #2

; 798  :     rgEndPoints[1].Descriptor.bEndpointAddress = 0x82; // EP2, IN (BULK)
; 799  :     rgEndPoints[1].Descriptor.wMaxPacketSize = EPMaxSize;
; 800  :     rgEndPoints[1].Descriptor.bmAttributes = USB_ENDPOINT_TYPE_BULK;
; 801  :     rgEndPoints[2].Descriptor.bEndpointAddress = 0x83; // EP3, IN (INT)
; 802  :     rgEndPoints[2].Descriptor.wMaxPacketSize = EPMaxSize;
; 803  :     rgEndPoints[2].Descriptor.bmAttributes = USB_ENDPOINT_TYPE_INTERRUPT;
; 804  :     deviceDescriptor.bMaxPacketSize0 = EP0MaxSize;
; 805  : 
; 806  : 
; 807  :     // We assume knowledge of the RegisterDevice function implementation and pass very simplified arguments
; 808  :     g_pddInterface.pfnRegisterDevice( g_pddInterface.pvPddContext, 
; 809  :                                         NULL, NULL, NULL,
; 810  :                                         &deviceDescriptor, &deviceConfiguration, NULL,
; 811  :                                         NULL, 0 );

  00020	e5c62053	 strb        r2, [r6, #0x53]
  00024	e3a02082	 mov         r2, #0x82
  00028	e5c62066	 strb        r2, [r6, #0x66]
  0002c	e3a02040	 mov         r2, #0x40
  00030	e1c626b8	 strh        r2, [r6, #0x68]
  00034	e3a02002	 mov         r2, #2
  00038	e59f3084	 ldr         r3, [pc, #0x84]
  0003c	e3a01083	 mov         r1, #0x83
  00040	e5c62067	 strb        r2, [r6, #0x67]
  00044	e5c6107a	 strb        r1, [r6, #0x7A]
  00048	e3a01040	 mov         r1, #0x40
  0004c	e593000c	 ldr         r0, [r3, #0xC]
  00050	e5935020	 ldr         r5, [r3, #0x20]
  00054	e1c617bc	 strh        r1, [r6, #0x7C]
  00058	e3a01003	 mov         r1, #3
  0005c	e2863030	 add         r3, r6, #0x30
  00060	e286204c	 add         r2, r6, #0x4C
  00064	e3a09001	 mov         r9, #1
  00068	e3a0a003	 mov         r10, #3
  0006c	e3a08040	 mov         r8, #0x40
  00070	e2864014	 add         r4, r6, #0x14
  00074	e3a07000	 mov         r7, #0
  00078	e5c6107b	 strb        r1, [r6, #0x7B]
  0007c	e586302c	 str         r3, [r6, #0x2C]
  00080	e5862048	 str         r2, [r6, #0x48]
  00084	e3a01000	 mov         r1, #0
  00088	e3a03000	 mov         r3, #0
  0008c	e3a02000	 mov         r2, #0
  00090	e5c6901c	 strb        r9, [r6, #0x1C]
  00094	e5c6a038	 strb        r10, [r6, #0x38]
  00098	e5c68007	 strb        r8, [r6, #7]
  0009c	e58d7010	 str         r7, [sp, #0x10]
  000a0	e58d700c	 str         r7, [sp, #0xC]
  000a4	e58d7008	 str         r7, [sp, #8]
  000a8	e58d4004	 str         r4, [sp, #4]
  000ac	e58d6000	 str         r6, [sp]
  000b0	e1a0e00f	 mov         lr, pc
  000b4	e12fff15	 bx          r5

; 812  : }

  000b8	e28dd014	 add         sp, sp, #0x14
  000bc	e8bd47f0	 ldmia       sp!, {r4 - r10, lr}
  000c0	e12fff1e	 bx          lr
  000c4		 |$LN6@RegisterUS|
  000c4		 |$LN7@RegisterUS|
  000c4	00000000	 DCD         |g_pddInterface|
  000c8		 |$LN8@RegisterUS|
  000c8	00000000	 DCD         |?deviceDescriptor@?1??RegisterUSBDevice@@9@9|
  000cc		 |$M44702|

			 ENDP  ; |RegisterUSBDevice|

	EXPORT	|PDDDeinit|
	EXPORT	|??_C@_1DA@MNIGJPIF@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAD?$AAe?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@EACCPFEN@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAD?$AAe?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T44718| DCD	|$LN9@PDDDeinit|
	DCD	0x40001301

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@MNIGJPIF@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAD?$AAe?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "D", 0x0, "e", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@EACCPFEN@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAD?$AAe?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "D", 0x0, "e", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDDDeinit| PROC

; 898  : {

  00000		 |$LN9@PDDDeinit|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M44715|

; 899  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+RNDIS_USBFN_PDDDenit\r\n"));

  00004	e59f403c	 ldr         r4, [pc, #0x3C]
  00008	e5943440	 ldr         r3, [r4, #0x440]
  0000c	e3130a02	 tst         r3, #2, 20
  00010	0a000004	 beq         |$LN3@PDDDeinit|
  00014	e3130004	 tst         r3, #4
  00018	0a000002	 beq         |$LN3@PDDDeinit|
  0001c	e59f0020	 ldr         r0, [pc, #0x20]
  00020	eb000000	 bl          NKDbgPrintfW
  00024	e5943440	 ldr         r3, [r4, #0x440]
  00028		 |$LN3@PDDDeinit|

; 900  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-RNDIS_USBFN_PDDDenit\r\n"));

  00028	e3130a02	 tst         r3, #2, 20
  0002c	13130004	 tstne       r3, #4
  00030	159f0008	 ldrne       r0, [pc, #8]
  00034	1b000000	 blne        NKDbgPrintfW

; 901  : }

  00038	e8bd4010	 ldmia       sp!, {r4, lr}
  0003c	e12fff1e	 bx          lr
  00040		 |$LN10@PDDDeinit|
  00040		 |$LN11@PDDDeinit|
  00040	00000000	 DCD         |??_C@_1DA@MNIGJPIF@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAD?$AAe?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00044		 |$LN12@PDDDeinit|
  00044	00000000	 DCD         |??_C@_1DA@EACCPFEN@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAD?$AAe?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00048		 |$LN13@PDDDeinit|
  00048	00000000	 DCD         |dpCurSettings|
  0004c		 |$M44716|

			 ENDP  ; |PDDDeinit|

	EXPORT	|PDD_SendRndisMessage|
	EXPORT	|??_C@_1EI@ONHOMNHJ@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HE@PDJOEOPK@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GK@OCDDHLML@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EI@LPKHCIID@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T44739| DCD	|$LN16@PDD_SendRn|
	DCD	0x40004201

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EI@ONHOMNHJ@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i"
	DCB	0x0, "s", 0x0, "M", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "a"
	DCB	0x0, "g", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HE@PDJOEOPK@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i"
	DCB	0x0, "s", 0x0, "M", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "a"
	DCB	0x0, "g", 0x0, "e", 0x0, ":", 0x0, " ", 0x0, "i", 0x0, "s"
	DCB	0x0, "s", 0x0, "u", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "u", 0x0, "p", 0x0, "t", 0x0, ".", 0x0, ".", 0x0, "."
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GK@OCDDHLML@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i"
	DCB	0x0, "s", 0x0, "M", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "a"
	DCB	0x0, "g", 0x0, "e", 0x0, ":", 0x0, " ", 0x0, "m", 0x0, "e"
	DCB	0x0, "s", 0x0, "s", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, " "
	DCB	0x0, "q", 0x0, "u", 0x0, "e", 0x0, "u", 0x0, "e", 0x0, "d"
	DCB	0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EI@LPKHCIID@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i"
	DCB	0x0, "s", 0x0, "M", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, "a"
	DCB	0x0, "g", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_SendRndisMessage| PROC

; 921  : {

  00000		 |$LN16@PDD_SendRn|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M44736|
  00004	e1a05000	 mov         r5, r0

; 922  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+RNDIS_USBFN_PDD_SendRndisMessage\r\n"));

  00008	e59f40f4	 ldr         r4, [pc, #0xF4]
  0000c	e5943440	 ldr         r3, [r4, #0x440]
  00010	e3130a02	 tst         r3, #2, 20
  00014	13130004	 tstne       r3, #4
  00018	159f00e0	 ldrne       r0, [pc, #0xE0]
  0001c	1b000000	 blne        NKDbgPrintfW

; 923  : 
; 924  :     //
; 925  :     // We don't do the actual sending here but queue it up...
; 926  :     // We then trigger Interrupt endpoint to send interrupt to host which will in turn
; 927  :     // use EP0 to GET_ENCAPSULATED_RESPONSE
; 928  : #pragma warning (push)
; 929  : #pragma warning (disable: 4127)
; 930  :     InsertTailList((&g_RndisKitlDev.listTxRndisMessageQueue), &(pDataWrapper->Link));

  00020	e59f10d4	 ldr         r1, [pc, #0xD4]
  00024	e5912438	 ldr         r2, [r1, #0x438]
  00028	e2813b01	 add         r3, r1, #1, 22
  0002c	e2833034	 add         r3, r3, #0x34
  00030	e5853000	 str         r3, [r5]
  00034	e5852004	 str         r2, [r5, #4]
  00038	e5825000	 str         r5, [r2]

; 931  : #pragma warning (pop)
; 932  : 
; 933  :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 934  :         L"+RNDIS_USBFN_PDD_SendRndisMessage: message queued.\r\n"
; 935  :     ));

  0003c	e5942440	 ldr         r2, [r4, #0x440]
  00040	e5815438	 str         r5, [r1, #0x438]
  00044	e3120a02	 tst         r2, #2, 20
  00048	0a000004	 beq         |$LN8@PDD_SendRn|
  0004c	e3120004	 tst         r2, #4
  00050	0a000002	 beq         |$LN8@PDD_SendRn|
  00054	e59f009c	 ldr         r0, [pc, #0x9C]
  00058	eb000000	 bl          NKDbgPrintfW
  0005c	e5942440	 ldr         r2, [r4, #0x440]
  00060		 |$LN8@PDD_SendRn|

; 936  :     // Interrupt (via interrupt endpoint) the host to GET_ENCAPSULATED_RESPONSE
; 937  : 
; 938  :     // g_EP3Transfer.dwCallerPermissions;
; 939  :     g_EP3Transfer.dwFlags = USB_REQUEST_DEVICE_TO_HOST;

  00060	e59f508c	 ldr         r5, [pc, #0x8C]

; 940  :     g_EP3Transfer.pvBuffer = &g_InterruptData;

  00064	e59f3084	 ldr         r3, [pc, #0x84]
  00068	e3a01080	 mov         r1, #0x80

; 941  :     // g_EP3Transfer.dwBufferPhysicalAddress; // not used
; 942  :     g_EP3Transfer.cbBuffer = sizeof(g_InterruptData);
; 943  :     g_EP3Transfer.cbTransferred = 0;
; 944  :     g_EP3Transfer.dwUsbError = UFN_NOT_COMPLETE_ERROR; // Possible values are in usbfntypes.h
; 945  :     g_EP3Transfer.pvPddData = NULL;
; 946  :     g_EP3Transfer.pvPddTransferInfo = NULL;
; 947  : 
; 948  :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 949  :         L"+RNDIS_USBFN_PDD_SendRndisMessage: issuing interrupt...\r\n"
; 950  :     ));

  0006c	e3120a02	 tst         r2, #2, 20
  00070	e885000a	 stmia       r5, {r1, r3}
  00074	e3a03008	 mov         r3, #8
  00078	e585300c	 str         r3, [r5, #0xC]
  0007c	e3a01c01	 mov         r1, #1, 24
  00080	13120004	 tstne       r2, #4
  00084	159f0060	 ldrne       r0, [pc, #0x60]
  00088	e3a03000	 mov         r3, #0
  0008c	e5853010	 str         r3, [r5, #0x10]
  00090	e3813003	 orr         r3, r1, #3
  00094	e5853014	 str         r3, [r5, #0x14]
  00098	e3a03000	 mov         r3, #0
  0009c	e5853018	 str         r3, [r5, #0x18]
  000a0	e3a03000	 mov         r3, #0
  000a4	e585301c	 str         r3, [r5, #0x1C]
  000a8	1b000000	 blne        NKDbgPrintfW

; 951  :     g_pddInterface.pfnIssueTransfer( g_pddInterface.pvPddContext, 3, &g_EP3Transfer );

  000ac	e59f3034	 ldr         r3, [pc, #0x34]
  000b0	e1a02005	 mov         r2, r5
  000b4	e3a01003	 mov         r1, #3
  000b8	e593000c	 ldr         r0, [r3, #0xC]
  000bc	e5933030	 ldr         r3, [r3, #0x30]
  000c0	e1a0e00f	 mov         lr, pc
  000c4	e12fff13	 bx          r3

; 952  : 
; 953  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-RNDIS_USBFN_PDD_SendRndisMessage\r\n"));

  000c8	e5943440	 ldr         r3, [r4, #0x440]
  000cc	e3130a02	 tst         r3, #2, 20
  000d0	13130004	 tstne       r3, #4
  000d4	159f0008	 ldrne       r0, [pc, #8]
  000d8	1b000000	 blne        NKDbgPrintfW

; 954  : 
; 955  : }

  000dc	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  000e0	e12fff1e	 bx          lr
  000e4		 |$LN17@PDD_SendRn|
  000e4		 |$LN18@PDD_SendRn|
  000e4	00000000	 DCD         |??_C@_1EI@ONHOMNHJ@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@|
  000e8		 |$LN19@PDD_SendRn|
  000e8	00000000	 DCD         |g_pddInterface|
  000ec		 |$LN20@PDD_SendRn|
  000ec	00000000	 DCD         |??_C@_1HE@PDJOEOPK@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@|
  000f0		 |$LN21@PDD_SendRn|
  000f0	00000000	 DCD         |g_InterruptData|
  000f4		 |$LN22@PDD_SendRn|
  000f4	00000000	 DCD         |g_EP3Transfer|
  000f8		 |$LN23@PDD_SendRn|
  000f8	00000000	 DCD         |??_C@_1GK@OCDDHLML@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@|
  000fc		 |$LN24@PDD_SendRn|
  000fc	00000000	 DCD         |g_RndisKitlDev|
  00100		 |$LN25@PDD_SendRn|
  00100	00000000	 DCD         |??_C@_1EI@LPKHCIID@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg@|
  00104		 |$LN26@PDD_SendRn|
  00104	00000000	 DCD         |dpCurSettings|
  00108		 |$M44737|

			 ENDP  ; |PDD_SendRndisMessage|

	EXPORT	|PDD_SendRndisPacket|
	EXPORT	|??_C@_1EG@FPFPIBJG@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@MIKLDILD@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?$CK?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AA?5?$AAp?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAe?$AAn?$AAd?$AA?5?$AAr?$AAn?$AAd?$AAi?$AAs?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EI@PJCOBAOE@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@FDHKBGKN@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T44765| DCD	|$LN14@PDD_SendRn@2|
	DCD	0x40004601

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@FPFPIBJG@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i"
	DCB	0x0, "s", 0x0, "P", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@MIKLDILD@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?$CK?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AA?5?$AAp?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAe?$AAn?$AAd?$AA?5?$AAr?$AAn?$AAd?$AAi?$AAs?$AA?5@| DCB "*"
	DCB	0x0, "*", 0x0, "*", 0x0, "*", 0x0, "M", 0x0, "u", 0x0, "l"
	DCB	0x0, "t", 0x0, "i", 0x0, "p", 0x0, "l", 0x0, "e", 0x0, " "
	DCB	0x0, "p", 0x0, "e", 0x0, "n", 0x0, "d", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "n", 0x0, "d"
	DCB	0x0, " ", 0x0, "r", 0x0, "n", 0x0, "d", 0x0, "i", 0x0, "s"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e"
	DCB	0x0, "t", 0x0, "!", 0x0, "!", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EI@PJCOBAOE@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs@| DCB "G"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "S", 0x0, "e", 0x0, "n"
	DCB	0x0, "d", 0x0, "P", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e"
	DCB	0x0, "t", 0x0, " ", 0x0, "R", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "[", 0x0, "%"
	DCB	0x0, "d", 0x0, " ", 0x0, "b", 0x0, "y", 0x0, "t", 0x0, "e"
	DCB	0x0, "s", 0x0, "]", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@FDHKBGKN@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "n", 0x0, "d", 0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i"
	DCB	0x0, "s", 0x0, "P", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_SendRndisPacket| PROC

; 975  : {    

  00000		 |$LN14@PDD_SendRn@2|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M44762|
  00004	e1a04000	 mov         r4, r0

; 976  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+RNDIS_USBFN_PDD_SendRndisPacket\r\n"));

  00008	e59f6104	 ldr         r6, [pc, #0x104]
  0000c	e5962440	 ldr         r2, [r6, #0x440]
  00010	e3120a02	 tst         r2, #2, 20
  00014	0a000004	 beq         |$LN4@PDD_SendRn@2|
  00018	e3120004	 tst         r2, #4
  0001c	0a000002	 beq         |$LN4@PDD_SendRn@2|
  00020	e59f00e8	 ldr         r0, [pc, #0xE8]
  00024	eb000000	 bl          NKDbgPrintfW
  00028	e5962440	 ldr         r2, [r6, #0x440]
  0002c		 |$LN4@PDD_SendRn@2|

; 977  :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 978  :         L"Got SendPacket Request [%d bytes]\r\n", pDataWrapper->dwDataSize
; 979  :     ));

  0002c	e3120a02	 tst         r2, #2, 20
  00030	0a000005	 beq         |$LN6@PDD_SendRn@2|
  00034	e3120004	 tst         r2, #4
  00038	0a000003	 beq         |$LN6@PDD_SendRn@2|
  0003c	e594100c	 ldr         r1, [r4, #0xC]
  00040	e59f00c4	 ldr         r0, [pc, #0xC4]
  00044	eb000000	 bl          NKDbgPrintfW
  00048	e5962440	 ldr         r2, [r6, #0x440]
  0004c		 |$LN6@PDD_SendRn@2|

; 980  : 
; 981  :     if (g_RndisKitlDev.pTxDataWrapper != NULL) {

  0004c	e59f50b4	 ldr         r5, [pc, #0xB4]
  00050	e595343c	 ldr         r3, [r5, #0x43C]
  00054	e3530000	 cmp         r3, #0
  00058	0a000004	 beq         |$LN1@PDD_SendRn@2|

; 982  :         //
; 983  :         // BAD!
; 984  :         // This should never happen!!
; 985  :         // Return the packet immediately..
; 986  :         //
; 987  :         OALMSG(OAL_ERROR, (L"****Multiple pending send rndis packet!!\r\n"));

  0005c	e3120001	 tst         r2, #1
  00060	159f009c	 ldrne       r0, [pc, #0x9C]
  00064	1b000000	 blne        NKDbgPrintfW

; 988  :         MddSendRndisPacketComplete(pDataWrapper);

  00068	e1a00004	 mov         r0, r4
  0006c	eb000000	 bl          MddSendRndisPacketComplete
  00070		 |$LN1@PDD_SendRn@2|

; 989  :     }
; 990  : 
; 991  :     // save the data wrapper pointer so we can return later it in TxComplete call
; 992  :     g_RndisKitlDev.pTxDataWrapper = pDataWrapper;
; 993  : 
; 994  :     // Get permision same as caller
; 995  :     // perm = GetCurrentPermissions();
; 996  :     // SetProcPermissions(pTransfer->dwCallerPermissions);
; 997  : 
; 998  :     // g_EP2Transfer.dwCallerPermissions;
; 999  :     g_EP2Transfer.dwFlags = USB_REQUEST_DEVICE_TO_HOST;

  00070	e59f2088	 ldr         r2, [pc, #0x88]
  00074	e3a03080	 mov         r3, #0x80
  00078	e585443c	 str         r4, [r5, #0x43C]
  0007c	e5823000	 str         r3, [r2]

; 1000 :     g_EP2Transfer.pvBuffer = pDataWrapper->pucData;

  00080	e5943008	 ldr         r3, [r4, #8]

; 1001 :     // g_EP2Transfer.dwBufferPhysicalAddress; // not used
; 1002 :     g_EP2Transfer.cbBuffer = pDataWrapper->dwDataSize;
; 1003 :     g_EP2Transfer.cbTransferred = 0;
; 1004 :     g_EP2Transfer.dwUsbError = UFN_NOT_COMPLETE_ERROR; // Possible values are in usbfntypes.h
; 1005 :     g_EP2Transfer.pvPddData = NULL;
; 1006 :     g_EP2Transfer.pvPddTransferInfo = NULL;
; 1007 : 
; 1008 :     g_EP2TransferState = TS_SENDING_PACKET;
; 1009 :     g_pddInterface.pfnIssueTransfer( g_pddInterface.pvPddContext, 2, &g_EP2Transfer );

  00084	e3a0ec01	 mov         lr, #1, 24
  00088	e3a00000	 mov         r0, #0
  0008c	e5823004	 str         r3, [r2, #4]
  00090	e594300c	 ldr         r3, [r4, #0xC]
  00094	e59f1060	 ldr         r1, [pc, #0x60]
  00098	e59f5058	 ldr         r5, [pc, #0x58]
  0009c	e582300c	 str         r3, [r2, #0xC]
  000a0	e38e3003	 orr         r3, lr, #3
  000a4	e5820010	 str         r0, [r2, #0x10]
  000a8	e5823014	 str         r3, [r2, #0x14]
  000ac	e3a03000	 mov         r3, #0
  000b0	e5823018	 str         r3, [r2, #0x18]
  000b4	e591000c	 ldr         r0, [r1, #0xC]
  000b8	e5914030	 ldr         r4, [r1, #0x30]
  000bc	e3a03000	 mov         r3, #0
  000c0	e3a07004	 mov         r7, #4
  000c4	e582301c	 str         r3, [r2, #0x1C]
  000c8	e3a01002	 mov         r1, #2
  000cc	e5857000	 str         r7, [r5]
  000d0	e1a0e00f	 mov         lr, pc
  000d4	e12fff14	 bx          r4

; 1010 : 
; 1011 :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-RNDIS_USBFN_PDD_SendRndisPacket\r\n"));

  000d8	e5963440	 ldr         r3, [r6, #0x440]
  000dc	e3130a02	 tst         r3, #2, 20
  000e0	13130004	 tstne       r3, #4
  000e4	159f0008	 ldrne       r0, [pc, #8]
  000e8	1b000000	 blne        NKDbgPrintfW

; 1012 : }

  000ec	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  000f0	e12fff1e	 bx          lr
  000f4		 |$LN15@PDD_SendRn@2|
  000f4		 |$LN16@PDD_SendRn@2|
  000f4	00000000	 DCD         |??_C@_1EG@FPFPIBJG@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt@|
  000f8		 |$LN17@PDD_SendRn@2|
  000f8	00000000	 DCD         |g_EP2TransferState|
  000fc		 |$LN18@PDD_SendRn@2|
  000fc	00000000	 DCD         |g_pddInterface|
  00100		 |$LN19@PDD_SendRn@2|
  00100	00000000	 DCD         |g_EP2Transfer|
  00104		 |$LN20@PDD_SendRn@2|
  00104	00000000	 DCD         |??_C@_1FG@MIKLDILD@?$AA?$CK?$AA?$CK?$AA?$CK?$AA?$CK?$AAM?$AAu?$AAl?$AAt?$AAi?$AAp?$AAl?$AAe?$AA?5?$AAp?$AAe?$AAn?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAs?$AAe?$AAn?$AAd?$AA?5?$AAr?$AAn?$AAd?$AAi?$AAs?$AA?5@|
  00108		 |$LN21@PDD_SendRn@2|
  00108	00000000	 DCD         |g_RndisKitlDev|
  0010c		 |$LN22@PDD_SendRn@2|
  0010c	00000000	 DCD         |??_C@_1EI@PJCOBAOE@?$AAG?$AAo?$AAt?$AA?5?$AAS?$AAe?$AAn?$AAd?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?5?$AAb?$AAy?$AAt?$AAe?$AAs@|
  00110		 |$LN23@PDD_SendRn@2|
  00110	00000000	 DCD         |??_C@_1EG@FDHKBGKN@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAn?$AAd?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa?$AAc?$AAk?$AAe?$AAt@|
  00114		 |$LN24@PDD_SendRn@2|
  00114	00000000	 DCD         |dpCurSettings|
  00118		 |$M44763|

			 ENDP  ; |PDD_SendRndisPacket|

	EXPORT	|PDD_Set|
	EXPORT	|??_C@_1CO@MBMDAIGD@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@LPFOEPEC@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAH?$AAA?$AAR?$AAD?$AA_?$AAR?$AAE?$AAS?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@MFNCMIPE@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAS?$AAO?$AAF?$AAT?$AA_?$AAR?$AAE?$AAS?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@KFPGHMKG@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAE?$AAN?$AAA?$AAB?$AAL?$AAE?$AA_?$AAI?$AAN?$AAT?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@PGGKHLLK@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAD?$AAI?$AAS?$AAA?$AAB?$AAL?$AAE?$AA_?$AAI?$AAN?$AAT?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@PIKCPFME@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?3?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@BKAHFHEI@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T44801| DCD	|$LN27@PDD_Set|
	DCD	0x40004601

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@MBMDAIGD@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@LPFOEPEC@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAH?$AAA?$AAR?$AAD?$AA_?$AAR?$AAE?$AAS?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@| DCB "P"
	DCB	0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, ":", 0x0, "R", 0x0, "E", 0x0, "Q", 0x0, "_", 0x0, "I"
	DCB	0x0, "D", 0x0, "_", 0x0, "H", 0x0, "A", 0x0, "R", 0x0, "D"
	DCB	0x0, "_", 0x0, "R", 0x0, "E", 0x0, "S", 0x0, "E", 0x0, "T"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@MFNCMIPE@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAS?$AAO?$AAF?$AAT?$AA_?$AAR?$AAE?$AAS?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@| DCB "P"
	DCB	0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, ":", 0x0, "R", 0x0, "E", 0x0, "Q", 0x0, "_", 0x0, "I"
	DCB	0x0, "D", 0x0, "_", 0x0, "S", 0x0, "O", 0x0, "F", 0x0, "T"
	DCB	0x0, "_", 0x0, "R", 0x0, "E", 0x0, "S", 0x0, "E", 0x0, "T"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@KFPGHMKG@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAE?$AAN?$AAA?$AAB?$AAL?$AAE?$AA_?$AAI?$AAN?$AAT?$AA?$AN?$AA?6?$AA?$AA@| DCB "P"
	DCB	0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, ":", 0x0, "R", 0x0, "E", 0x0, "Q", 0x0, "_", 0x0, "I"
	DCB	0x0, "D", 0x0, "_", 0x0, "E", 0x0, "N", 0x0, "A", 0x0, "B"
	DCB	0x0, "L", 0x0, "E", 0x0, "_", 0x0, "I", 0x0, "N", 0x0, "T"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@PGGKHLLK@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAD?$AAI?$AAS?$AAA?$AAB?$AAL?$AAE?$AA_?$AAI?$AAN?$AAT?$AA?$AN?$AA?6?$AA?$AA@| DCB "P"
	DCB	0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, ":", 0x0, "R", 0x0, "E", 0x0, "Q", 0x0, "_", 0x0, "I"
	DCB	0x0, "D", 0x0, "_", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "A"
	DCB	0x0, "B", 0x0, "L", 0x0, "E", 0x0, "_", 0x0, "I", 0x0, "N"
	DCB	0x0, "T", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@PIKCPFME@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?3?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "P"
	DCB	0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, ":", 0x0, "U", 0x0, "n", 0x0, "k", 0x0, "n", 0x0, "o"
	DCB	0x0, "w", 0x0, "n", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q"
	DCB	0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t", 0x0, ":", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@BKAHFHEI@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_Set| PROC

; 1037 : {

  00000		 |$LN27@PDD_Set|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M44798|
  00004	e1a04000	 mov         r4, r0

; 1038 :     BOOL fRet = TRUE;
; 1039 : 
; 1040 : 	UNREFERENCED_PARAMETER(ulDataLength);
; 1041 : 	UNREFERENCED_PARAMETER(pvData);
; 1042 : 
; 1043 :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+RNDIS_USBFN_PDD_Set\r\n"));

  00008	e59f5104	 ldr         r5, [pc, #0x104]
  0000c	e3a06001	 mov         r6, #1
  00010	e5953440	 ldr         r3, [r5, #0x440]
  00014	e3130a02	 tst         r3, #2, 20
  00018	0a000004	 beq         |$LN10@PDD_Set|
  0001c	e3130004	 tst         r3, #4
  00020	0a000002	 beq         |$LN10@PDD_Set|
  00024	e59f00e4	 ldr         r0, [pc, #0xE4]
  00028	eb000000	 bl          NKDbgPrintfW
  0002c	e5953440	 ldr         r3, [r5, #0x440]
  00030		 |$LN10@PDD_Set|

; 1044 :     // Need to finish all requests here
; 1045 :     switch(uiRequestId) {

  00030	e3540001	 cmp         r4, #1
  00034	0a000021	 beq         |$LN5@PDD_Set|
  00038	e3540002	 cmp         r4, #2
  0003c	0a000019	 beq         |$LN4@PDD_Set|
  00040	e3540003	 cmp         r4, #3
  00044	0a000011	 beq         |$LN3@PDD_Set|
  00048	e3540004	 cmp         r4, #4
  0004c	0a000009	 beq         |$LN2@PDD_Set|

; 1058 :     default:
; 1059 :         OALMSG(OAL_ETHER&&OAL_FUNC, (
; 1060 :             L"PDD_Set:Unknown request:0x%x\r\n", uiRequestId
; 1061 :         ));

  00050	e3130a02	 tst         r3, #2, 20
  00054	0a000005	 beq         |$LN20@PDD_Set|
  00058	e3130004	 tst         r3, #4
  0005c	0a000003	 beq         |$LN20@PDD_Set|
  00060	e59f00a4	 ldr         r0, [pc, #0xA4]
  00064	e1a01004	 mov         r1, r4
  00068	eb000000	 bl          NKDbgPrintfW
  0006c	e5953440	 ldr         r3, [r5, #0x440]
  00070		 |$LN20@PDD_Set|

; 1062 :         fRet = FALSE;

  00070	e3a06000	 mov         r6, #0

; 1063 :         break;

  00074	ea000018	 b           |$LN12@PDD_Set|
  00078		 |$LN2@PDD_Set|

; 1055 :     case REQ_ID_DISABLE_INT:
; 1056 :         OALMSG(OAL_ETHER&&OAL_FUNC, (L"PDD_Set:REQ_ID_DISABLE_INT\r\n"));

  00078	e3130a02	 tst         r3, #2, 20
  0007c	0a000016	 beq         |$LN12@PDD_Set|
  00080	e3130004	 tst         r3, #4
  00084	0a000014	 beq         |$LN12@PDD_Set|
  00088	e59f0078	 ldr         r0, [pc, #0x78]

; 1057 :         break;

  0008c	ea000010	 b           |$LN24@PDD_Set|
  00090		 |$LN3@PDD_Set|

; 1052 :     case REQ_ID_ENABLE_INT:
; 1053 :         OALMSG(OAL_ETHER&&OAL_FUNC, (L"PDD_Set:REQ_ID_ENABLE_INT\r\n"));

  00090	e3130a02	 tst         r3, #2, 20
  00094	0a000010	 beq         |$LN12@PDD_Set|
  00098	e3130004	 tst         r3, #4
  0009c	0a00000e	 beq         |$LN12@PDD_Set|
  000a0	e59f005c	 ldr         r0, [pc, #0x5C]

; 1054 :         break;

  000a4	ea00000a	 b           |$LN24@PDD_Set|
  000a8		 |$LN4@PDD_Set|

; 1048 :         break;
; 1049 :     case REQ_ID_SOFT_RESET:
; 1050 :         OALMSG(OAL_ETHER&&OAL_FUNC, (L"PDD_Set:REQ_ID_SOFT_RESET\r\n"));

  000a8	e3130a02	 tst         r3, #2, 20
  000ac	0a00000a	 beq         |$LN12@PDD_Set|
  000b0	e3130004	 tst         r3, #4
  000b4	0a000008	 beq         |$LN12@PDD_Set|
  000b8	e59f0040	 ldr         r0, [pc, #0x40]

; 1051 :         break;

  000bc	ea000004	 b           |$LN24@PDD_Set|
  000c0		 |$LN5@PDD_Set|

; 1046 :     case REQ_ID_HARD_RESET:
; 1047 :         OALMSG(OAL_ETHER&&OAL_FUNC, (L"PDD_Set:REQ_ID_HARD_RESET\r\n"));

  000c0	e3130a02	 tst         r3, #2, 20
  000c4	0a000004	 beq         |$LN12@PDD_Set|
  000c8	e3130004	 tst         r3, #4
  000cc	0a000002	 beq         |$LN12@PDD_Set|
  000d0	e59f0024	 ldr         r0, [pc, #0x24]
  000d4		 |$LN24@PDD_Set|
  000d4	eb000000	 bl          NKDbgPrintfW
  000d8	e5953440	 ldr         r3, [r5, #0x440]
  000dc		 |$LN12@PDD_Set|

; 1064 :     }
; 1065 :     
; 1066 :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-RNDIS_USBFN_PDD_Set\r\n"));

  000dc	e3130a02	 tst         r3, #2, 20
  000e0	13130004	 tstne       r3, #4
  000e4	159f000c	 ldrne       r0, [pc, #0xC]
  000e8	1b000000	 blne        NKDbgPrintfW

; 1067 :     return fRet;
; 1068 : }

  000ec	e1a00006	 mov         r0, r6
  000f0	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000f4	e12fff1e	 bx          lr
  000f8		 |$LN28@PDD_Set|
  000f8		 |$LN29@PDD_Set|
  000f8	00000000	 DCD         |??_C@_1CO@MBMDAIGD@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  000fc		 |$LN30@PDD_Set|
  000fc	00000000	 DCD         |??_C@_1DI@LPFOEPEC@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAH?$AAA?$AAR?$AAD?$AA_?$AAR?$AAE?$AAS?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@|
  00100		 |$LN31@PDD_Set|
  00100	00000000	 DCD         |??_C@_1DI@MFNCMIPE@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAS?$AAO?$AAF?$AAT?$AA_?$AAR?$AAE?$AAS?$AAE?$AAT?$AA?$AN?$AA?6?$AA?$AA@|
  00104		 |$LN32@PDD_Set|
  00104	00000000	 DCD         |??_C@_1DI@KFPGHMKG@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAE?$AAN?$AAA?$AAB?$AAL?$AAE?$AA_?$AAI?$AAN?$AAT?$AA?$AN?$AA?6?$AA?$AA@|
  00108		 |$LN33@PDD_Set|
  00108	00000000	 DCD         |??_C@_1DK@PGGKHLLK@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAR?$AAE?$AAQ?$AA_?$AAI?$AAD?$AA_?$AAD?$AAI?$AAS?$AAA?$AAB?$AAL?$AAE?$AA_?$AAI?$AAN?$AAT?$AA?$AN?$AA?6?$AA?$AA@|
  0010c		 |$LN34@PDD_Set|
  0010c	00000000	 DCD         |??_C@_1DO@PIKCPFME@?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?3?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?3?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00110		 |$LN35@PDD_Set|
  00110	00000000	 DCD         |??_C@_1CO@BKAHFHEI@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAS?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00114		 |$LN36@PDD_Set|
  00114	00000000	 DCD         |dpCurSettings|
  00118		 |$M44799|

			 ENDP  ; |PDD_Set|

	EXPORT	|PDD_Get|
	EXPORT	|??_C@_1CO@MONNNOOA@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@FCCAEHJA@?$AA?9?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@BFBJIBML@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|strlen|

  00000			 AREA	 |.pdata|, PDATA
|$T44836| DCD	|$LN24@PDD_Get|
	DCD	0x40004802

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@MONNNOOA@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "G", 0x0, "e"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@FCCAEHJA@?$AA?9?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6@| DCB "-"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "G", 0x0, "e"
	DCB	0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n", 0x0, "k"
	DCB	0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@BFBJIBML@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "G", 0x0, "e"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_Get| PROC

; 1096 : {

  00000		 |$LN24@PDD_Get|
  00000	e92d47f0	 stmdb       sp!, {r4 - r10, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M44833|
  00008	e1a07003	 mov         r7, r3
  0000c	e1a09002	 mov         r9, r2
  00010	e1a0a001	 mov         r10, r1
  00014	e1a05000	 mov         r5, r0

; 1097 :     BOOL fRet = FALSE;
; 1098 :     ULONG GenericUlong;
; 1099 :     ULONG ulTotalBytes;
; 1100 :     PUCHAR pucBuffer;
; 1101 : 
; 1102 :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+RNDIS_USBFN_PDD_Get\r\n"));

  00018	e59f60fc	 ldr         r6, [pc, #0xFC]
  0001c	e3a08000	 mov         r8, #0
  00020	e5964440	 ldr         r4, [r6, #0x440]
  00024	e3140a02	 tst         r4, #2, 20
  00028	0a000004	 beq         |$LN13@PDD_Get|
  0002c	e3140004	 tst         r4, #4
  00030	0a000002	 beq         |$LN13@PDD_Get|
  00034	e59f00dc	 ldr         r0, [pc, #0xDC]
  00038	eb000000	 bl          NKDbgPrintfW
  0003c	e5964440	 ldr         r4, [r6, #0x440]
  00040		 |$LN13@PDD_Get|

; 1103 : 
; 1104 :     switch(uiRequestId) {

  00040	e3550106	 cmp         r5, #6, 2
  00044	0a000019	 beq         |$LN8@PDD_Get|
  00048	e355010a	 cmp         r5, #0xA, 2
  0004c	0a000013	 beq         |$LN7@PDD_Get|
  00050	e355010e	 cmp         r5, #0xE, 2
  00054	0a00000c	 beq         |$LN6@PDD_Get|
  00058	e3550112	 cmp         r5, #0x12, 2
  0005c	0a000007	 beq         |$LN5@PDD_Get|

; 1122 :     default:
; 1123 :         OALMSG(OAL_ETHER&&OAL_FUNC, (
; 1124 :             L"-PDD_Get: unknown request 0x%x\r\n", uiRequestId
; 1125 :         ));

  00060	e3140a02	 tst         r4, #2, 20
  00064	0a000020	 beq         |$LN1@PDD_Get|
  00068	e3140004	 tst         r4, #4
  0006c	0a00001e	 beq         |$LN1@PDD_Get|
  00070	e59f009c	 ldr         r0, [pc, #0x9C]
  00074	e1a01005	 mov         r1, r5
  00078	eb000000	 bl          NKDbgPrintfW

; 1126 :         pucBuffer = NULL;
; 1127 :         ulTotalBytes = 0;
; 1128 :         break;

  0007c	ea000019	 b           |$LN20@PDD_Get|
  00080		 |$LN5@PDD_Get|

; 1118 :     case REQ_ID_DEVICE_MACADDR:
; 1119 :         pucBuffer = g_RndisMacAddress;

  00080	e59f5088	 ldr         r5, [pc, #0x88]

; 1120 :         ulTotalBytes = sizeof(g_RndisMacAddress);

  00084	e3a00006	 mov         r0, #6

; 1121 :         break;

  00088	ea00000c	 b           |$LN9@PDD_Get|
  0008c		 |$LN6@PDD_Get|

; 1113 :     case REQ_ID_DEVICE_MAX_RX:
; 1114 :         GenericUlong = MAX_INCOMING_BUFFER;

  0008c	e3a03a02	 mov         r3, #2, 20
  00090	e58d3000	 str         r3, [sp]

; 1115 :         pucBuffer = (UCHAR *)&GenericUlong;

  00094	e28d5000	 add         r5, sp, #0

; 1116 :         ulTotalBytes = sizeof(GenericUlong);

  00098	e3a00004	 mov         r0, #4

; 1117 :         break;

  0009c	ea000007	 b           |$LN9@PDD_Get|
  000a0		 |$LN7@PDD_Get|

; 1108 :         break;
; 1109 :     case REQ_ID_VENDOR_DESCRIPTION:
; 1110 :         pucBuffer = pucVendorDescription;

  000a0	e59f3068	 ldr         r3, [pc, #0x68]

; 1111 :         ulTotalBytes = strlen((const char*)pucVendorDescription);

  000a4	e2830014	 add         r0, r3, #0x14
  000a8	e2835014	 add         r5, r3, #0x14

; 1112 :         break;

  000ac	ea000002	 b           |$LN21@PDD_Get|
  000b0		 |$LN8@PDD_Get|

; 1105 :     case REQ_ID_VENDOR_ID:
; 1106 :         pucBuffer = pucVendorID;

  000b0	e59f3058	 ldr         r3, [pc, #0x58]

; 1107 :         ulTotalBytes = strlen((const char*)pucVendorID);

  000b4	e2830008	 add         r0, r3, #8
  000b8	e2835008	 add         r5, r3, #8
  000bc		 |$LN21@PDD_Get|
  000bc	eb000000	 bl          strlen
  000c0		 |$LN9@PDD_Get|

; 1129 :     }
; 1130 : 
; 1131 :     if (pucBuffer) {
; 1132 :         if (pulRequiredLength)

  000c0	e3570000	 cmp         r7, #0

; 1133 :             *pulRequiredLength = ulTotalBytes;

  000c4	15870000	 strne       r0, [r7]
  000c8	15964440	 ldrne       r4, [r6, #0x440]

; 1134 : 
; 1135 :         if (ulTotalBytes <= ulDataLength) {

  000cc	e1500009	 cmp         r0, r9
  000d0	8a000005	 bhi         |$LN1@PDD_Get|

; 1136 :             memcpy(pvData, pucBuffer, ulTotalBytes);

  000d4	e1a02000	 mov         r2, r0
  000d8	e1a0000a	 mov         r0, r10
  000dc	e1a01005	 mov         r1, r5
  000e0	eb000000	 bl          memcpy

; 1137 :             fRet = TRUE;

  000e4	e3a08001	 mov         r8, #1
  000e8		 |$LN20@PDD_Get|
  000e8	e5964440	 ldr         r4, [r6, #0x440]
  000ec		 |$LN1@PDD_Get|

; 1138 :         }
; 1139 :     }
; 1140 : 
; 1141 :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-RNDIS_USBFN_PDD_Get\r\n"));

  000ec	e3140a02	 tst         r4, #2, 20
  000f0	13140004	 tstne       r4, #4
  000f4	159f0010	 ldrne       r0, [pc, #0x10]
  000f8	1b000000	 blne        NKDbgPrintfW

; 1142 :     return fRet;
; 1143 : }

  000fc	e1a00008	 mov         r0, r8
  00100	e28dd004	 add         sp, sp, #4
  00104	e8bd47f0	 ldmia       sp!, {r4 - r10, lr}
  00108	e12fff1e	 bx          lr
  0010c		 |$LN25@PDD_Get|
  0010c		 |$LN26@PDD_Get|
  0010c	00000000	 DCD         |??_C@_1CO@MONNNOOA@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00110		 |$LN27@PDD_Get|
  00110	00000000	 DCD         |g_RndisMacAddress|
  00114		 |$LN28@PDD_Get|
  00114	00000000	 DCD         |??_C@_1EC@FCCAEHJA@?$AA?9?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6@|
  00118		 |$LN29@PDD_Get|
  00118	00000000	 DCD         |??_C@_1CO@BFBJIBML@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAG?$AAe?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  0011c		 |$LN30@PDD_Get|
  0011c	00000000	 DCD         |dpCurSettings|
  00120		 |$M44834|

			 ENDP  ; |PDD_Get|

	EXPORT	|PDD_ISR|
	IMPORT	|InterruptThread|

  00000			 AREA	 |.pdata|, PDATA
|$T44851| DCD	|$LN5@PDD_ISR|
	DCD	0x40000801
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_ISR| PROC

; 1164 : {

  00000		 |$LN5@PDD_ISR|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M44848|

; 1165 : 	UNREFERENCED_PARAMETER(pdwWaitTime);
; 1166 : 
; 1167 :     InterruptThread( g_pddInterface.pvPddContext );

  00004	e59f3010	 ldr         r3, [pc, #0x10]
  00008	e593000c	 ldr         r0, [r3, #0xC]
  0000c	eb000000	 bl          InterruptThread

; 1168 : 
; 1169 :     return TRUE;

  00010	e3a00001	 mov         r0, #1

; 1170 : }   //  PDD_ISR()

  00014	e49de004	 ldr         lr, [sp], #4
  00018	e12fff1e	 bx          lr
  0001c		 |$LN6@PDD_ISR|
  0001c		 |$LN7@PDD_ISR|
  0001c	00000000	 DCD         |g_pddInterface|
  00020		 |$M44849|

			 ENDP  ; |PDD_ISR|

	EXPORT	|PDD_IndicateRndisPacketComplete|
	EXPORT	|??_C@_1FO@HIPGBBGN@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAI?$AAn?$AAd?$AAi?$AAc?$AAa?$AAt?$AAe?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FO@PLBKEBPA@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAI?$AAn?$AAd?$AAi?$AAc?$AAa?$AAt?$AAe?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa@| [ DATA ] ; `string'
	IMPORT	|MDDFreeMem|

  00000			 AREA	 |.pdata|, PDATA
|$T44865| DCD	|$LN9@PDD_Indica|
	DCD	0x40001601

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FO@HIPGBBGN@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAI?$AAn?$AAd?$AAi?$AAc?$AAa?$AAt?$AAe?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "d", 0x0, "i", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i", 0x0, "s", 0x0, "P"
	DCB	0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t", 0x0, "C"
	DCB	0x0, "o", 0x0, "m", 0x0, "p", 0x0, "l", 0x0, "e", 0x0, "t"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FO@PLBKEBPA@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAI?$AAn?$AAd?$AAi?$AAc?$AAa?$AAt?$AAe?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "d", 0x0, "i", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "R", 0x0, "n", 0x0, "d", 0x0, "i", 0x0, "s", 0x0, "P"
	DCB	0x0, "a", 0x0, "c", 0x0, "k", 0x0, "e", 0x0, "t", 0x0, "C"
	DCB	0x0, "o", 0x0, "m", 0x0, "p", 0x0, "l", 0x0, "e", 0x0, "t"
	DCB	0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDD_IndicateRndisPacketComplete| PROC

; 1190 : {

  00000		 |$LN9@PDD_Indica|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M44862|
  00004	e1a05000	 mov         r5, r0

; 1191 :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 1192 :         L"+RNDIS_USBFN_PDD_IndicateRndisPacketComplete\r\n"
; 1193 :     ));

  00008	e59f4044	 ldr         r4, [pc, #0x44]
  0000c	e5943440	 ldr         r3, [r4, #0x440]
  00010	e3130a02	 tst         r3, #2, 20
  00014	13130004	 tstne       r3, #4
  00018	159f0030	 ldrne       r0, [pc, #0x30]
  0001c	1b000000	 blne        NKDbgPrintfW

; 1194 :     MDDFreeMem(pDataWrapper->pucData);

  00020	e5950008	 ldr         r0, [r5, #8]
  00024	eb000000	 bl          MDDFreeMem

; 1195 :     MDDFreeDataWrapper(pDataWrapper);

  00028	e1a00005	 mov         r0, r5
  0002c	eb000000	 bl          MDDFreeDataWrapper

; 1196 :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 1197 :         L"-RNDIS_USBFN_PDD_IndicateRndisPacketComplete\r\n"
; 1198 :     ));

  00030	e5943440	 ldr         r3, [r4, #0x440]
  00034	e3130a02	 tst         r3, #2, 20
  00038	13130004	 tstne       r3, #4
  0003c	159f0008	 ldrne       r0, [pc, #8]
  00040	1b000000	 blne        NKDbgPrintfW

; 1199 : }

  00044	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00048	e12fff1e	 bx          lr
  0004c		 |$LN10@PDD_Indica|
  0004c		 |$LN11@PDD_Indica|
  0004c	00000000	 DCD         |??_C@_1FO@HIPGBBGN@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAI?$AAn?$AAd?$AAi?$AAc?$AAa?$AAt?$AAe?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa@|
  00050		 |$LN12@PDD_Indica|
  00050	00000000	 DCD         |??_C@_1FO@PLBKEBPA@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AA_?$AAI?$AAn?$AAd?$AAi?$AAc?$AAa?$AAt?$AAe?$AAR?$AAn?$AAd?$AAi?$AAs?$AAP?$AAa@|
  00054		 |$LN13@PDD_Indica|
  00054	00000000	 DCD         |dpCurSettings|
  00058		 |$M44863|

			 ENDP  ; |PDD_IndicateRndisPacketComplete|

	EXPORT	|SetRNDISMACAddress|
	IMPORT	|GetUniqueDeviceID|

  00000			 AREA	 |.pdata|, PDATA
|$T44877| DCD	|$LN5@SetRNDISMA|
	DCD	0x40000d01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |SetRNDISMACAddress| PROC

; 1203 : {

  00000		 |$LN5@SetRNDISMA|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M44874|

; 1204 :     DWORD udId = GetUniqueDeviceID();

  00004	eb000000	 bl          GetUniqueDeviceID

; 1205 :    
; 1206 :     g_RndisMacAddress[2] = (UCHAR)(udId);

  00008	e59f2020	 ldr         r2, [pc, #0x20]

; 1207 :     g_RndisMacAddress[3] = (UCHAR)(udId >> 8);

  0000c	e1a03420	 mov         r3, r0, lsr #8
  00010	e5c20002	 strb        r0, [r2, #2]
  00014	e5c23003	 strb        r3, [r2, #3]

; 1208 :     g_RndisMacAddress[4] = (UCHAR)(udId >> 16);

  00018	e1a03820	 mov         r3, r0, lsr #16
  0001c	e5c23004	 strb        r3, [r2, #4]

; 1209 :     g_RndisMacAddress[5] = (UCHAR)(udId >> 24);

  00020	e1a03c20	 mov         r3, r0, lsr #24
  00024	e5c23005	 strb        r3, [r2, #5]

; 1210 : }

  00028	e49de004	 ldr         lr, [sp], #4
  0002c	e12fff1e	 bx          lr
  00030		 |$LN6@SetRNDISMA|
  00030		 |$LN7@SetRNDISMA|
  00030	00000000	 DCD         |g_RndisMacAddress|
  00034		 |$M44875|

			 ENDP  ; |SetRNDISMACAddress|

	EXPORT	|SetRNDISSerialNumber|
	EXPORT	|??_C@_1DG@LOIHLLKG@?$AAR?$AAN?$AAD?$AAI?$AAS?$AA?5?$AAS?$AAe?$AAr?$AAi?$AAa?$AAl?$AA?5?$AAN?$AAu?$AAm?$AAb?$AAe?$AAr?$AA?$DN?$AA?$FL?$AA?$CF?$AAs?$AA?$FN?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T44892| DCD	|$LN12@SetRNDISSe|
	DCD	0x40002c02

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@LOIHLLKG@?$AAR?$AAN?$AAD?$AAI?$AAS?$AA?5?$AAS?$AAe?$AAr?$AAi?$AAa?$AAl?$AA?5?$AAN?$AAu?$AAm?$AAb?$AAe?$AAr?$AA?$DN?$AA?$FL?$AA?$CF?$AAs?$AA?$FN?$AA?$AN?$AA?6?$AA?$AA@| DCB "R"
	DCB	0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, " ", 0x0, "S"
	DCB	0x0, "e", 0x0, "r", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, " "
	DCB	0x0, "N", 0x0, "u", 0x0, "m", 0x0, "b", 0x0, "e", 0x0, "r"
	DCB	0x0, "=", 0x0, "[", 0x0, "%", 0x0, "s", 0x0, "]", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |SetRNDISSerialNumber| PROC

; 1214 : {

  00000		 |$LN12@SetRNDISSe|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M44889|

; 1215 :     BYTE b;
; 1216 :     int i;
; 1217 :     BYTE *pIdBytes; 
; 1218 :     DWORD udId = GetUniqueDeviceID();

  00008	eb000000	 bl          GetUniqueDeviceID
  0000c	e59fe098	 ldr         lr, [pc, #0x98]
  00010	e59f5090	 ldr         r5, [pc, #0x90]
  00014	e58d0000	 str         r0, [sp]
  00018	e1a0400e	 mov         r4, lr

; 1219 :     
; 1220 :     pIdBytes = (BYTE*)&udId;
; 1221 : 
; 1222 :     for (i=0; i< sizeof(udId); i++) {

  0001c	e3a00000	 mov         r0, #0
  00020	e28d6000	 add         r6, sp, #0
  00024		 |$LL3@SetRNDISSe|

; 1223 :         b = pIdBytes[i] & 0xff;

  00024	e7d02006	 ldrb        r2, [r0, +r6]
  00028	e2800001	 add         r0, r0, #1

; 1224 :         gs_SerialNumber.ptcbString[i * 2] = DigitTable[b % 16];

  0002c	e1b03002	 movs        r3, r2
  00030	4283300f	 addmi       r3, r3, #0xF
  00034	e1a03243	 mov         r3, r3, asr #4
  00038	e0423203	 sub         r3, r2, r3, lsl #4
  0003c	e0853083	 add         r3, r5, r3, lsl #1

; 1225 :         gs_SerialNumber.ptcbString[(i * 2) + 1] = DigitTable[b / 16];

  00040	e1d310b0	 ldrh        r1, [r3]
  00044	e1a02222	 mov         r2, r2, lsr #4
  00048	e0853082	 add         r3, r5, r2, lsl #1
  0004c	e1d330b0	 ldrh        r3, [r3]
  00050	e1c410b2	 strh        r1, [r4, #2]
  00054	e3500004	 cmp         r0, #4
  00058	e1e430b4	 strh        r3, [r4, #4]!
  0005c	3afffff0	 bcc         |$LL3@SetRNDISSe|

; 1226 :     }
; 1227 : 
; 1228 :     gs_SerialNumber.ptcbString[ (DWORD)(sizeof(udId)) * 2 ] = '\0';
; 1229 :     gs_SerialNumber.ucbLength = sizeof(gs_SerialNumber);
; 1230 :     gs_SerialNumber.udbDescriptorType = USB_STRING_DESCRIPTOR_TYPE;
; 1231 : 
; 1232 :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 1233 :         L"RNDIS Serial Number=[%s]\r\n", gs_SerialNumber.ptcbString
; 1234 :     ));

  00060	e59f303c	 ldr         r3, [pc, #0x3C]
  00064	e3a02000	 mov         r2, #0
  00068	e3a01014	 mov         r1, #0x14
  0006c	e5933440	 ldr         r3, [r3, #0x440]
  00070	e1ce21b2	 strh        r2, [lr, #0x12]
  00074	e3a02003	 mov         r2, #3
  00078	e3130a02	 tst         r3, #2, 20
  0007c	13130004	 tstne       r3, #4
  00080	159f0018	 ldrne       r0, [pc, #0x18]
  00084	e5ce1000	 strb        r1, [lr]
  00088	128e1002	 addne       r1, lr, #2
  0008c	e5ce2001	 strb        r2, [lr, #1]
  00090	1b000000	 blne        NKDbgPrintfW

; 1235 : }

  00094	e28dd004	 add         sp, sp, #4
  00098	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  0009c	e12fff1e	 bx          lr
  000a0		 |$LN13@SetRNDISSe|
  000a0		 |$LN14@SetRNDISSe|
  000a0	00000000	 DCD         |??_C@_1DG@LOIHLLKG@?$AAR?$AAN?$AAD?$AAI?$AAS?$AA?5?$AAS?$AAe?$AAr?$AAi?$AAa?$AAl?$AA?5?$AAN?$AAu?$AAm?$AAb?$AAe?$AAr?$AA?$DN?$AA?$FL?$AA?$CF?$AAs?$AA?$FN?$AA?$AN?$AA?6?$AA?$AA@|
  000a4		 |$LN15@SetRNDISSe|
  000a4	00000000	 DCD         |dpCurSettings|
  000a8		 |$LN16@SetRNDISSe|
  000a8	00000000	 DCD         |DigitTable|
  000ac		 |$LN17@SetRNDISSe|
  000ac	00000000	 DCD         |gs_SerialNumber|
  000b0		 |$M44890|

			 ENDP  ; |SetRNDISSerialNumber|

	EXPORT	|PDDInit|
	EXPORT	|??_C@_1CO@MPAJKINN@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@COEDNCDC@?$AA?5?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@OLENNHLD@?$AAU?$AAf?$AAn?$AAP?$AAd?$AAd?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$CB?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@BEMNPHPG@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|UfnPdd_Init|
	IMPORT	|InitializeHardware|

  00000			 AREA	 |.pdata|, PDATA
|$T44916| DCD	|$LN14@PDDInit|
	DCD	0x4000a002

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@MPAJKINN@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "I", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@COEDNCDC@?$AA?5?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@| DCB " "
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "I", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, ":", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z"
	DCB	0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, " "
	DCB	0x0, "c", 0x0, "o", 0x0, "m", 0x0, "p", 0x0, "l", 0x0, "e"
	DCB	0x0, "t", 0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@OLENNHLD@?$AAU?$AAf?$AAn?$AAP?$AAd?$AAd?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$CB?$AA?$AA@| DCB "U"
	DCB	0x0, "f", 0x0, "n", 0x0, "P", 0x0, "d", 0x0, "d", 0x0, "_"
	DCB	0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, "!"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@BEMNPHPG@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "R", 0x0, "N", 0x0, "D", 0x0, "I", 0x0, "S", 0x0, "_"
	DCB	0x0, "U", 0x0, "S", 0x0, "B", 0x0, "F", 0x0, "N", 0x0, "_"
	DCB	0x0, "P", 0x0, "D", 0x0, "D", 0x0, "I", 0x0, "n", 0x0, "i"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PDDInit| PROC

; 819  : {

  00000		 |$LN14@PDDInit|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004	e24dd008	 sub         sp, sp, #8
  00008		 |$M44913|
  00008	e58d1004	 str         r1, [sp, #4]
  0000c	e58d0000	 str         r0, [sp]

; 820  :     PDDZONE0 = 0;
; 821  :     PDDZONE = 0;
; 822  :     MDDZONE0 = 0;
; 823  :     MDDZONE = 1;
; 824  :     MDDZONE2 = 1;
; 825  :     MDDZONE3 = 1;
; 826  :     MDDZONE4 = 1;
; 827  :     MDDZONE5 = 0;
; 828  : 
; 829  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"+RNDIS_USBFN_PDDInit\r\n"));

  00010	e59f7264	 ldr         r7, [pc, #0x264]
  00014	e59fa25c	 ldr         r10, [pc, #0x25C]
  00018	e3a0e000	 mov         lr, #0
  0001c	e59f6244	 ldr         r6, [pc, #0x244]
  00020	e587e000	 str         lr, [r7]
  00024	e59f2200	 ldr         r2, [pc, #0x200]
  00028	e3a0e001	 mov         lr, #1
  0002c	e58ae000	 str         lr, [r10]
  00030	e5963440	 ldr         r3, [r6, #0x440]
  00034	e59f11ec	 ldr         r1, [pc, #0x1EC]
  00038	e3a0e001	 mov         lr, #1
  0003c	e582e000	 str         lr, [r2]
  00040	e59f01dc	 ldr         r0, [pc, #0x1DC]
  00044	e3a02001	 mov         r2, #1
  00048	e5812000	 str         r2, [r1]
  0004c	e59fb1e4	 ldr         r11, [pc, #0x1E4]
  00050	e3130a02	 tst         r3, #2, 20
  00054	e3a02000	 mov         r2, #0
  00058	e59f8214	 ldr         r8, [pc, #0x214]
  0005c	e59f920c	 ldr         r9, [pc, #0x20C]
  00060	13130004	 tstne       r3, #4
  00064	e5802000	 str         r2, [r0]
  00068	159f01fc	 ldrne       r0, [pc, #0x1FC]
  0006c	e3a06001	 mov         r6, #1
  00070	e3a04000	 mov         r4, #0
  00074	e3a05000	 mov         r5, #0
  00078	e58b6000	 str         r6, [r11]
  0007c	e59f61e4	 ldr         r6, [pc, #0x1E4]
  00080	e5884000	 str         r4, [r8]
  00084	e5895000	 str         r5, [r9]
  00088	1b000000	 blne        NKDbgPrintfW

; 830  : 
; 831  :     g_mddInterface.dwVersion = 1;

  0008c	e59f41d0	 ldr         r4, [pc, #0x1D0]

; 832  :     g_mddInterface.pfnNotify = NotifyHandler;
; 833  : 
; 834  :     memset( &g_pddInterface, 0, sizeof(g_pddInterface) );

  00090	e59f31c8	 ldr         r3, [pc, #0x1C8]
  00094	e59f51c0	 ldr         r5, [pc, #0x1C0]
  00098	e3a02001	 mov         r2, #1
  0009c	e884000c	 stmia       r4, {r2, r3}
  000a0	e3a02060	 mov         r2, #0x60
  000a4	e1a00005	 mov         r0, r5
  000a8	e3a01000	 mov         r1, #0
  000ac	eb000000	 bl          memset

; 835  :     g_pddInterface.dwVersion = 1;

  000b0	e3a03001	 mov         r3, #1
  000b4	e5853000	 str         r3, [r5]

; 836  : 
; 837  :     // configure clock, I2C cotroller, USB OTG transceiver and USB OTG controller
; 838  :     InitializeHardware();

  000b8	eb000000	 bl          InitializeHardware

; 839  : 
; 840  :     // initialize usb function unit
; 841  :     if( UfnPdd_Init( NULL, NULL, &g_mddInterface, &g_pddInterface ) != ERROR_SUCCESS )

  000bc	e1a03005	 mov         r3, r5
  000c0	e1a02004	 mov         r2, r4
  000c4	e3a01000	 mov         r1, #0
  000c8	e3a00000	 mov         r0, #0
  000cc	eb000000	 bl          UfnPdd_Init
  000d0	e3500000	 cmp         r0, #0
  000d4	0a000005	 beq         |$LN1@PDDInit|

; 842  :     {
; 843  :         OALMSG(OAL_ERROR, (L"UfnPdd_Init failed!"));

  000d8	e5963440	 ldr         r3, [r6, #0x440]
  000dc	e3130001	 tst         r3, #1
  000e0	159f0170	 ldrne       r0, [pc, #0x170]
  000e4	1b000000	 blne        NKDbgPrintfW

; 844  :         return FALSE;

  000e8	e3a00000	 mov         r0, #0
  000ec	ea000049	 b           |$LN2@PDDInit|
  000f0		 |$LN1@PDDInit|

; 845  :     }
; 846  : 
; 847  :     // register device
; 848  :     RegisterUSBDevice();

  000f0	eb000000	 bl          RegisterUSBDevice

; 849  : 
; 850  :     // attach device to USB bus
; 851  :     g_pddInterface.pfnStart( g_pddInterface.pvPddContext );

  000f4	e595000c	 ldr         r0, [r5, #0xC]
  000f8	e5953028	 ldr         r3, [r5, #0x28]
  000fc	e1a0e00f	 mov         lr, pc
  00100	e12fff13	 bx          r3

; 852  : 
; 853  :     SetRNDISMACAddress();

  00104	eb000000	 bl          SetRNDISMACAddress

; 854  :     SetRNDISSerialNumber();

  00108	eb000000	 bl          SetRNDISSerialNumber

; 855  : 
; 856  :     //
; 857  :     // Everything ok, fill up our characteristics.
; 858  :     //
; 859  :     memset(pRndisPddCharacteristics, 0x00, sizeof(RNDIS_PDD_CHARACTERISTICS));

  0010c	e59d0000	 ldr         r0, [sp]
  00110	e3a02044	 mov         r2, #0x44
  00114	e3a01000	 mov         r1, #0
  00118	eb000000	 bl          memset

; 860  : 
; 861  :     pRndisPddCharacteristics->SendRndisMessageHandler = PDD_SendRndisMessage;

  0011c	e59f3130	 ldr         r3, [pc, #0x130]

; 862  :     pRndisPddCharacteristics->SendRndisPacketHandler = PDD_SendRndisPacket;
; 863  :     pRndisPddCharacteristics->SetHandler = PDD_Set;
; 864  :     pRndisPddCharacteristics->GetHandler = PDD_Get;
; 865  :     pRndisPddCharacteristics->ISRHandler = PDD_ISR;
; 866  :     pRndisPddCharacteristics->dwIRQ = (DWORD)-1;
; 867  :     pRndisPddCharacteristics->dwMaxRx = MAX_INCOMING_BUFFER;
; 868  :     pRndisPddCharacteristics->dwBaseAddr = (DWORD)pBaseAddress/*USB_CLIENT_BASE*/;
; 869  :     pRndisPddCharacteristics->IndicateRndisPacketCompleteHandler = PDD_IndicateRndisPacketComplete;
; 870  : 
; 871  :     // we are not a PCI device
; 872  :     pRndisPddCharacteristics->bPCIDevice = FALSE;
; 873  : 
; 874  :     //
; 875  :     // Everything is fine... Proceed!
; 876  :     //
; 877  :     InitializeListHead(&g_RndisKitlDev.listTxRndisMessageQueue);

  00120	e59db000	 ldr         r11, [sp]
  00124	e59f2124	 ldr         r2, [pc, #0x124]
  00128	e59f111c	 ldr         r1, [pc, #0x11C]
  0012c	e58b3000	 str         r3, [r11]
  00130	e1a0300b	 mov         r3, r11
  00134	e5832004	 str         r2, [r3, #4]
  00138	e1a0200b	 mov         r2, r11
  0013c	e582100c	 str         r1, [r2, #0xC]
  00140	e3e01000	 mvn         r1, #0
  00144	e5821018	 str         r1, [r2, #0x18]
  00148	e3a01a02	 mov         r1, #2, 20
  0014c	e582101c	 str         r1, [r2, #0x1C]
  00150	e59d1004	 ldr         r1, [sp, #4]
  00154	e59f50ec	 ldr         r5, [pc, #0xEC]
  00158	e59f00e4	 ldr         r0, [pc, #0xE4]
  0015c	e59fe0dc	 ldr         lr, [pc, #0xDC]
  00160	e59f40d4	 ldr         r4, [pc, #0xD4]
  00164	e5821020	 str         r1, [r2, #0x20]
  00168	e3a01000	 mov         r1, #0
  0016c	e2853b01	 add         r3, r5, #1, 22
  00170	e5821024	 str         r1, [r2, #0x24]
  00174	e5820010	 str         r0, [r2, #0x10]
  00178	e582e014	 str         lr, [r2, #0x14]
  0017c	e5824008	 str         r4, [r2, #8]

; 878  : 
; 879  :     OALMSG(OAL_ETHER&&OAL_FUNC, (
; 880  :         L" RNDIS_USBFN_PDDInit: initialization completed\r\n"
; 881  :     ));

  00180	e5961440	 ldr         r1, [r6, #0x440]
  00184	e2833034	 add         r3, r3, #0x34
  00188	e2852b01	 add         r2, r5, #1, 22
  0018c	e5853438	 str         r3, [r5, #0x438]
  00190	e2823034	 add         r3, r2, #0x34
  00194	e59fb09c	 ldr         r11, [pc, #0x9C]
  00198	e5853434	 str         r3, [r5, #0x434]
  0019c	e3110a02	 tst         r1, #2, 20
  001a0	0a000004	 beq         |$LN8@PDDInit|
  001a4	e3110004	 tst         r1, #4
  001a8	0a000002	 beq         |$LN8@PDDInit|
  001ac	e59f0080	 ldr         r0, [pc, #0x80]
  001b0	eb000000	 bl          NKDbgPrintfW
  001b4	e5961440	 ldr         r1, [r6, #0x440]
  001b8		 |$LN8@PDDInit|

; 882  : 
; 883  :     OALMSG(OAL_ETHER&&OAL_FUNC, (L"-RNDIS_USBFN_PDDInit\r\n"));

  001b8	e3110a02	 tst         r1, #2, 20
  001bc	13110004	 tstne       r1, #4
  001c0	159f0068	 ldrne       r0, [pc, #0x68]
  001c4	1b000000	 blne        NKDbgPrintfW

; 884  : 
; 885  :     PDDZONE0 = 0;

  001c8	e3a03000	 mov         r3, #0

; 886  :     PDDZONE = 0;
; 887  :     MDDZONE0 = 0;
; 888  :     MDDZONE = 0;
; 889  :     MDDZONE2 = 0;
; 890  :     MDDZONE3 = 0; // 1
; 891  :     MDDZONE4 = 0;
; 892  :     MDDZONE5 = 0;

  001cc	e5873000	 str         r3, [r7]
  001d0	e59f3054	 ldr         r3, [pc, #0x54]
  001d4	e3a04000	 mov         r4, #0
  001d8	e3a05000	 mov         r5, #0
  001dc	e5834000	 str         r4, [r3]
  001e0	e59f3040	 ldr         r3, [pc, #0x40]
  001e4	e3a00000	 mov         r0, #0
  001e8	e3a02000	 mov         r2, #0
  001ec	e5835000	 str         r5, [r3]
  001f0	e59f302c	 ldr         r3, [pc, #0x2C]
  001f4	e3a01000	 mov         r1, #0
  001f8	e3a0e000	 mov         lr, #0
  001fc	e3a06000	 mov         r6, #0
  00200	e58a0000	 str         r0, [r10]
  00204	e5836000	 str         r6, [r3]
  00208	e5882000	 str         r2, [r8]
  0020c	e5891000	 str         r1, [r9]
  00210	e58be000	 str         lr, [r11]

; 893  : 
; 894  :     return TRUE;

  00214	e3a00001	 mov         r0, #1
  00218		 |$LN2@PDDInit|

; 895  : }

  00218	e28dd008	 add         sp, sp, #8
  0021c	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  00220	e12fff1e	 bx          lr
  00224		 |$LN15@PDDInit|
  00224		 |$LN16@PDDInit|
  00224	00000000	 DCD         |MDDZONE5|
  00228		 |$LN17@PDDInit|
  00228	00000000	 DCD         |MDDZONE4|
  0022c		 |$LN18@PDDInit|
  0022c	00000000	 DCD         |MDDZONE3|
  00230		 |$LN19@PDDInit|
  00230	00000000	 DCD         |??_C@_1CO@MPAJKINN@?$AA?9?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00234		 |$LN20@PDDInit|
  00234	00000000	 DCD         |??_C@_1GC@COEDNCDC@?$AA?5?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAa@|
  00238		 |$LN21@PDDInit|
  00238	00000000	 DCD         |MDDZONE2|
  0023c		 |$LN22@PDDInit|
  0023c	00000000	 DCD         |PDD_IndicateRndisPacketComplete|
  00240		 |$LN23@PDDInit|
  00240	00000000	 DCD         |PDD_ISR|
  00244		 |$LN24@PDDInit|
  00244	00000000	 DCD         |PDD_Get|
  00248		 |$LN25@PDDInit|
  00248	00000000	 DCD         |g_RndisKitlDev|
  0024c		 |$LN26@PDDInit|
  0024c	00000000	 DCD         |PDD_Set|
  00250		 |$LN27@PDDInit|
  00250	00000000	 DCD         |PDD_SendRndisPacket|
  00254		 |$LN28@PDDInit|
  00254	00000000	 DCD         |PDD_SendRndisMessage|
  00258		 |$LN29@PDDInit|
  00258	00000000	 DCD         |??_C@_1CI@OLENNHLD@?$AAU?$AAf?$AAn?$AAP?$AAd?$AAd?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?$CB?$AA?$AA@|
  0025c		 |$LN30@PDDInit|
  0025c	00000000	 DCD         |g_pddInterface|
  00260		 |$LN31@PDDInit|
  00260	00000000	 DCD         |NotifyHandler|
  00264		 |$LN32@PDDInit|
  00264	00000000	 DCD         |g_mddInterface|
  00268		 |$LN33@PDDInit|
  00268	00000000	 DCD         |dpCurSettings|
  0026c		 |$LN34@PDDInit|
  0026c	00000000	 DCD         |??_C@_1CO@BEMNPHPG@?$AA?$CL?$AAR?$AAN?$AAD?$AAI?$AAS?$AA_?$AAU?$AAS?$AAB?$AAF?$AAN?$AA_?$AAP?$AAD?$AAD?$AAI?$AAn?$AAi?$AAt?$AA?$AN?$AA?6?$AA?$AA@|
  00270		 |$LN35@PDDInit|
  00270	00000000	 DCD         |MDDZONE0|
  00274		 |$LN36@PDDInit|
  00274	00000000	 DCD         |PDDZONE|
  00278		 |$LN37@PDDInit|
  00278	00000000	 DCD         |MDDZONE|
  0027c		 |$LN38@PDDInit|
  0027c	00000000	 DCD         |PDDZONE0|
  00280		 |$M44914|

			 ENDP  ; |PDDInit|

	END
