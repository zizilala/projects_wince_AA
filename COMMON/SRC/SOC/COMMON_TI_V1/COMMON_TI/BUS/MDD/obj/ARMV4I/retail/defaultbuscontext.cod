; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\COMMON_TI\BUS\MDD\defaultbuscontext.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??0RefCount_t@@IAA@XZ|			; RefCount_t::RefCount_t
	EXPORT	|??_7RefCount_t@@6B@| [ DATA ]		; RefCount_t::`vftable'
	IMPORT	|??_ERefCount_t@@MAAPAXI@Z|, WEAK |??_GRefCount_t@@MAAPAXI@Z| ; RefCount_t::`vector deleting destructor', RefCount_t::`scalar deleting destructor'
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\inc\driver.hxx

  00000			 AREA	 |.pdata|, PDATA
|$T34420| DCD	|$LN5@RefCount_t|
	DCD	0x40000600

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7RefCount_t@@6B@| DCD |??_ERefCount_t@@MAAPAXI@Z|	; RefCount_t::`vftable'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0RefCount_t@@IAA@XZ| PROC		; RefCount_t::RefCount_t

; 44   :     RefCount_t(

  00000		 |$LN5@RefCount_t|
  00000		 |$M34417|
  00000	e59f300c	 ldr         r3, [pc, #0xC]

; 45   :         ) {
; 46   :         m_refCount = 1;

  00004	e3a02001	 mov         r2, #1
  00008	e5802004	 str         r2, [r0, #4]
  0000c	e5803000	 str         r3, [r0]

; 47   :         };

  00010	e12fff1e	 bx          lr
  00014		 |$LN6@RefCount_t|
  00014		 |$LN7@RefCount_t|
  00014	00000000	 DCD         |??_7RefCount_t@@6B@|
  00018		 |$M34418|

			 ENDP  ; |??0RefCount_t@@IAA@XZ|, RefCount_t::RefCount_t

	EXPORT	|??1RefCount_t@@MAA@XZ|			; RefCount_t::~RefCount_t

  00000			 AREA	 |.pdata|, PDATA
|$T34430| DCD	|$LN5@RefCount_t@2|
	DCD	0x40000400
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1RefCount_t@@MAA@XZ| PROC		; RefCount_t::~RefCount_t

; 50   :         ) { };

  00000		 |$LN5@RefCount_t@2|
  00000		 |$M34427|
  00000	e59f3004	 ldr         r3, [pc, #4]
  00004	e5803000	 str         r3, [r0]
  00008	e12fff1e	 bx          lr
  0000c		 |$LN6@RefCount_t@2|
  0000c		 |$LN7@RefCount_t@2|
  0000c	00000000	 DCD         |??_7RefCount_t@@6B@|
  00010		 |$M34428|

			 ENDP  ; |??1RefCount_t@@MAA@XZ|, RefCount_t::~RefCount_t

	EXPORT	|?AddRef@RefCount_t@@QAAJXZ|		; RefCount_t::AddRef
	IMPORT	|InterlockedIncrement|

  00000			 AREA	 |.pdata|, PDATA
|$T34442| DCD	|$LN5@AddRef|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?AddRef@RefCount_t@@QAAJXZ| PROC	; RefCount_t::AddRef

; 54   :         ) { 

  00000		 |$LN5@AddRef|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34439|

; 55   :         return InterlockedIncrement(&m_refCount);

  00004	e2800004	 add         r0, r0, #4
  00008	eb000000	 bl          InterlockedIncrement

; 56   :         };

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M34440|

			 ENDP  ; |?AddRef@RefCount_t@@QAAJXZ|, RefCount_t::AddRef

	EXPORT	|?Release@RefCount_t@@QAAJXZ|		; RefCount_t::Release
	IMPORT	|InterlockedDecrement|

  00000			 AREA	 |.pdata|, PDATA
|$T34457| DCD	|$LN8@Release|
	DCD	0x40001101
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Release@RefCount_t@@QAAJXZ| PROC	; RefCount_t::Release

; 59   :         ) {

  00000		 |$LN8@Release|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M34454|
  00004	e1a04000	 mov         r4, r0

; 60   :         LONG count = InterlockedDecrement(&m_refCount);

  00008	e2840004	 add         r0, r4, #4
  0000c	eb000000	 bl          InterlockedDecrement
  00010	e1a05000	 mov         r5, r0

; 61   :         if (count <= 0) delete this;

  00014	e3550000	 cmp         r5, #0
  00018	ca000006	 bgt         |$LN4@Release|
  0001c	e3540000	 cmp         r4, #0
  00020	15943000	 ldrne       r3, [r4]
  00024	13a01001	 movne       r1, #1
  00028	11a00004	 movne       r0, r4
  0002c	15933000	 ldrne       r3, [r3]
  00030	11a0e00f	 movne       lr, pc
  00034	112fff13	 bxne        r3
  00038		 |$LN4@Release|

; 62   :         return count;
; 63   :         };

  00038	e1a00005	 mov         r0, r5
  0003c	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$M34455|

			 ENDP  ; |?Release@RefCount_t@@QAAJXZ|, RefCount_t::Release

	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$T34471| DCD	|$LN8@scalar|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GRefCount_t@@MAAPAXI@Z| PROC	; RefCount_t::`scalar deleting destructor'
  00000		 |$LN8@scalar|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34468|
  00004	e1a04000	 mov         r4, r0
  00008	e59f3014	 ldr         r3, [pc, #0x14]
  0000c	e3110001	 tst         r1, #1
  00010	e5843000	 str         r3, [r4]
  00014	1b000000	 blne        |??3@YAXPAX@Z|
  00018	e1a00004	 mov         r0, r4
  0001c	e8bd4010	 ldmia       sp!, {r4, lr}
  00020	e12fff1e	 bx          lr
  00024		 |$LN9@scalar|
  00024		 |$LN10@scalar|
  00024	00000000	 DCD         |??_7RefCount_t@@6B@|
  00028		 |$M34469|

			 ENDP  ; |??_GRefCount_t@@MAAPAXI@Z|, RefCount_t::`scalar deleting destructor'

	EXPORT	|??0DriverContext_t@@QAA@XZ|		; DriverContext_t::DriverContext_t
	EXPORT	|??_7DriverContext_t@@6B@| [ DATA ]	; DriverContext_t::`vftable'
	EXPORT	|?Read@DriverContext_t@@UAAKPAXK@Z|	; DriverContext_t::Read
	EXPORT	|?Write@DriverContext_t@@UAAKPAXK@Z|	; DriverContext_t::Write
	EXPORT	|?Seek@DriverContext_t@@UAAKJG@Z|	; DriverContext_t::Seek
	EXPORT	|?PreClose@DriverContext_t@@UAAHXZ|	; DriverContext_t::PreClose
	EXPORT	|?IOControl@DriverContext_t@@UAAHKPAEK0KPAK@Z| ; DriverContext_t::IOControl
	IMPORT	|??_EDriverContext_t@@UAAPAXI@Z|, WEAK |??_GDriverContext_t@@UAAPAXI@Z| ; DriverContext_t::`vector deleting destructor', DriverContext_t::`scalar deleting destructor'
	IMPORT	|_purecall|

  00000			 AREA	 |.pdata|, PDATA
|$T34486| DCD	|$LN7@DriverCont|
	DCD	0x40000600

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7DriverContext_t@@6B@| DCD |??_EDriverContext_t@@UAAPAXI@Z| ; DriverContext_t::`vftable'
	DCD	|?Read@DriverContext_t@@UAAKPAXK@Z|
	DCD	|?Write@DriverContext_t@@UAAKPAXK@Z|
	DCD	|?Seek@DriverContext_t@@UAAKJG@Z|
	DCD	|_purecall|
	DCD	|?PreClose@DriverContext_t@@UAAHXZ|
	DCD	|?IOControl@DriverContext_t@@UAAHKPAEK0KPAK@Z|
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0DriverContext_t@@QAA@XZ| PROC	; DriverContext_t::DriverContext_t
  00000		 |$LN7@DriverCont|
  00000		 |$M34483|
  00000	e59f300c	 ldr         r3, [pc, #0xC]
  00004	e3a02001	 mov         r2, #1
  00008	e5802004	 str         r2, [r0, #4]
  0000c	e5803000	 str         r3, [r0]
  00010	e12fff1e	 bx          lr
  00014		 |$LN8@DriverCont|
  00014		 |$LN9@DriverCont|
  00014	00000000	 DCD         |??_7DriverContext_t@@6B@|
  00018		 |$M34484|

			 ENDP  ; |??0DriverContext_t@@QAA@XZ|, DriverContext_t::DriverContext_t


  00000			 AREA	 |.pdata|, PDATA
|$T34497| DCD	|$LN5@Read|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Read@DriverContext_t@@UAAKPAXK@Z| PROC ; DriverContext_t::Read

; 157  :         ) {

  00000		 |$LN5@Read|
  00000		 |$M34494|

; 158  :         return (DWORD) -1;

  00000	e3e00000	 mvn         r0, #0

; 159  :         }

  00004	e12fff1e	 bx          lr
  00008		 |$M34495|

			 ENDP  ; |?Read@DriverContext_t@@UAAKPAXK@Z|, DriverContext_t::Read


  00000			 AREA	 |.pdata|, PDATA
|$T34506| DCD	|$LN5@Write|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Write@DriverContext_t@@UAAKPAXK@Z| PROC ; DriverContext_t::Write

; 167  :         ) {

  00000		 |$LN5@Write|
  00000		 |$M34503|

; 168  :         return (DWORD) -1;

  00000	e3e00000	 mvn         r0, #0

; 169  :         }

  00004	e12fff1e	 bx          lr
  00008		 |$M34504|

			 ENDP  ; |?Write@DriverContext_t@@UAAKPAXK@Z|, DriverContext_t::Write


  00000			 AREA	 |.pdata|, PDATA
|$T34515| DCD	|$LN5@Seek|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Seek@DriverContext_t@@UAAKJG@Z| PROC	; DriverContext_t::Seek

; 177  :         ) {

  00000		 |$LN5@Seek|
  00000		 |$M34512|

; 178  :         return (DWORD) -1;

  00000	e3e00000	 mvn         r0, #0

; 179  :         }

  00004	e12fff1e	 bx          lr
  00008		 |$M34513|

			 ENDP  ; |?Seek@DriverContext_t@@UAAKJG@Z|, DriverContext_t::Seek


  00000			 AREA	 |.pdata|, PDATA
|$T34524| DCD	|$LN5@PreClose|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?PreClose@DriverContext_t@@UAAHXZ| PROC ; DriverContext_t::PreClose

; 192  :         {

  00000		 |$LN5@PreClose|
  00000		 |$M34521|

; 193  :         return TRUE;

  00000	e3a00001	 mov         r0, #1

; 194  :         };

  00004	e12fff1e	 bx          lr
  00008		 |$M34522|

			 ENDP  ; |?PreClose@DriverContext_t@@UAAHXZ|, DriverContext_t::PreClose


  00000			 AREA	 |.pdata|, PDATA
|$T34533| DCD	|$LN5@IOControl|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?IOControl@DriverContext_t@@UAAHKPAEK0KPAK@Z| PROC ; DriverContext_t::IOControl

; 206  :         ) {

  00000		 |$LN5@IOControl|
  00000		 |$M34530|

; 207  :         return FALSE;

  00000	e3a00000	 mov         r0, #0

; 208  :         };

  00004	e12fff1e	 bx          lr
  00008		 |$M34531|

			 ENDP  ; |?IOControl@DriverContext_t@@UAAHKPAEK0KPAK@Z|, DriverContext_t::IOControl

	EXPORT	|??1DriverContext_t@@UAA@XZ|		; DriverContext_t::~DriverContext_t

  00000			 AREA	 |.pdata|, PDATA
|$T34544| DCD	|$LN7@DriverCont@2|
	DCD	0x40000400
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1DriverContext_t@@UAA@XZ| PROC	; DriverContext_t::~DriverContext_t
  00000		 |$LN7@DriverCont@2|
  00000		 |$M34541|
  00000	e59f3004	 ldr         r3, [pc, #4]
  00004	e5803000	 str         r3, [r0]
  00008	e12fff1e	 bx          lr
  0000c		 |$LN8@DriverCont@2|
  0000c		 |$LN9@DriverCont@2|
  0000c	00000000	 DCD         |??_7RefCount_t@@6B@|
  00010		 |$M34542|

			 ENDP  ; |??1DriverContext_t@@UAA@XZ|, DriverContext_t::~DriverContext_t


  00000			 AREA	 |.pdata|, PDATA
|$T34565| DCD	|$LN10@scalar@2|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GDriverContext_t@@UAAPAXI@Z| PROC	; DriverContext_t::`scalar deleting destructor'
  00000		 |$LN10@scalar@2|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34562|
  00004	e1a04000	 mov         r4, r0
  00008	e59f3014	 ldr         r3, [pc, #0x14]
  0000c	e3110001	 tst         r1, #1
  00010	e5843000	 str         r3, [r4]
  00014	1b000000	 blne        |??3@YAXPAX@Z|
  00018	e1a00004	 mov         r0, r4
  0001c	e8bd4010	 ldmia       sp!, {r4, lr}
  00020	e12fff1e	 bx          lr
  00024		 |$LN11@scalar@2|
  00024		 |$LN12@scalar@2|
  00024	00000000	 DCD         |??_7RefCount_t@@6B@|
  00028		 |$M34563|

			 ENDP  ; |??_GDriverContext_t@@UAAPAXI@Z|, DriverContext_t::`scalar deleting destructor'

	EXPORT	|?Close@DefaultBusContext_t@@UAAHXZ|	; DefaultBusContext_t::Close
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\mdd\defaultbuscontext.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T34577| DCD	|$LN5@Close|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Close@DefaultBusContext_t@@UAAHXZ| PROC ; DefaultBusContext_t::Close

; 52   : {

  00000		 |$LN5@Close|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34574|

; 53   :     return m_pBus->Close(this);

  00004	e5902008	 ldr         r2, [r0, #8]
  00008	e1a01000	 mov         r1, r0
  0000c	e5923000	 ldr         r3, [r2]
  00010	e1a00002	 mov         r0, r2
  00014	e593301c	 ldr         r3, [r3, #0x1C]
  00018	e1a0e00f	 mov         lr, pc
  0001c	e12fff13	 bx          r3

; 54   : }

  00020	e49de004	 ldr         lr, [sp], #4
  00024	e12fff1e	 bx          lr
  00028		 |$M34575|

			 ENDP  ; |?Close@DefaultBusContext_t@@UAAHXZ|, DefaultBusContext_t::Close

	EXPORT	|?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z| ; DefaultBusContext_t::FindChildByName

  00000			 AREA	 |.pdata|, PDATA
|$T34589| DCD	|$LN7@FindChildB|
	DCD	0x40000f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z| PROC ; DefaultBusContext_t::FindChildByName

; 300  : {

  00000		 |$LN7@FindChildB|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34586|
  00004	e1a04000	 mov         r4, r0

; 301  :     BusDriverChild_t* pChild;
; 302  : 
; 303  :     if (m_pChild == NULL)

  00008	e594300c	 ldr         r3, [r4, #0xC]
  0000c	e3530000	 cmp         r3, #0
  00010	1a000006	 bne         |$LN2@FindChildB|

; 304  :         {
; 305  :         // We don't need add reference count as it is done by
; 306  :         // FindChildByName method...
; 307  :         pChild = m_pChild = m_pBus->FindChildByName(childName);

  00014	e5940008	 ldr         r0, [r4, #8]
  00018	e5903000	 ldr         r3, [r0]
  0001c	e593302c	 ldr         r3, [r3, #0x2C]
  00020	e1a0e00f	 mov         lr, pc
  00024	e12fff13	 bx          r3
  00028	e1a03000	 mov         r3, r0
  0002c	e584300c	 str         r3, [r4, #0xC]
  00030		 |$LN2@FindChildB|

; 308  :         }
; 309  :     else
; 310  :         {
; 311  :         pChild = m_pChild;
; 312  :         }
; 313  : 
; 314  :     return pChild;
; 315  : }    

  00030	e1a00003	 mov         r0, r3
  00034	e8bd4010	 ldmia       sp!, {r4, lr}
  00038	e12fff1e	 bx          lr
  0003c		 |$M34587|

			 ENDP  ; |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|, DefaultBusContext_t::FindChildByName

	EXPORT	|??0BusDriverContext_t@@QAA@XZ|		; BusDriverContext_t::BusDriverContext_t
	EXPORT	|??_7BusDriverContext_t@@6B@| [ DATA ]	; BusDriverContext_t::`vftable'
	IMPORT	|??_EBusDriverContext_t@@UAAPAXI@Z|, WEAK |??_GBusDriverContext_t@@UAAPAXI@Z| ; BusDriverContext_t::`vector deleting destructor', BusDriverContext_t::`scalar deleting destructor'

  00000			 AREA	 |.pdata|, PDATA
|$T34607| DCD	|$LN9@BusDriverC|
	DCD	0x40000600

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7BusDriverContext_t@@6B@| DCD |??_EBusDriverContext_t@@UAAPAXI@Z| ; BusDriverContext_t::`vftable'
	DCD	|?Read@DriverContext_t@@UAAKPAXK@Z|
	DCD	|?Write@DriverContext_t@@UAAKPAXK@Z|
	DCD	|?Seek@DriverContext_t@@UAAKJG@Z|
	DCD	|_purecall|
	DCD	|?PreClose@DriverContext_t@@UAAHXZ|
	DCD	|?IOControl@DriverContext_t@@UAAHKPAEK0KPAK@Z|
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0BusDriverContext_t@@QAA@XZ| PROC	; BusDriverContext_t::BusDriverContext_t
  00000		 |$LN9@BusDriverC|
  00000		 |$M34604|
  00000	e59f300c	 ldr         r3, [pc, #0xC]
  00004	e3a02001	 mov         r2, #1
  00008	e5802004	 str         r2, [r0, #4]
  0000c	e5803000	 str         r3, [r0]
  00010	e12fff1e	 bx          lr
  00014		 |$LN10@BusDriverC|
  00014		 |$LN11@BusDriverC|
  00014	00000000	 DCD         |??_7BusDriverContext_t@@6B@|
  00018		 |$M34605|

			 ENDP  ; |??0BusDriverContext_t@@QAA@XZ|, BusDriverContext_t::BusDriverContext_t

	EXPORT	|??1BusDriverContext_t@@UAA@XZ|		; BusDriverContext_t::~BusDriverContext_t

  00000			 AREA	 |.pdata|, PDATA
|$T34625| DCD	|$LN9@BusDriverC@2|
	DCD	0x40000400
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1BusDriverContext_t@@UAA@XZ| PROC	; BusDriverContext_t::~BusDriverContext_t
  00000		 |$LN9@BusDriverC@2|
  00000		 |$M34622|
  00000	e59f3004	 ldr         r3, [pc, #4]
  00004	e5803000	 str         r3, [r0]
  00008	e12fff1e	 bx          lr
  0000c		 |$LN10@BusDriverC@2|
  0000c		 |$LN11@BusDriverC@2|
  0000c	00000000	 DCD         |??_7RefCount_t@@6B@|
  00010		 |$M34623|

			 ENDP  ; |??1BusDriverContext_t@@UAA@XZ|, BusDriverContext_t::~BusDriverContext_t


  00000			 AREA	 |.pdata|, PDATA
|$T34653| DCD	|$LN12@scalar@3|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GBusDriverContext_t@@UAAPAXI@Z| PROC ; BusDriverContext_t::`scalar deleting destructor'
  00000		 |$LN12@scalar@3|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34650|
  00004	e1a04000	 mov         r4, r0
  00008	e59f3014	 ldr         r3, [pc, #0x14]
  0000c	e3110001	 tst         r1, #1
  00010	e5843000	 str         r3, [r4]
  00014	1b000000	 blne        |??3@YAXPAX@Z|
  00018	e1a00004	 mov         r0, r4
  0001c	e8bd4010	 ldmia       sp!, {r4, lr}
  00020	e12fff1e	 bx          lr
  00024		 |$LN13@scalar@3|
  00024		 |$LN14@scalar@3|
  00024	00000000	 DCD         |??_7RefCount_t@@6B@|
  00028		 |$M34651|

			 ENDP  ; |??_GBusDriverContext_t@@UAAPAXI@Z|, BusDriverContext_t::`scalar deleting destructor'

	EXPORT	|??1DefaultBusContext_t@@MAA@XZ|	; DefaultBusContext_t::~DefaultBusContext_t
	EXPORT	|??_7DefaultBusContext_t@@6B@| [ DATA ]	; DefaultBusContext_t::`vftable'
	EXPORT	|?IOControl@DefaultBusContext_t@@UAAHKPAEK0KPAK@Z| ; DefaultBusContext_t::IOControl
	IMPORT	|??_EDefaultBusContext_t@@MAAPAXI@Z|, WEAK |??_GDefaultBusContext_t@@MAAPAXI@Z| ; DefaultBusContext_t::`vector deleting destructor', DefaultBusContext_t::`scalar deleting destructor'
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\inc\driver.hxx

  00000			 AREA	 |.pdata|, PDATA
|$T34678| DCD	|$LN12@DefaultBus|
	DCD	0x40001001

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7DefaultBusContext_t@@6B@| DCD |??_EDefaultBusContext_t@@MAAPAXI@Z| ; DefaultBusContext_t::`vftable'
	DCD	|?Read@DriverContext_t@@UAAKPAXK@Z|
	DCD	|?Write@DriverContext_t@@UAAKPAXK@Z|
	DCD	|?Seek@DriverContext_t@@UAAKJG@Z|
	DCD	|?Close@DefaultBusContext_t@@UAAHXZ|
	DCD	|?PreClose@DriverContext_t@@UAAHXZ|
	DCD	|?IOControl@DefaultBusContext_t@@UAAHKPAEK0KPAK@Z|
; Function compile flags: /Ogspy
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\mdd\defaultbuscontext.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1DefaultBusContext_t@@MAA@XZ| PROC	; DefaultBusContext_t::~DefaultBusContext_t

; 35   : {

  00000		 |$LN12@DefaultBus|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34675|
  00004	e1a04000	 mov         r4, r0

; 36   :     // If we have associated child device, release it
; 37   :     if (m_pChild != NULL) m_pChild->Release();

  00008	e594200c	 ldr         r2, [r4, #0xC]
  0000c	e59f3028	 ldr         r3, [pc, #0x28]
  00010	e3520000	 cmp         r2, #0
  00014	11a00002	 movne       r0, r2
  00018	e5843000	 str         r3, [r4]
  0001c	1b000000	 blne        |?Release@RefCount_t@@QAAJXZ|

; 38   :     // We need to release reference
; 39   :     m_pBus->Release();

  00020	e5940008	 ldr         r0, [r4, #8]
  00024	eb000000	 bl          |?Release@RefCount_t@@QAAJXZ|

; 40   : }

  00028	e59f3008	 ldr         r3, [pc, #8]
  0002c	e5843000	 str         r3, [r4]
  00030	e8bd4010	 ldmia       sp!, {r4, lr}
  00034	e12fff1e	 bx          lr
  00038		 |$LN13@DefaultBus|
  00038		 |$LN14@DefaultBus|
  00038	00000000	 DCD         |??_7RefCount_t@@6B@|
  0003c		 |$LN15@DefaultBus|
  0003c	00000000	 DCD         |??_7DefaultBusContext_t@@6B@|
  00040		 |$M34676|

			 ENDP  ; |??1DefaultBusContext_t@@MAA@XZ|, DefaultBusContext_t::~DefaultBusContext_t

	IMPORT	|SetLastError|
	IMPORT	|wcslen|
	IMPORT	|memcpy|

  00000			 AREA	 |.pdata|, PDATA
|$T34711| DCD	|$LN47@IOControl@2|
	DCD	0x4000ff02
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?IOControl@DefaultBusContext_t@@UAAHKPAEK0KPAK@Z| PROC ; DefaultBusContext_t::IOControl

; 72   : {

  00000		 |$LN47@IOControl@2|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004	e24dd030	 sub         sp, sp, #0x30
  00008		 |$M34708|
  00008	e1a0b000	 mov         r11, r0
  0000c	e58db00c	 str         r11, [sp, #0xC]
  00010	e1a06003	 mov         r6, r3
  00014	e1a05002	 mov         r5, r2
  00018	e1a04001	 mov         r4, r1

; 73   :     BOOL rc = FALSE;
; 74   : 
; 75   :     switch (code)

  0001c	e3a0382a	 mov         r3, #0x2A, 16
  00020	e383a018	 orr         r10, r3, #0x18
  00024	e154000a	 cmp         r4, r10
  00028	e3a07000	 mov         r7, #0
  0002c	e3a0382a	 mov         r3, #0x2A, 16
  00030	8a00008e	 bhi         |$LN42@IOControl@2|
  00034	e3838014	 orr         r8, r3, #0x14
  00038	0a000011	 beq         |$LN19@IOControl@2|
  0003c	e3a0382a	 mov         r3, #0x2A, 16
  00040	e383e004	 orr         lr, r3, #4
  00044	e154000e	 cmp         r4, lr
  00048	0a00005f	 beq         |$LN34@IOControl@2|
  0004c	e3a0382a	 mov         r3, #0x2A, 16
  00050	e383e008	 orr         lr, r3, #8
  00054	e154000e	 cmp         r4, lr
  00058	0a000041	 beq         |$LN30@IOControl@2|
  0005c	e3a0382a	 mov         r3, #0x2A, 16
  00060	e383b00c	 orr         r11, r3, #0xC
  00064	e154000b	 cmp         r4, r11
  00068	e3839010	 orr         r9, r3, #0x10
  0006c	0a00001e	 beq         |$LN26@IOControl@2|
  00070	e1540009	 cmp         r4, r9
  00074	0a00001c	 beq         |$LN26@IOControl@2|
  00078	e1540008	 cmp         r4, r8
  0007c	1a0000da	 bne         |$LN38@IOControl@2|

; 72   : {

  00080	e1a0b000	 mov         r11, r0
  00084		 |$LN19@IOControl@2|

; 186  :                 }
; 187  :             }
; 188  :             break;
; 189  : 
; 190  :         case IOCTL_BUS_GET_CONFIGURE_DATA:        
; 191  :         case IOCTL_BUS_SET_CONFIGURE_DATA:
; 192  :             if ((pInBuffer == NULL) || 
; 193  :                 (inSize < sizeof(CE_BUS_DEVICE_CONFIGURATION_DATA)))

  00084	e3550000	 cmp         r5, #0
  00088	0a0000d5	 beq         |$LN10@IOControl@2|
  0008c	e3560014	 cmp         r6, #0x14
  00090	3a0000d3	 bcc         |$LN10@IOControl@2|

; 194  :                 {
; 195  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 196  :                 break;
; 197  :                 }
; 198  :             {
; 199  :             CE_BUS_DEVICE_CONFIGURATION_DATA data;
; 200  : 
; 201  :             // Cast pInBuffer
; 202  :             data = *(CE_BUS_DEVICE_CONFIGURATION_DATA*)pInBuffer;

  00094	e28d0010	 add         r0, sp, #0x10
  00098	e3a02014	 mov         r2, #0x14
  0009c	e1a01005	 mov         r1, r5
  000a0	eb000000	 bl          memcpy

; 203  : 
; 204  :             // Get child to be called
; 205  :             BusDriverChild_t* pChild = FindChildByName(data.lpDeviceBusName);

  000a4	e59d1010	 ldr         r1, [sp, #0x10]
  000a8	e1a0000b	 mov         r0, r11
  000ac	eb000000	 bl          |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|
  000b0	e3500000	 cmp         r0, #0

; 206  :             // If we can't find child by name, we get incorrect name
; 207  :             if (pChild == NULL)
; 208  :                 {
; 209  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 210  :                 break;

  000b4	0a0000ca	 beq         |$LN10@IOControl@2|

; 211  :                 }
; 212  :             // Call child function
; 213  :             if (code == IOCTL_BUS_GET_CONFIGURE_DATA)

  000b8	e1540008	 cmp         r4, r8
  000bc	1a00005e	 bne         |$LN15@IOControl@2|

; 214  :                 {
; 215  :                 rc = pChild->IoCtlGetConfigurationData(
; 216  :                     data.dwSpace, data.dwOffset, data.dwLength, data.pBuffer
; 217  :                     );

  000c0	e5902000	 ldr         r2, [r0]
  000c4	e59d5020	 ldr         r5, [sp, #0x20]
  000c8	e59d301c	 ldr         r3, [sp, #0x1C]
  000cc	e5924020	 ldr         r4, [r2, #0x20]
  000d0	e59d2018	 ldr         r2, [sp, #0x18]
  000d4	e59d1014	 ldr         r1, [sp, #0x14]
  000d8	e58d5000	 str         r5, [sp]
  000dc	e1a0e00f	 mov         lr, pc
  000e0	e12fff14	 bx          r4
  000e4	e1a07000	 mov         r7, r0
  000e8	ea0000bf	 b           |$LN38@IOControl@2|
  000ec		 |$LN26@IOControl@2|

; 151  :             }
; 152  :             break;
; 153  : 
; 154  :         case IOCTL_BUS_GET_POWER_STATE:
; 155  :         case IOCTL_BUS_SET_POWER_STATE:
; 156  :             if ((pInBuffer == NULL) || 
; 157  :                 (inSize < sizeof(CE_BUS_POWER_STATE)))

  000ec	e3550000	 cmp         r5, #0
  000f0	0a0000bb	 beq         |$LN10@IOControl@2|
  000f4	e356000c	 cmp         r6, #0xC
  000f8	3a0000b9	 bcc         |$LN10@IOControl@2|

; 158  :                 {
; 159  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 160  :                 break;
; 161  :                 }
; 162  :             {
; 163  :             CE_BUS_POWER_STATE state;
; 164  : 
; 165  :             // Cast pInBuffer
; 166  :             state = *(CE_BUS_POWER_STATE *)pInBuffer;

  000fc	e5953008	 ldr         r3, [r5, #8]
  00100	e5951000	 ldr         r1, [r5]

; 167  : 
; 168  :             // Get child to be called
; 169  :             BusDriverChild_t* pChild = FindChildByName(
; 170  :                 state.lpDeviceBusName
; 171  :                 );

  00104	e59d000c	 ldr         r0, [sp, #0xC]
  00108	e5955004	 ldr         r5, [r5, #4]
  0010c	e58d3018	 str         r3, [sp, #0x18]
  00110	eb000000	 bl          |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|
  00114	e3500000	 cmp         r0, #0

; 172  :             // If we can't find child by name, we get incorrect name
; 173  :             if (pChild == NULL)
; 174  :                 {
; 175  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 176  :                 break;

  00118	0a0000b1	 beq         |$LN10@IOControl@2|

; 177  :                 }
; 178  :             // Call child function
; 179  :             if (code == IOCTL_BUS_GET_POWER_STATE)

  0011c	e154000b	 cmp         r4, r11
  00120	1a000006	 bne         |$LN22@IOControl@2|

; 180  :                 {
; 181  :                 rc = pChild->IoCtlGetPowerState(state.lpceDevicePowerState);

  00124	e5903000	 ldr         r3, [r0]
  00128	e1a01005	 mov         r1, r5
  0012c	e5933018	 ldr         r3, [r3, #0x18]
  00130	e1a0e00f	 mov         lr, pc
  00134	e12fff13	 bx          r3
  00138	e1a07000	 mov         r7, r0
  0013c	ea0000aa	 b           |$LN38@IOControl@2|
  00140		 |$LN22@IOControl@2|

; 182  :                 }
; 183  :             else if (code == IOCTL_BUS_SET_POWER_STATE)

  00140	e1540009	 cmp         r4, r9
  00144	1a0000a8	 bne         |$LN38@IOControl@2|

; 184  :                 {
; 185  :                 rc = pChild->IoCtlSetPowerState(state.lpceDevicePowerState);

  00148	e5903000	 ldr         r3, [r0]
  0014c	e1a01005	 mov         r1, r5
  00150	e593301c	 ldr         r3, [r3, #0x1C]
  00154	e1a0e00f	 mov         lr, pc
  00158	e12fff13	 bx          r3
  0015c	e1a07000	 mov         r7, r0
  00160	ea0000a1	 b           |$LN38@IOControl@2|
  00164		 |$LN30@IOControl@2|

; 120  :             }
; 121  :             break;
; 122  :             
; 123  :         case IOCTL_BUS_TRANSLATE_SYSTEM_ADDRESS:
; 124  :             if ((pInBuffer == NULL) || 
; 125  :                 (inSize < sizeof(CE_BUS_TRANSLATE_SYSTEM_ADDR)))

  00164	e3550000	 cmp         r5, #0
  00168	0a00009d	 beq         |$LN10@IOControl@2|
  0016c	e3560020	 cmp         r6, #0x20
  00170	3a00009b	 bcc         |$LN10@IOControl@2|

; 126  :                 {
; 127  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 128  :                 break;
; 129  :                 }
; 130  :             {
; 131  :             CE_BUS_TRANSLATE_SYSTEM_ADDR busTrans;
; 132  : 
; 133  :             // Cast pInbuffer    
; 134  :             busTrans = *(CE_BUS_TRANSLATE_SYSTEM_ADDR *)pInBuffer;

  00174	e28d0010	 add         r0, sp, #0x10
  00178	e3a02020	 mov         r2, #0x20
  0017c	e1a01005	 mov         r1, r5
  00180	eb000000	 bl          memcpy

; 135  : 
; 136  :             // Get child to be called
; 137  :             BusDriverChild_t* pChild = FindChildByName(
; 138  :                 busTrans.lpDeviceBusName
; 139  :                 );

  00184	e59d1010	 ldr         r1, [sp, #0x10]
  00188	e1a0000b	 mov         r0, r11
  0018c	eb000000	 bl          |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|
  00190	e3500000	 cmp         r0, #0

; 140  :             // If we can't find child by name, we get incorrect name
; 141  :             if (pChild == NULL)
; 142  :                 {
; 143  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 144  :                 break;

  00194	0a000092	 beq         |$LN10@IOControl@2|

; 145  :                 }
; 146  :             // Call child function
; 147  :             rc = pChild->IoCtlTranslateSystemAddress(
; 148  :                     busTrans.InterfaceType, busTrans.BusNumber, 
; 149  :                     busTrans.SystemAddress, busTrans.TranslatedAddress
; 150  :                     );

  00198	e5903000	 ldr         r3, [r0]
  0019c	e59d4028	 ldr         r4, [sp, #0x28]
  001a0	e59d5024	 ldr         r5, [sp, #0x24]
  001a4	e5936014	 ldr         r6, [r3, #0x14]
  001a8	e59d3020	 ldr         r3, [sp, #0x20]
  001ac	e59d2018	 ldr         r2, [sp, #0x18]
  001b0	e59d1014	 ldr         r1, [sp, #0x14]
  001b4	e58d4004	 str         r4, [sp, #4]
  001b8	e58d5000	 str         r5, [sp]
  001bc	e1a0e00f	 mov         lr, pc
  001c0	e12fff16	 bx          r6
  001c4	e1a07000	 mov         r7, r0
  001c8	ea000087	 b           |$LN38@IOControl@2|
  001cc		 |$LN34@IOControl@2|

; 90   :             
; 91   :         case IOCTL_BUS_TRANSLATE_BUS_ADDRESS:
; 92   :             if ((pInBuffer == NULL) || 
; 93   :                 (inSize < sizeof(CE_BUS_TRANSLATE_BUS_ADDR)))

  001cc	e3550000	 cmp         r5, #0
  001d0	0a000083	 beq         |$LN10@IOControl@2|
  001d4	e3560020	 cmp         r6, #0x20
  001d8	3a000081	 bcc         |$LN10@IOControl@2|

; 94   :                 {
; 95   :                 SetLastError(ERROR_INVALID_PARAMETER);
; 96   :                 break;
; 97   :                 }
; 98   :             {
; 99   :             CE_BUS_TRANSLATE_BUS_ADDR busTrans;
; 100  : 
; 101  :             // Cast pInBuffer
; 102  :             busTrans = *(CE_BUS_TRANSLATE_BUS_ADDR *)pInBuffer;

  001dc	e28d0010	 add         r0, sp, #0x10
  001e0	e3a02020	 mov         r2, #0x20
  001e4	e1a01005	 mov         r1, r5
  001e8	eb000000	 bl          memcpy

; 103  : 
; 104  :             // Get child to be called
; 105  :             BusDriverChild_t* pChild = FindChildByName(
; 106  :                 busTrans.lpDeviceBusName
; 107  :                 );

  001ec	e59d1010	 ldr         r1, [sp, #0x10]
  001f0	e1a0000b	 mov         r0, r11
  001f4	eb000000	 bl          |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|
  001f8	e3500000	 cmp         r0, #0

; 108  :             // If we can't find child by name, we get incorrect name
; 109  :             if (pChild == NULL)
; 110  :                 {
; 111  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 112  :                 break;

  001fc	0a000078	 beq         |$LN10@IOControl@2|

; 113  :                 }
; 114  :             // Call child function
; 115  :             rc = pChild->IoCtlTranslateBusAddress(
; 116  :                 busTrans.InterfaceType, busTrans.BusNumber, 
; 117  :                 busTrans.BusAddress, busTrans.AddressSpace, 
; 118  :                 busTrans.TranslatedAddress
; 119  :                 );

  00200	e5903000	 ldr         r3, [r0]
  00204	e59d402c	 ldr         r4, [sp, #0x2C]
  00208	e59d5028	 ldr         r5, [sp, #0x28]
  0020c	e59d6024	 ldr         r6, [sp, #0x24]
  00210	e5937010	 ldr         r7, [r3, #0x10]
  00214	e59d3020	 ldr         r3, [sp, #0x20]
  00218	e59d2018	 ldr         r2, [sp, #0x18]
  0021c	e59d1014	 ldr         r1, [sp, #0x14]
  00220	e58d4008	 str         r4, [sp, #8]
  00224	e58d5004	 str         r5, [sp, #4]
  00228	e58d6000	 str         r6, [sp]
  0022c	e1a0e00f	 mov         lr, pc
  00230	e12fff17	 bx          r7
  00234	e1a07000	 mov         r7, r0
  00238	ea00006b	 b           |$LN38@IOControl@2|
  0023c		 |$LN15@IOControl@2|

; 218  :                 }
; 219  :             else if (code == IOCTL_BUS_SET_CONFIGURE_DATA)

  0023c	e154000a	 cmp         r4, r10
  00240	1a000069	 bne         |$LN38@IOControl@2|

; 220  :                 {
; 221  :                 rc = pChild->IoCtlSetConfigurationData(
; 222  :                     data.dwSpace, data.dwOffset, data.dwLength, data.pBuffer
; 223  :                     );

  00244	e5902000	 ldr         r2, [r0]
  00248	e59d5020	 ldr         r5, [sp, #0x20]
  0024c	e59d301c	 ldr         r3, [sp, #0x1C]
  00250	e5924024	 ldr         r4, [r2, #0x24]
  00254	e59d2018	 ldr         r2, [sp, #0x18]
  00258	e59d1014	 ldr         r1, [sp, #0x14]
  0025c	e58d5000	 str         r5, [sp]
  00260	e1a0e00f	 mov         lr, pc
  00264	e12fff14	 bx          r4
  00268	e1a07000	 mov         r7, r0
  0026c	ea00005e	 b           |$LN38@IOControl@2|
  00270		 |$LN42@IOControl@2|

; 73   :     BOOL rc = FALSE;
; 74   : 
; 75   :     switch (code)

  00270	e3839040	 orr         r9, r3, #0x40
  00274	e1540009	 cmp         r4, r9
  00278	e3838044	 orr         r8, r3, #0x44
  0027c	0a00003c	 beq         |$LN12@IOControl@2|
  00280	e1540008	 cmp         r4, r8
  00284	0a00003a	 beq         |$LN12@IOControl@2|
  00288	e3a0382a	 mov         r3, #0x2A, 16
  0028c	e3833048	 orr         r3, r3, #0x48
  00290	e1540003	 cmp         r4, r3
  00294	0a00002f	 beq         |$LN37@IOControl@2|
  00298	e3a0382a	 mov         r3, #0x2A, 16
  0029c	e3833080	 orr         r3, r3, #0x80
  002a0	e1540003	 cmp         r4, r3
  002a4	0a00000f	 beq         |$LN5@IOControl@2|
  002a8	e3a0382a	 mov         r3, #0x2A, 16
  002ac	e3833084	 orr         r3, r3, #0x84
  002b0	e1540003	 cmp         r4, r3
  002b4	1a00004c	 bne         |$LN38@IOControl@2|

; 81   : 
; 82   :         case IOCTL_BUS_NAME_PREFIX:
; 83   :             {
; 84   :             DWORD size = m_pBus->IoCtlBusNamePrefix(
; 85   :                 reinterpret_cast<LPWSTR>(pOutBuffer),  outSize
; 86   :                 );

  002b8	e59b0008	 ldr         r0, [r11, #8]
  002bc	e59d2058	 ldr         r2, [sp, #0x58]
  002c0	e59d1054	 ldr         r1, [sp, #0x54]
  002c4	e5903000	 ldr         r3, [r0]
  002c8	e5933028	 ldr         r3, [r3, #0x28]
  002cc	e1a0e00f	 mov         lr, pc
  002d0	e12fff13	 bx          r3

; 87   :             if (pOutSize != NULL) *pOutSize = size;

  002d4	e59d305c	 ldr         r3, [sp, #0x5C]
  002d8	e3530000	 cmp         r3, #0
  002dc	0a000042	 beq         |$LN38@IOControl@2|
  002e0	e5830000	 str         r0, [r3]

; 88   :             }
; 89   :             break;

  002e4	ea000040	 b           |$LN38@IOControl@2|
  002e8		 |$LN5@IOControl@2|

; 254  :                 }
; 255  :             }
; 256  :             break;
; 257  : 
; 258  :         case IOCTL_BUS_IS_CHILD_REMOVED:
; 259  :             if (pOutSize != NULL) *pOutSize = sizeof(BOOL);

  002e8	e59d305c	 ldr         r3, [sp, #0x5C]
  002ec	e3530000	 cmp         r3, #0
  002f0	13a02004	 movne       r2, #4
  002f4	15832000	 strne       r2, [r3]

; 260  :             if ((pInBuffer == NULL) || 
; 261  :                 (inSize < (wcslen((WCHAR*)pInBuffer) + 1) * sizeof(WCHAR)) ||
; 262  :                 (pOutBuffer == NULL) || (outSize < sizeof(BOOL)))

  002f8	e3550000	 cmp         r5, #0
  002fc	0a000038	 beq         |$LN10@IOControl@2|
  00300	e1a00005	 mov         r0, r5
  00304	eb000000	 bl          wcslen
  00308	e2803001	 add         r3, r0, #1
  0030c	e1560083	 cmp         r6, r3, lsl #1
  00310	3a000033	 bcc         |$LN10@IOControl@2|
  00314	e59d3054	 ldr         r3, [sp, #0x54]
  00318	e3530000	 cmp         r3, #0
  0031c	0a000030	 beq         |$LN10@IOControl@2|
  00320	e59d3058	 ldr         r3, [sp, #0x58]
  00324	e3530004	 cmp         r3, #4
  00328	3a00002d	 bcc         |$LN10@IOControl@2|

; 263  :                 {
; 264  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 265  :                 break;
; 266  :                 }
; 267  :             {
; 268  :             // Get child to be called
; 269  :             BusDriverChild_t* pChild = FindChildByName((WCHAR*)pInBuffer);

  0032c	e1a01005	 mov         r1, r5
  00330	e1a0000b	 mov         r0, r11
  00334	eb000000	 bl          |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|
  00338	e3500000	 cmp         r0, #0

; 270  : 
; 271  :             // If we can't find child by name, we get incorrect name
; 272  :             if (pChild == NULL)
; 273  :                 {
; 274  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 275  :                 break;

  0033c	0a000028	 beq         |$LN10@IOControl@2|

; 276  :                 }
; 277  :             // Call child function
; 278  :             rc = pChild->IoCtlIsChildRemoved();

  00340	e5903000	 ldr         r3, [r0]
  00344	e5933030	 ldr         r3, [r3, #0x30]
  00348	e1a0e00f	 mov         lr, pc
  0034c	e12fff13	 bx          r3
  00350	e1a07000	 mov         r7, r0
  00354	ea000024	 b           |$LN38@IOControl@2|
  00358		 |$LN37@IOControl@2|

; 76   :         {
; 77   :         
; 78   :         case IOCTL_BUS_POSTINIT: 
; 79   :             rc = m_pBus->IoCtlPostInit();

  00358	e59b0008	 ldr         r0, [r11, #8]
  0035c	e5903000	 ldr         r3, [r0]
  00360	e5933024	 ldr         r3, [r3, #0x24]
  00364	e1a0e00f	 mov         lr, pc
  00368	e12fff13	 bx          r3
  0036c	e1a07000	 mov         r7, r0

; 80   :             break;

  00370	ea00001d	 b           |$LN38@IOControl@2|
  00374		 |$LN12@IOControl@2|

; 224  :                 }
; 225  :             }
; 226  :             break;
; 227  : 
; 228  :         case IOCTL_BUS_ACTIVATE_CHILD:
; 229  :         case IOCTL_BUS_DEACTIVATE_CHILD:
; 230  :             if ((pInBuffer == NULL) || 
; 231  :                 (inSize < (wcslen((WCHAR*)pInBuffer) + 1) * sizeof(WCHAR)))

  00374	e3550000	 cmp         r5, #0
  00378	0a000019	 beq         |$LN10@IOControl@2|
  0037c	e1a00005	 mov         r0, r5
  00380	eb000000	 bl          wcslen
  00384	e2803001	 add         r3, r0, #1
  00388	e1560083	 cmp         r6, r3, lsl #1
  0038c	3a000014	 bcc         |$LN10@IOControl@2|

; 234  :                 break;
; 235  :                 }
; 236  :             {
; 237  :             // Get child to be called
; 238  :             BusDriverChild_t* pChild = FindChildByName((WCHAR*)pInBuffer);

  00390	e1a01005	 mov         r1, r5
  00394	e1a0000b	 mov         r0, r11
  00398	eb000000	 bl          |?FindChildByName@DefaultBusContext_t@@IAAPAVBusDriverChild_t@@PBG@Z|
  0039c	e3500000	 cmp         r0, #0

; 239  : 
; 240  :             // If we can't find child by name, we get incorrect name
; 241  :             if (pChild == NULL)
; 242  :                 {
; 243  :                 SetLastError(ERROR_INVALID_PARAMETER);
; 244  :                 break;

  003a0	0a00000f	 beq         |$LN10@IOControl@2|

; 245  :                 }
; 246  :             // Call child function
; 247  :             if (code == IOCTL_BUS_ACTIVATE_CHILD)

  003a4	e1540009	 cmp         r4, r9
  003a8	1a000005	 bne         |$LN8@IOControl@2|

; 248  :                 {
; 249  :                 rc = pChild->IoCtlActivateChild();

  003ac	e5903000	 ldr         r3, [r0]
  003b0	e5933028	 ldr         r3, [r3, #0x28]
  003b4	e1a0e00f	 mov         lr, pc
  003b8	e12fff13	 bx          r3
  003bc	e1a07000	 mov         r7, r0
  003c0	ea000009	 b           |$LN38@IOControl@2|
  003c4		 |$LN8@IOControl@2|

; 250  :                 }
; 251  :             else if (code == IOCTL_BUS_DEACTIVATE_CHILD)

  003c4	e1540008	 cmp         r4, r8
  003c8	1a000007	 bne         |$LN38@IOControl@2|

; 252  :                 {
; 253  :                 rc = pChild->IoCtlDeactivateChild();

  003cc	e5903000	 ldr         r3, [r0]
  003d0	e593302c	 ldr         r3, [r3, #0x2C]
  003d4	e1a0e00f	 mov         lr, pc
  003d8	e12fff13	 bx          r3
  003dc	e1a07000	 mov         r7, r0
  003e0	ea000001	 b           |$LN38@IOControl@2|
  003e4		 |$LN10@IOControl@2|

; 232  :                 {
; 233  :                 SetLastError(ERROR_INVALID_PARAMETER);

  003e4	e3a00057	 mov         r0, #0x57
  003e8	eb000000	 bl          SetLastError
  003ec		 |$LN38@IOControl@2|

; 279  :             }
; 280  :             break;
; 281  :         }
; 282  :     
; 283  :     return rc;
; 284  : }

  003ec	e1a00007	 mov         r0, r7
  003f0	e28dd030	 add         sp, sp, #0x30
  003f4	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  003f8	e12fff1e	 bx          lr
  003fc		 |$M34709|

			 ENDP  ; |?IOControl@DefaultBusContext_t@@UAAHKPAEK0KPAK@Z|, DefaultBusContext_t::IOControl

	EXPORT	|??0DefaultBusContext_t@@IAA@PAVBusDriver_t@@@Z| ; DefaultBusContext_t::DefaultBusContext_t
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\inc\driver.hxx

  00000			 AREA	 |.pdata|, PDATA
|$T34741| DCD	|$LN13@DefaultBus@2|
	DCD	0x40000f01
; Function compile flags: /Ogspy
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\mdd\defaultbuscontext.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0DefaultBusContext_t@@IAA@PAVBusDriver_t@@@Z| PROC ; DefaultBusContext_t::DefaultBusContext_t

; 23   : {

  00000		 |$LN13@DefaultBus@2|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34738|
  00004	e1a04000	 mov         r4, r0
  00008	e59f3028	 ldr         r3, [pc, #0x28]
  0000c	e3a02001	 mov         r2, #1
  00010	e3a0e000	 mov         lr, #0

; 24   :     // We made copy of pointer
; 25   :     m_pBus->AddRef();

  00014	e2810004	 add         r0, r1, #4
  00018	e5843000	 str         r3, [r4]
  0001c	e5842004	 str         r2, [r4, #4]
  00020	e5841008	 str         r1, [r4, #8]
  00024	e584e00c	 str         lr, [r4, #0xC]
  00028	eb000000	 bl          InterlockedIncrement

; 26   : }

  0002c	e1a00004	 mov         r0, r4
  00030	e8bd4010	 ldmia       sp!, {r4, lr}
  00034	e12fff1e	 bx          lr
  00038		 |$LN14@DefaultBus@2|
  00038		 |$LN15@DefaultBus@2|
  00038	00000000	 DCD         |??_7DefaultBusContext_t@@6B@|
  0003c		 |$M34739|

			 ENDP  ; |??0DefaultBusContext_t@@IAA@PAVBusDriver_t@@@Z|, DefaultBusContext_t::DefaultBusContext_t


  00000			 AREA	 |.pdata|, PDATA
|$T34754| DCD	|$LN6@scalar@4|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GDefaultBusContext_t@@MAAPAXI@Z| PROC ; DefaultBusContext_t::`scalar deleting destructor'
  00000		 |$LN6@scalar@4|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M34751|
  00004	e1a04001	 mov         r4, r1
  00008	e1a05000	 mov         r5, r0
  0000c	eb000000	 bl          |??1DefaultBusContext_t@@MAA@XZ|
  00010	e3140001	 tst         r4, #1
  00014	11a00005	 movne       r0, r5
  00018	1b000000	 blne        |??3@YAXPAX@Z|
  0001c	e1a00005	 mov         r0, r5
  00020	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00024	e12fff1e	 bx          lr
  00028		 |$M34752|

			 ENDP  ; |??_GDefaultBusContext_t@@MAAPAXI@Z|, DefaultBusContext_t::`scalar deleting destructor'

	END
