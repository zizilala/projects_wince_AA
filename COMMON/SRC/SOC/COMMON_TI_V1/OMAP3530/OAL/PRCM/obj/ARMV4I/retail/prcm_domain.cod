; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\OMAP3530\OAL\PRCM\prcm_domain.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|_CoreClockDomain| [ DATA ]
	EXPORT	|_PeripheralClockDomain| [ DATA ]
	EXPORT	|_UsbHostClockDomain| [ DATA ]
	EXPORT	|_EmulationClockDomain| [ DATA ]
	EXPORT	|_MpuClockDomain| [ DATA ]
	EXPORT	|_DssClockDomain| [ DATA ]
	EXPORT	|_NeonClockDomain| [ DATA ]
	EXPORT	|_Iva2ClockDomain| [ DATA ]
	EXPORT	|_CameraClockDomain| [ DATA ]
	EXPORT	|_SgxClockDomain| [ DATA ]
	EXPORT	|_WakeupPowerDomain| [ DATA ]
	EXPORT	|_CorePowerDomain| [ DATA ]
	EXPORT	|_PeripheralPowerDomain| [ DATA ]
	EXPORT	|_UsbHostPowerDomain| [ DATA ]
	EXPORT	|_MpuPowerDomain| [ DATA ]
	EXPORT	|_DssPowerDomain| [ DATA ]
	EXPORT	|_NeonPowerDomain| [ DATA ]
	EXPORT	|_Iva2PowerDomain| [ DATA ]
	EXPORT	|_CameraPowerDomain| [ DATA ]
	EXPORT	|_SgxPowerDomain| [ DATA ]
	EXPORT	|s_DomainTable| [ DATA ]

  00000			 AREA	 |.data|, DATA
|_CoreClockDomain| DCD 0x3
	DCD	0x0
	DCD	0x0
	DCD	0x0
	DCD	0x1
	DCD	0x0
	DCD	0x2
	DCD	0xb
	DCD	0x0
	DCD	0x4
|_PeripheralClockDomain| DCD 0x1
	DCD	0x2
	DCD	0x0
	DCD	0x0
|_UsbHostClockDomain| DCD 0x1
	DCD	0x3
	DCD	0x0
	DCD	0x0
|_EmulationClockDomain| DCD 0x1
	DCD	0x4
	DCD	0x0
	DCD	0x0
|_MpuClockDomain| DCD 0x1
	DCD	0x5
	DCD	0x0
	DCD	0x0
|_DssClockDomain| DCD 0x1
	DCD	0x6
	DCD	0x0
	DCD	0x0
|_NeonClockDomain| DCD 0x1
	DCD	0x7
	DCD	0x0
	DCD	0x0
|_Iva2ClockDomain| DCD 0x1
	DCD	0x8
	DCD	0x0
	DCD	0x0
|_CameraClockDomain| DCD 0x1
	DCD	0x9
	DCD	0x0
	DCD	0x0
|_SgxClockDomain| DCD 0x1
	DCD	0xa
	DCD	0x0
	DCD	0x0
|_WakeupPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x0
|_CorePowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x0
|_PeripheralPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x17
|_UsbHostPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x17
|_MpuPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0xa5
|_DssPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x16
|_NeonPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x2
|_Iva2PowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0xb3
|_CameraPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x16
|_SgxPowerDomain| DCD 0x3
	DCD	0x4
	DCD	0x0
	DCD	0x16
|s_DomainTable| DCD 0x0
	DCD	0x0
	DCD	|_WakeupPowerDomain|
	DCD	0x0
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xc
	DCD	|_CorePowerDomain|
	DCD	|_CoreClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xf
	DCD	|_PeripheralPowerDomain|
	DCD	|_PeripheralClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xf
	DCD	|_UsbHostPowerDomain|
	DCD	|_UsbHostClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0x8
	DCD	0x0
	DCD	|_EmulationClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xd
	DCD	|_MpuPowerDomain|
	DCD	|_MpuClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xf
	DCD	|_DssPowerDomain|
	DCD	|_DssClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xd
	DCD	|_NeonPowerDomain|
	DCD	|_NeonClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xd
	DCD	|_Iva2PowerDomain|
	DCD	|_Iva2ClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xf
	DCD	|_CameraPowerDomain|
	DCD	|_CameraClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0xf
	DCD	|_SgxPowerDomain|
	DCD	|_SgxClockDomain|
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0x0
	DCD	0x0
	DCD	0x0
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0x0
	DCD	0x0
	DCD	0x0
	DCD	0x0
	DCD	0xffffffff
	DCD	0xffffffff
	DCD	0xffffffff

  00000			 AREA	 |.rdata|, DATA, READONLY
|EdbgVendorIds| DCW 0x0
	DCW	0x0
	DCD	0x4033
	DCB	0x1
	DCB	"AD", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x4005
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x2078
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x10ec
	DCW	0x8029
	DCD	0xc0f0
	DCB	0x1
	DCB	"KS", 0x0
	DCW	0x10ec
	DCW	0x8129
	DCD	0x0
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0x900b
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xd0c9
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xe04c
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x1186
	DCW	0x1300
	DCD	0x50ba
	DCB	0x4
	DCB	"DL", 0x0
	DCW	0x100b
	DCW	0x20
	DCD	0xa0cc
	DCB	0x5
	DCB	"NG", 0x0
	DCW	0x10b7
	DCW	0x9050
	DCD	0x6008
	DCB	0x6
	DCB	"3C", 0x0
	DCW	0x10b7
	DCW	0x9200
	DCD	0x476
	DCB	0x6
	DCB	"3C", 0x0
	EXPORT	|Lock|
	IMPORT	|EnterCriticalSection|
	IMPORT	|g_bSingleThreaded|
	IMPORT	|g_PrcmPostInit|
	IMPORT	|g_rgPrcmMutex|
; File c:\wince600\platform\common\src\soc\common_ti_v1\omap3530\oal\prcm\prcm_priv.h

  00000			 AREA	 |.pdata|, PDATA
|$T47465| DCD	|$LN6@Lock|
	DCD	0x40001101
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |Lock|	 PROC

; 266  : {

  00000		 |$LN6@Lock|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M47462|

; 267  :     if (g_PrcmPostInit && !g_bSingleThreaded) 

  00004	e59f3034	 ldr         r3, [pc, #0x34]
  00008	e5933000	 ldr         r3, [r3]
  0000c	e3530000	 cmp         r3, #0
  00010	0a000006	 beq         |$LN1@Lock|
  00014	e59f3020	 ldr         r3, [pc, #0x20]
  00018	e5933000	 ldr         r3, [r3]
  0001c	e3530000	 cmp         r3, #0

; 268  :         {
; 269  :         EnterCriticalSection(&g_rgPrcmMutex[mutexId]);

  00020	059f2010	 ldreq       r2, [pc, #0x10]
  00024	00803100	 addeq       r3, r0, r0, lsl #2
  00028	00820103	 addeq       r0, r2, r3, lsl #2
  0002c	0b000000	 bleq        EnterCriticalSection
  00030		 |$LN1@Lock|

; 270  :         }
; 271  : }

  00030	e49de004	 ldr         lr, [sp], #4
  00034	e12fff1e	 bx          lr
  00038		 |$LN7@Lock|
  00038		 |$LN8@Lock|
  00038	00000000	 DCD         |g_rgPrcmMutex|
  0003c		 |$LN9@Lock|
  0003c	00000000	 DCD         |g_bSingleThreaded|
  00040		 |$LN10@Lock|
  00040	00000000	 DCD         |g_PrcmPostInit|
  00044		 |$M47463|

			 ENDP  ; |Lock|

	EXPORT	|Unlock|
	IMPORT	|LeaveCriticalSection|

  00000			 AREA	 |.pdata|, PDATA
|$T47477| DCD	|$LN6@Unlock|
	DCD	0x40001101
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |Unlock| PROC

; 277  : {

  00000		 |$LN6@Unlock|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M47474|

; 278  :     if (g_PrcmPostInit && !g_bSingleThreaded)

  00004	e59f3034	 ldr         r3, [pc, #0x34]
  00008	e5933000	 ldr         r3, [r3]
  0000c	e3530000	 cmp         r3, #0
  00010	0a000006	 beq         |$LN1@Unlock|
  00014	e59f3020	 ldr         r3, [pc, #0x20]
  00018	e5933000	 ldr         r3, [r3]
  0001c	e3530000	 cmp         r3, #0

; 279  :         {
; 280  :         LeaveCriticalSection(&g_rgPrcmMutex[mutexId]);

  00020	059f2010	 ldreq       r2, [pc, #0x10]
  00024	00803100	 addeq       r3, r0, r0, lsl #2
  00028	00820103	 addeq       r0, r2, r3, lsl #2
  0002c	0b000000	 bleq        LeaveCriticalSection
  00030		 |$LN1@Unlock|

; 281  :         }
; 282  : }

  00030	e49de004	 ldr         lr, [sp], #4
  00034	e12fff1e	 bx          lr
  00038		 |$LN7@Unlock|
  00038		 |$LN8@Unlock|
  00038	00000000	 DCD         |g_rgPrcmMutex|
  0003c		 |$LN9@Unlock|
  0003c	00000000	 DCD         |g_bSingleThreaded|
  00040		 |$LN10@Unlock|
  00040	00000000	 DCD         |g_PrcmPostInit|
  00044		 |$M47475|

			 ENDP  ; |Unlock|

	EXPORT	|??_C@_1DE@IEBANBBC@?$AA?9?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1LI@HACPIACF@?$AA?$CL?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AA?$DN?$AA0?$AAx?$AA?$CF?$AA0?$AA8@| [ DATA ] ; `string'
	IMPORT	|NKDbgPrintfW|
	IMPORT	|dpCurSettings|
; File c:\wince600\platform\common\src\soc\common_ti_v1\omap3530\oal\prcm\prcm_domain.c

  00000			 AREA	 |.pdata|, PDATA
|$T47498| DCD	|$LN10@DomainInit|
	DCD	0x40001e01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DE@IEBANBBC@?$AA?9?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "_", 0x0, "D", 0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i"
	DCB	0x0, "n", 0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, "("
	DCB	0x0, ")", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1LI@HACPIACF@?$AA?$CL?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AA?$DN?$AA0?$AAx?$AA?$CF?$AA0?$AA8@| DCB "+"
	DCB	0x0, "_", 0x0, "D", 0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i"
	DCB	0x0, "n", 0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, "("
	DCB	0x0, "p", 0x0, "D", 0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i"
	DCB	0x0, "n", 0x0, "=", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "X", 0x0, ",", 0x0, " ", 0x0, "p", 0x0, "m"
	DCB	0x0, "_", 0x0, "p", 0x0, "w", 0x0, "s", 0x0, "t", 0x0, "c"
	DCB	0x0, "t", 0x0, "r", 0x0, "l", 0x0, "=", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "X", 0x0, "p", 0x0, "m"
	DCB	0x0, "_", 0x0, "w", 0x0, "k", 0x0, "d", 0x0, "e", 0x0, "p"
	DCB	0x0, "=", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "X", 0x0, ",", 0x0, " ", 0x0, "c", 0x0, "m", 0x0, "_"
	DCB	0x0, "s", 0x0, "l", 0x0, "e", 0x0, "e", 0x0, "p", 0x0, "d"
	DCB	0x0, "e", 0x0, "p", 0x0, "=", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "X", 0x0, ")", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |_DomainInitialize| PROC

; 285  : {

  00000		 |$LN10@DomainInit|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004		 |$M47495|
  00004	e1a06003	 mov         r6, r3
  00008	e1a08002	 mov         r8, r2
  0000c	e1a07001	 mov         r7, r1
  00010	e1a04000	 mov         r4, r0

; 286  :     BOOL rc = TRUE;
; 287  :     OALMSG(OAL_FUNC, (L"+_DomainInitialize("
; 288  :         L"pDomain=0x%08X, pm_pwstctrl=0x%08X"
; 289  :         L"pm_wkdep=0x%08X, cm_sleepdep=0x%08X)\r\n", 
; 290  :         pDomain, pm_pwstctrl, cm_sleepdep)
; 291  :         );

  00014	e59f5058	 ldr         r5, [pc, #0x58]
  00018	e595e440	 ldr         lr, [r5, #0x440]
  0001c	e31e0004	 tst         lr, #4
  00020	159f0048	 ldrne       r0, [pc, #0x48]
  00024	11a02007	 movne       r2, r7
  00028	11a01004	 movne       r1, r4
  0002c	1b000000	 blne        NKDbgPrintfW

; 292  : 
; 293  :     // all values are normalized and then cached in SDRAM
; 294  :     if (pDomain == NULL) goto cleanUp;

  00030	e3540000	 cmp         r4, #0

; 295  :     
; 296  :     // domain power state
; 297  :     pDomain->powerState = (pm_pwstctrl & POWERSTATE_MASK) >> POWERSTATE_SHIFT;

  00034	12071003	 andne       r1, r7, #3

; 298  : 
; 299  :     // wake and sleep dependencies
; 300  :     pDomain->wakeDependency = (pm_wkdep & WKDEP_MASK) >> WKDEP_SHIFT;

  00038	120820ff	 andne       r2, r8, #0xFF

; 301  :     pDomain->sleepDependency = (cm_sleepdep & SLEEPDEP_MASK) >> SLEEPDEP_SHIFT;

  0003c	120630ff	 andne       r3, r6, #0xFF
  00040	15841000	 strne       r1, [r4]
  00044	1584200c	 strne       r2, [r4, #0xC]
  00048	15843008	 strne       r3, [r4, #8]
  0004c		 |$cleanUp$46970|
  0004c	e5953440	 ldr         r3, [r5, #0x440]

; 302  : 
; 303  : cleanUp:
; 304  :     OALMSG(OAL_FUNC, (L"-_DomainInitialize()=%d\r\n", rc));

  00050	e3130004	 tst         r3, #4
  00054	159f0010	 ldrne       r0, [pc, #0x10]
  00058	13a01001	 movne       r1, #1
  0005c	1b000000	 blne        NKDbgPrintfW

; 305  :     return rc;    

  00060	e3a00001	 mov         r0, #1

; 306  : }

  00064	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  00068	e12fff1e	 bx          lr
  0006c		 |$LN11@DomainInit|
  0006c		 |$LN12@DomainInit|
  0006c	00000000	 DCD         |??_C@_1DE@IEBANBBC@?$AA?9?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00070		 |$LN13@DomainInit|
  00070	00000000	 DCD         |??_C@_1LI@HACPIACF@?$AA?$CL?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AA?$DN?$AA0?$AAx?$AA?$CF?$AA0?$AA8@|
  00074		 |$LN14@DomainInit|
  00074	00000000	 DCD         |dpCurSettings|
  00078		 |$M47496|

			 ENDP  ; |_DomainInitialize|

	IMPORT	|PrcmClockRestoreDpllState|
	IMPORT	|g_pPrcmCm|
	IMPORT	|s_SrcClockTable|

  00000			 AREA	 |.pdata|, PDATA
|$T47541| DCD	|$LN35@DomainCloc|
	DCD	0x40006d01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |_DomainClockRestore| PROC

; 314  : {

  00000		 |$LN35@DomainCloc|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M47538|

; 315  :     UINT i;
; 316  :     UINT val;
; 317  :     UINT parentClock;
; 318  :     SrcClockDivisorTable_t *pDivisors;
; 319  : 
; 320  :     extern SrcClockMap s_SrcClockTable;
; 321  : 
; 322  :     switch (powerDomain)

  00004	e3500002	 cmp         r0, #2
  00008	0a000038	 beq         |$LN9@DomainCloc|
  0000c	e3500006	 cmp         r0, #6
  00010	0a000029	 beq         |$LN8@DomainCloc|
  00014	e3500008	 cmp         r0, #8
  00018	0a000024	 beq         |$LN1@DomainCloc|
  0001c	e3500009	 cmp         r0, #9
  00020	0a000019	 beq         |$LN7@DomainCloc|
  00024	e350000a	 cmp         r0, #0xA
  00028	1a00005c	 bne         |$LN10@DomainCloc|

; 350  : 
; 351  :         case POWERDOMAIN_SGX:
; 352  :             // verify parent clock is valid       
; 353  :             pDivisors = s_SrcClockTable[kSGX_FCLK].pDivisors;

  0002c	e59f317c	 ldr         r3, [pc, #0x17C]

; 354  :             parentClock = s_SrcClockTable[kSGX_FCLK].parentClk;
; 355  :             for (i = 0; i < pDivisors->count; ++i)

  00030	e3a01000	 mov         r1, #0
  00034	e59305c0	 ldr         r0, [r3, #0x5C0]
  00038	e59345b4	 ldr         r4, [r3, #0x5B4]
  0003c	e5903000	 ldr         r3, [r0]
  00040	e1b0e003	 movs        lr, r3
  00044	0a000055	 beq         |$LN10@DomainCloc|

; 350  : 
; 351  :         case POWERDOMAIN_SGX:
; 352  :             // verify parent clock is valid       
; 353  :             pDivisors = s_SrcClockTable[kSGX_FCLK].pDivisors;

  00048	e1a02000	 mov         r2, r0
  0004c		 |$LL5@DomainCloc|

; 356  :                 {
; 357  :                 if (parentClock == pDivisors->SourceClock[i].id)

  0004c	e5923004	 ldr         r3, [r2, #4]
  00050	e1540003	 cmp         r4, r3
  00054	0a000004	 beq         |$LN31@DomainCloc|
  00058	e2811001	 add         r1, r1, #1
  0005c	e151000e	 cmp         r1, lr
  00060	e2822008	 add         r2, r2, #8
  00064	3afffff8	 bcc         |$LL5@DomainCloc|
  00068	ea00004c	 b           |$LN10@DomainCloc|
  0006c		 |$LN31@DomainCloc|

; 358  :                     {
; 359  :                     // write to hw
; 360  :                     OUTREG32(&g_pPrcmCm->pOMAP_SGX_CM->CM_CLKSEL_SGX, 
; 361  :                         CLKSEL_SGX(pDivisors->SourceClock[i].divisor)
; 362  :                         );

  0006c	e59f2138	 ldr         r2, [pc, #0x138]
  00070	e0803181	 add         r3, r0, r1, lsl #3
  00074	e5933008	 ldr         r3, [r3, #8]
  00078	e5922000	 ldr         r2, [r2]
  0007c	e2031007	 and         r1, r3, #7
  00080	e5923028	 ldr         r3, [r2, #0x28]
  00084	e5831040	 str         r1, [r3, #0x40]

; 363  :                     break;
; 364  :                     }
; 365  :                 }
; 366  :             break;

  00088	ea000044	 b           |$LN10@DomainCloc|
  0008c		 |$LN7@DomainCloc|

; 343  :  
; 344  :         case POWERDOMAIN_CAMERA:
; 345  :             // write to hw
; 346  :             OUTREG32(&g_pPrcmCm->pOMAP_CAM_CM->CM_CLKSEL_CAM, 
; 347  :                 CLKSEL_CAM(s_SrcClockTable[kCAM_MCLK].pDivisors->SourceClock[0].divisor)
; 348  :                 );

  0008c	e59f311c	 ldr         r3, [pc, #0x11C]
  00090	e59f2114	 ldr         r2, [pc, #0x114]
  00094	e59330ac	 ldr         r3, [r3, #0xAC]
  00098	e5922000	 ldr         r2, [r2]
  0009c	e5933008	 ldr         r3, [r3, #8]
  000a0	e5922024	 ldr         r2, [r2, #0x24]
  000a4	e203301f	 and         r3, r3, #0x1F
  000a8	e5823040	 str         r3, [r2, #0x40]

; 349  :             break;

  000ac	ea00003b	 b           |$LN10@DomainCloc|
  000b0		 |$LN1@DomainCloc|

; 367  :         case POWERDOMAIN_IVA2:
; 368  :             PrcmClockRestoreDpllState(kDPLL2);

  000b0	e3a00001	 mov         r0, #1
  000b4	eb000000	 bl          PrcmClockRestoreDpllState

; 369  :            break;

  000b8	ea000038	 b           |$LN10@DomainCloc|
  000bc		 |$LN8@DomainCloc|

; 335  :             break;
; 336  : 
; 337  :         case POWERDOMAIN_DSS:
; 338  :             // write to hw
; 339  :             OUTREG32(&g_pPrcmCm->pOMAP_DSS_CM->CM_CLKSEL_DSS,
; 340  :                 CLKSEL_DSS1(s_SrcClockTable[kDSS1_ALWON_FCLK].pDivisors->SourceClock[0].divisor) |
; 341  :                 CLKSEL_TV(s_SrcClockTable[k54M_FCLK].pDivisors->SourceClock[0].divisor));

  000bc	e59f30ec	 ldr         r3, [pc, #0xEC]
  000c0	e59f20e4	 ldr         r2, [pc, #0xE4]
  000c4	e59305ac	 ldr         r0, [r3, #0x5AC]
  000c8	e5931098	 ldr         r1, [r3, #0x98]
  000cc	e5922000	 ldr         r2, [r2]
  000d0	e5903008	 ldr         r3, [r0, #8]
  000d4	e5911008	 ldr         r1, [r1, #8]
  000d8	e5920018	 ldr         r0, [r2, #0x18]
  000dc	e203201f	 and         r2, r3, #0x1F
  000e0	e201301f	 and         r3, r1, #0x1F
  000e4	e1833402	 orr         r3, r3, r2, lsl #8
  000e8	e5803040	 str         r3, [r0, #0x40]

; 342  :             break;

  000ec	ea00002b	 b           |$LN10@DomainCloc|
  000f0		 |$LN9@DomainCloc|

; 323  :         {
; 324  :         case POWERDOMAIN_PERIPHERAL:
; 325  :             // build mask
; 326  :             val = s_SrcClockTable[kGPT2_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT2 : 0;

  000f0	e59f20b8	 ldr         r2, [pc, #0xB8]
  000f4	e59235dc	 ldr         r3, [r2, #0x5DC]
  000f8	e353000c	 cmp         r3, #0xC

; 327  :             val |= s_SrcClockTable[kGPT3_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT3 : 0;

  000fc	e59235f0	 ldr         r3, [r2, #0x5F0]
  00100	03a01001	 moveq       r1, #1
  00104	13a01000	 movne       r1, #0
  00108	e353000c	 cmp         r3, #0xC

; 328  :             val |= s_SrcClockTable[kGPT4_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT4 : 0;

  0010c	e5923604	 ldr         r3, [r2, #0x604]
  00110	03a00002	 moveq       r0, #2
  00114	13a00000	 movne       r0, #0
  00118	e353000c	 cmp         r3, #0xC

; 329  :             val |= s_SrcClockTable[kGPT5_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT5 : 0;

  0011c	e5923618	 ldr         r3, [r2, #0x618]
  00120	e1800001	 orr         r0, r0, r1
  00124	03a01004	 moveq       r1, #4
  00128	13a01000	 movne       r1, #0
  0012c	e353000c	 cmp         r3, #0xC

; 330  :             val |= s_SrcClockTable[kGPT6_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT6 : 0;

  00130	e592362c	 ldr         r3, [r2, #0x62C]
  00134	e1810000	 orr         r0, r1, r0
  00138	03a01008	 moveq       r1, #8
  0013c	13a01000	 movne       r1, #0
  00140	e353000c	 cmp         r3, #0xC

; 331  :             val |= s_SrcClockTable[kGPT7_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT7 : 0;

  00144	e5923640	 ldr         r3, [r2, #0x640]
  00148	e1810000	 orr         r0, r1, r0
  0014c	03a01010	 moveq       r1, #0x10
  00150	13a01000	 movne       r1, #0
  00154	e353000c	 cmp         r3, #0xC

; 332  :             val |= s_SrcClockTable[kGPT8_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT8 : 0;

  00158	e5923654	 ldr         r3, [r2, #0x654]
  0015c	e1810000	 orr         r0, r1, r0
  00160	03a01020	 moveq       r1, #0x20
  00164	13a01000	 movne       r1, #0
  00168	e353000c	 cmp         r3, #0xC

; 333  :             val |= s_SrcClockTable[kGPT9_ALWON_FCLK].parentClk == kSYS_CLK ? CLKSEL_GPT9 : 0;

  0016c	e5923668	 ldr         r3, [r2, #0x668]
  00170	e1810000	 orr         r0, r1, r0
  00174	03a01040	 moveq       r1, #0x40
  00178	13a01000	 movne       r1, #0
  0017c	e353000c	 cmp         r3, #0xC

; 334  :             OUTREG32(&g_pPrcmCm->pOMAP_PER_CM->CM_CLKSEL_PER, val);

  00180	e59f3024	 ldr         r3, [pc, #0x24]
  00184	03a02080	 moveq       r2, #0x80
  00188	e1811000	 orr         r1, r1, r0
  0018c	e5933000	 ldr         r3, [r3]
  00190	13a02000	 movne       r2, #0
  00194	e1822001	 orr         r2, r2, r1
  00198	e5933008	 ldr         r3, [r3, #8]
  0019c	e5832040	 str         r2, [r3, #0x40]
  001a0		 |$LN10@DomainCloc|

; 370  :         }
; 371  : 
; 372  :     return TRUE;

  001a0	e3a00001	 mov         r0, #1

; 373  : }

  001a4	e8bd4010	 ldmia       sp!, {r4, lr}
  001a8	e12fff1e	 bx          lr
  001ac		 |$LN36@DomainCloc|
  001ac		 |$LN37@DomainCloc|
  001ac	00000000	 DCD         |g_pPrcmCm|
  001b0		 |$LN38@DomainCloc|
  001b0	00000000	 DCD         |s_SrcClockTable|
  001b4		 |$M47539|

			 ENDP  ; |_DomainClockRestore|

	EXPORT	|??_C@_1EG@MJBAHCAP@?$AA?9?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IO@GHDCOMKL@?$AA?$CL?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAC?$AAl?$AAo@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T47562| DCD	|$LN15@PrcmDomain|
	DCD	0x40002501

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@MJBAHCAP@?$AA?9?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd@| DCB "-"
	DCB	0x0, "_", 0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D"
	DCB	0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "C"
	DCB	0x0, "l", 0x0, "o", 0x0, "c", 0x0, "k", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "z", 0x0, "e", 0x0, "(", 0x0, ")", 0x0, "=", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IO@GHDCOMKL@?$AA?$CL?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAC?$AAl?$AAo@| DCB "+"
	DCB	0x0, "_", 0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D"
	DCB	0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "C"
	DCB	0x0, "l", 0x0, "o", 0x0, "c", 0x0, "k", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "z", 0x0, "e", 0x0, "(", 0x0, "p", 0x0, "C", 0x0, "l"
	DCB	0x0, "o", 0x0, "c", 0x0, "k", 0x0, "S", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "s", 0x0, "=", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "X", 0x0, ",", 0x0, " "
	DCB	0x0, "c", 0x0, "m", 0x0, "_", 0x0, "c", 0x0, "l", 0x0, "k"
	DCB	0x0, "s", 0x0, "t", 0x0, "c", 0x0, "t", 0x0, "r", 0x0, "l"
	DCB	0x0, "=", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "X", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |_PrcmDomainClockInitialize| PROC

; 382  : {

  00000		 |$LN15@PrcmDomain|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M47559|
  00004	e1a06001	 mov         r6, r1
  00008	e1a04000	 mov         r4, r0

; 383  :     UINT i;
; 384  :     UINT temp;
; 385  :     BOOL rc = TRUE;
; 386  :     OALMSG(OAL_FUNC, (L"+_PrcmDomainClockInitialize("
; 387  :         L"pClockStates=0x%08X, cm_clkstctrl=0x%08X\r\n", 
; 388  :         pClockStates,  cm_clkstctrl)
; 389  :         );

  0000c	e59f507c	 ldr         r5, [pc, #0x7C]
  00010	e5953440	 ldr         r3, [r5, #0x440]
  00014	e3130004	 tst         r3, #4
  00018	159f006c	 ldrne       r0, [pc, #0x6C]
  0001c	11a02006	 movne       r2, r6
  00020	11a01004	 movne       r1, r4
  00024	1b000000	 blne        NKDbgPrintfW

; 390  : 
; 391  :     // all values are normalized and then cached in SDRAM
; 392  :     if (pClockStates == NULL) goto cleanUp;

  00028	e3540000	 cmp         r4, #0
  0002c	0a00000d	 beq         |$cleanUp$47016|

; 393  : 
; 394  :     for (i = 0; i < pClockStates->count; ++i)

  00030	e5943000	 ldr         r3, [r4]
  00034	e3a01000	 mov         r1, #0
  00038	e3530000	 cmp         r3, #0
  0003c	9a000009	 bls         |$cleanUp$47016|
  00040	e1a02004	 mov         r2, r4
  00044		 |$LL3@PrcmDomain|

; 395  :         {  
; 396  :         temp = cm_clkstctrl >> pClockStates->rgClockDomains[i].clockShift;        

  00044	e592300c	 ldr         r3, [r2, #0xC]
  00048	e2811001	 add         r1, r1, #1
  0004c	e1a03336	 mov         r3, r6, lsr r3

; 397  :         pClockStates->rgClockDomains[i].clockState = (temp & CLKSTCTRL_MASK) >> CLKSTCTRL_SHIFT; 

  00050	e2033003	 and         r3, r3, #3
  00054	e5823008	 str         r3, [r2, #8]
  00058	e5943000	 ldr         r3, [r4]
  0005c	e282200c	 add         r2, r2, #0xC
  00060	e1510003	 cmp         r1, r3
  00064	3afffff6	 bcc         |$LL3@PrcmDomain|
  00068		 |$cleanUp$47016|

; 383  :     UINT i;
; 384  :     UINT temp;
; 385  :     BOOL rc = TRUE;
; 386  :     OALMSG(OAL_FUNC, (L"+_PrcmDomainClockInitialize("
; 387  :         L"pClockStates=0x%08X, cm_clkstctrl=0x%08X\r\n", 
; 388  :         pClockStates,  cm_clkstctrl)
; 389  :         );

  00068	e5953440	 ldr         r3, [r5, #0x440]

; 398  :         }
; 399  :     
; 400  : cleanUp:
; 401  :     OALMSG(OAL_FUNC, (L"-_PrcmDomainClockInitialize()=%d\r\n", rc));

  0006c	e3130004	 tst         r3, #4
  00070	159f0010	 ldrne       r0, [pc, #0x10]
  00074	13a01001	 movne       r1, #1
  00078	1b000000	 blne        NKDbgPrintfW

; 402  :     return rc;    

  0007c	e3a00001	 mov         r0, #1

; 403  : }

  00080	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00084	e12fff1e	 bx          lr
  00088		 |$LN16@PrcmDomain|
  00088		 |$LN17@PrcmDomain|
  00088	00000000	 DCD         |??_C@_1EG@MJBAHCAP@?$AA?9?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd@|
  0008c		 |$LN18@PrcmDomain|
  0008c	00000000	 DCD         |??_C@_1IO@GHDCOMKL@?$AA?$CL?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAC?$AAl?$AAo@|
  00090		 |$LN19@PrcmDomain|
  00090	00000000	 DCD         |dpCurSettings|
  00094		 |$M47560|

			 ENDP  ; |_PrcmDomainClockInitialize|

	IMPORT	|g_pPrcmRestore|
	IMPORT	|GetPrmRegisterSet|
	IMPORT	|GetCmRegisterSet|

  00000			 AREA	 |.pdata|, PDATA
|$T47587| DCD	|$LN19@PrcmDomain@2|
	DCD	0x40004101
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |_PrcmDomainHwUpdate| PROC

; 412  : {

  00000		 |$LN19@PrcmDomain@2|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M47584|
  00004	e1a04001	 mov         r4, r1
  00008	e1a06000	 mov         r6, r0

; 413  :     BOOL rc = TRUE;
; 414  :     UINT pm_wkdep;
; 415  :     UINT pm_pwstctrl;
; 416  :     UINT cm_sleepdep;
; 417  :     UINT cm_clkstctrl;   
; 418  :     OMAP_CM_REGS   *pCmRegs;
; 419  :     OMAP_PRM_REGS  *pPrmRegs;
; 420  :     ClockDomainInfo_t  *pClockStates;    
; 421  :     PowerDomainState_t *pDomainState;
; 422  :     
; 423  :     // update the following hw registers
; 424  :     // PM_WKDEP_xxx
; 425  :     // CM_SLEEPDEP_xxx
; 426  :     // PM_PWSTCTRL_xxx.POWERSTATE
; 427  :     // CM_CLKSTCTRL_xxx
; 428  : 
; 429  :     pCmRegs = GetCmRegisterSet(powerDomain);

  0000c	eb000000	 bl          GetCmRegisterSet
  00010	e1a05000	 mov         r5, r0

; 430  :     pPrmRegs = GetPrmRegisterSet(powerDomain);

  00014	e1a00006	 mov         r0, r6
  00018	eb000000	 bl          GetPrmRegisterSet

; 431  :     pClockStates = s_DomainTable[powerDomain].pClockStates;

  0001c	e59f20dc	 ldr         r2, [pc, #0xDC]
  00020	e0663186	 rsb         r3, r6, r6, lsl #3
  00024	e0823103	 add         r3, r2, r3, lsl #2

; 432  :     pDomainState = s_DomainTable[powerDomain].pDomainState;

  00028	e5932008	 ldr         r2, [r3, #8]
  0002c	e593e00c	 ldr         lr, [r3, #0xC]
  00030	e1b07002	 movs        r7, r2

; 433  :         
; 434  :     if (pDomainState != NULL)

  00034	0a000013	 beq         |$LN9@PrcmDomain@2|

; 435  :         {
; 436  :         if (ffMask & DOMAIN_UPDATE_WKUPDEP)

  00038	e3140001	 tst         r4, #1

; 437  :             {
; 438  :             pm_wkdep = INREG32(&pPrmRegs->PM_WKDEP_xxx) & ~WKDEP_MASK;

  0003c	159030c8	 ldrne       r3, [r0, #0xC8]

; 439  :             pm_wkdep |= pDomainState->wakeDependency << WKDEP_SHIFT;

  00040	1597200c	 ldrne       r2, [r7, #0xC]
  00044	13c330ff	 bicne       r3, r3, #0xFF
  00048	11823003	 orrne       r3, r2, r3

; 440  :             OUTREG32(&pPrmRegs->PM_WKDEP_xxx, pm_wkdep);

  0004c	158030c8	 strne       r3, [r0, #0xC8]

; 441  :             }
; 442  : 
; 443  :         if (ffMask & DOMAIN_UPDATE_SLEEPDEP)

  00050	e3140002	 tst         r4, #2

; 444  :             {
; 445  :             cm_sleepdep = INREG32(&pCmRegs->CM_SLEEPDEP_xxx) & ~SLEEPDEP_MASK;

  00054	15953044	 ldrne       r3, [r5, #0x44]

; 446  :             cm_sleepdep |= pDomainState->sleepDependency << SLEEPDEP_SHIFT;

  00058	15972008	 ldrne       r2, [r7, #8]
  0005c	13c330ff	 bicne       r3, r3, #0xFF
  00060	11823003	 orrne       r3, r2, r3

; 447  :             OUTREG32(&pCmRegs->CM_SLEEPDEP_xxx, cm_sleepdep);

  00064	15853044	 strne       r3, [r5, #0x44]

; 448  :             }
; 449  : 
; 450  :         if (ffMask & DOMAIN_UPDATE_POWERSTATE)

  00068	e3140004	 tst         r4, #4

; 451  :             {
; 452  :             pm_pwstctrl = INREG32(&pPrmRegs->PM_PWSTCTRL_xxx) & ~(POWERSTATE_MASK | LOGICRETSTATE_MASK);

  0006c	159020e0	 ldrne       r2, [r0, #0xE0]
  00070	15971004	 ldrne       r1, [r7, #4]
  00074	15973000	 ldrne       r3, [r7]
  00078	13c22007	 bicne       r2, r2, #7
  0007c	11813003	 orrne       r3, r1, r3

; 453  :             pm_pwstctrl |= pDomainState->powerState << POWERSTATE_SHIFT;
; 454  :             pm_pwstctrl |= pDomainState->logicState;
; 455  :             OUTREG32(&pPrmRegs->PM_PWSTCTRL_xxx, pm_pwstctrl);

  00080	11833002	 orrne       r3, r3, r2
  00084	158030e0	 strne       r3, [r0, #0xE0]
  00088		 |$LN9@PrcmDomain@2|

; 456  :             }
; 457  :         }
; 458  : 
; 459  :     if (pClockStates != NULL)

  00088	e35e0000	 cmp         lr, #0
  0008c	0a000017	 beq         |$LN1@PrcmDomain@2|

; 460  :         {
; 461  :         if (ffMask & DOMAIN_UPDATE_CLOCKSTATE)

  00090	e3140008	 tst         r4, #8
  00094	0a000015	 beq         |$LN1@PrcmDomain@2|

; 462  :             {
; 463  :             UINT i;
; 464  :             cm_clkstctrl = INREG32(&pCmRegs->CM_CLKSTCTRL_xxx);
; 465  :             for (i = 0; i < pClockStates->count; ++i)

  00098	e59e3000	 ldr         r3, [lr]
  0009c	e5950048	 ldr         r0, [r5, #0x48]
  000a0	e1b04003	 movs        r4, r3
  000a4	0a000007	 beq         |$LN4@PrcmDomain@2|
  000a8	e3a07003	 mov         r7, #3
  000ac		 |$LL6@PrcmDomain@2|

; 466  :                 {
; 467  :                 cm_clkstctrl &= ~(CLKSTCTRL_MASK << pClockStates->rgClockDomains[i].clockShift);
; 468  :                 cm_clkstctrl |= (pClockStates->rgClockDomains[i].clockState << pClockStates->rgClockDomains[i].clockShift) << CLKSTCTRL_SHIFT;

  000ac	e59e100c	 ldr         r1, [lr, #0xC]
  000b0	e59e2008	 ldr         r2, [lr, #8]
  000b4	e28ee00c	 add         lr, lr, #0xC
  000b8	e1c03117	 bic         r3, r0, r7, lsl r1
  000bc	e2544001	 subs        r4, r4, #1
  000c0	e1830112	 orr         r0, r3, r2, lsl r1
  000c4	1afffff8	 bne         |$LL6@PrcmDomain@2|
  000c8		 |$LN4@PrcmDomain@2|

; 469  :                 }
; 470  :             OUTREG32(&pCmRegs->CM_CLKSTCTRL_xxx, cm_clkstctrl);
; 471  : 
; 472  :             // save context
; 473  :             if (powerDomain == POWERDOMAIN_MPU)

  000c8	e3560005	 cmp         r6, #5

; 474  :                 {
; 475  :                 OUTREG32(&g_pPrcmRestore->CM_CLKSTCTRL_MPU, cm_clkstctrl);

  000cc	059f3028	 ldreq       r3, [pc, #0x28]
  000d0	e5850048	 str         r0, [r5, #0x48]
  000d4	05933000	 ldreq       r3, [r3]
  000d8	05830038	 streq       r0, [r3, #0x38]
  000dc	0a000003	 beq         |$LN1@PrcmDomain@2|

; 476  :                 }
; 477  :             else if (powerDomain == POWERDOMAIN_CORE)

  000e0	e3560001	 cmp         r6, #1

; 478  :                 {
; 479  :                 OUTREG32(&g_pPrcmRestore->CM_CLKSTCTRL_CORE, cm_clkstctrl);

  000e4	059f3010	 ldreq       r3, [pc, #0x10]
  000e8	05933000	 ldreq       r3, [r3]
  000ec	0583003c	 streq       r0, [r3, #0x3C]
  000f0		 |$LN1@PrcmDomain@2|

; 480  :                 }
; 481  :             }
; 482  :         }
; 483  :     
; 484  :     return rc;

  000f0	e3a00001	 mov         r0, #1

; 485  : }

  000f4	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  000f8	e12fff1e	 bx          lr
  000fc		 |$LN20@PrcmDomain@2|
  000fc		 |$LN21@PrcmDomain@2|
  000fc	00000000	 DCD         |g_pPrcmRestore|
  00100		 |$LN22@PrcmDomain@2|
  00100	00000000	 DCD         |s_DomainTable|
  00104		 |$M47585|

			 ENDP  ; |_PrcmDomainHwUpdate|

	EXPORT	|PrcmDomainSetPowerStateInternal|
	IMPORT	|OALWakeupLatency_UpdateDomainState|

  00000			 AREA	 |.pdata|, PDATA
|$T47605| DCD	|$LN9@PrcmDomain@3|
	DCD	0x40002501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetPowerStateInternal| PROC

; 495  : {

  00000		 |$LN9@PrcmDomain@3|
  00000	e92d43f0	 stmdb       sp!, {r4 - r9, lr}
  00004		 |$M47602|
  00004	e1a07003	 mov         r7, r3
  00008	e1a08002	 mov         r8, r2
  0000c	e1a09001	 mov         r9, r1
  00010	e1a05000	 mov         r5, r0

; 496  :     BOOL rc = FALSE;

  00014	e3a06000	 mov         r6, #0

; 497  :     PowerDomainState_t *pDomainState;
; 498  :     
; 499  :     if (powerDomain >= POWERDOMAIN_COUNT) goto cleanUp;

  00018	e355000d	 cmp         r5, #0xD
  0001c	2a000018	 bcs         |$cleanUp$47080|

; 500  :     if ((s_DomainTable[powerDomain].ffValidationMask & DOMAIN_UPDATE_POWERSTATE) == 0) goto cleanUp;

  00020	e59f4068	 ldr         r4, [pc, #0x68]
  00024	e065e185	 rsb         lr, r5, r5, lsl #3
  00028	e084010e	 add         r0, r4, lr, lsl #2
  0002c	e590e004	 ldr         lr, [r0, #4]
  00030	e31e0004	 tst         lr, #4
  00034	0a000012	 beq         |$cleanUp$47080|

; 501  : 
; 502  :     // update internal state information 
; 503  :     pDomainState = s_DomainTable[powerDomain].pDomainState;

  00038	e590e008	 ldr         lr, [r0, #8]
  0003c	e1b0400e	 movs        r4, lr

; 504  :     if (pDomainState == NULL) goto cleanUp;

  00040	0a00000f	 beq         |$cleanUp$47080|

; 505  :     
; 506  :     // POWERSTATE_OFF                      0
; 507  :     // POWERSTATE_RETENTION                1
; 508  :     // POWERSTATE_INACTIVE                 2
; 509  :     // POWERSTATE_ON                       3
; 510  : 
; 511  :     // LOGICRETSTATE_LOGICOFF_DOMAINRET    1
; 512  :     // LOGICRETSTATE_LOGICRET_DOMAINRET    4
; 513  : 
; 514  :     //OALMSG(1, (L"Domain %d -> P%d L%d\r\n", powerDomain, powerState, logicState));
; 515  : 
; 516  :     Lock(Mutex_Domain);

  00044	e3a00002	 mov         r0, #2
  00048	eb000000	 bl          Lock

; 517  :     powerState &= POWERSTATE_MASK;

  0004c	e2091003	 and         r1, r9, #3

; 518  :     powerState >>= POWERSTATE_SHIFT;
; 519  :     pDomainState->powerState = powerState;
; 520  :     pDomainState->logicState = logicState & LOGICRETSTATE;

  00050	e2082004	 and         r2, r8, #4
  00054	e8840006	 stmia       r4, {r1, r2}

; 521  :     rc = _PrcmDomainHwUpdate(powerDomain, DOMAIN_UPDATE_POWERSTATE);

  00058	e3a01004	 mov         r1, #4
  0005c	e1a00005	 mov         r0, r5
  00060	eb000000	 bl          _PrcmDomainHwUpdate

; 522  : 
; 523  :     // check if we need to notify of a power state change
; 524  :     if (bNotify == TRUE)

  00064	e3570001	 cmp         r7, #1

; 525  :         {
; 526  :         // update latency information
; 527  :         OALWakeupLatency_UpdateDomainState(powerDomain, 
; 528  :             pDomainState->powerState, 
; 529  :             pDomainState->logicState
; 530  :             );

  00068	05942004	 ldreq       r2, [r4, #4]
  0006c	05941000	 ldreq       r1, [r4]
  00070	e1a06000	 mov         r6, r0
  00074	01a00005	 moveq       r0, r5
  00078	0b000000	 bleq        OALWakeupLatency_UpdateDomainState

; 531  :         }
; 532  :     Unlock(Mutex_Domain);

  0007c	e3a00002	 mov         r0, #2
  00080	eb000000	 bl          Unlock
  00084		 |$cleanUp$47080|

; 533  :     
; 534  : cleanUp:    
; 535  :     
; 536  :     return rc;
; 537  : }

  00084	e1a00006	 mov         r0, r6
  00088	e8bd43f0	 ldmia       sp!, {r4 - r9, lr}
  0008c	e12fff1e	 bx          lr
  00090		 |$LN10@PrcmDomain@3|
  00090		 |$LN11@PrcmDomain@3|
  00090	00000000	 DCD         |s_DomainTable|
  00094		 |$M47603|

			 ENDP  ; |PrcmDomainSetPowerStateInternal|

	EXPORT	|DomainGetDeviceContextState|

  00000			 AREA	 |.pdata|, PDATA
|$T47624| DCD	|$LN10@DomainGetD|
	DCD	0x40002a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |DomainGetDeviceContextState| PROC

; 546  : {

  00000		 |$LN10@DomainGetD|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004		 |$M47621|
  00004	e1a08002	 mov         r8, r2
  00008	e1a06001	 mov         r6, r1
  0000c	e1a04000	 mov         r4, r0

; 547  :     int idx;
; 548  :     BOOL rc;
; 549  :     OMAP_PRM_REGS *pPrmRegs;
; 550  :     
; 551  :     // Get array index 
; 552  :     idx = pInfo->offset - cm_offset(CM_ICLKEN1_xxx);

  00010	e5963008	 ldr         r3, [r6, #8]

; 553  :     Lock(Mutex_Domain);

  00014	e3a00002	 mov         r0, #2
  00018	e2437010	 sub         r7, r3, #0x10
  0001c	eb000000	 bl          Lock

; 554  :     
; 555  :     // get current power state of domain
; 556  :     pPrmRegs = GetPrmRegisterSet(powerDomain);

  00020	e1a00004	 mov         r0, r4
  00024	eb000000	 bl          GetPrmRegisterSet

; 557  :     if ((INREG32(&pPrmRegs->PM_PWSTST_xxx) & POWERSTATE_MASK) == POWERSTATE_OFF)

  00028	e59030e4	 ldr         r3, [r0, #0xE4]

; 558  :         {
; 559  :         // domain is off
; 560  :         
; 561  :         // clear device context table for power domain
; 562  :         s_DomainTable[powerDomain].rgDeviceContextState[0] = 0;

  0002c	e59f0070	 ldr         r0, [pc, #0x70]
  00030	e3130003	 tst         r3, #3
  00034	e0643184	 rsb         r3, r4, r4, lsl #3
  00038	00803103	 addeq       r3, r0, r3, lsl #2
  0003c	03a02000	 moveq       r2, #0
  00040	05832010	 streq       r2, [r3, #0x10]

; 563  :         s_DomainTable[powerDomain].rgDeviceContextState[1] = 0;

  00044	05832014	 streq       r2, [r3, #0x14]

; 564  :         s_DomainTable[powerDomain].rgDeviceContextState[2] = 0;

  00048	05832018	 streq       r2, [r3, #0x18]

; 565  :         rc = 0;
; 566  :         }
; 567  :     else
; 568  :         {
; 569  :         // get device context state
; 570  :         rc = s_DomainTable[powerDomain].rgDeviceContextState[idx] & pInfo->mask;

  0004c	10833007	 addne       r3, r3, r7
  00050	10803103	 addne       r3, r0, r3, lsl #2
  00054	15932010	 ldrne       r2, [r3, #0x10]
  00058	15963004	 ldrne       r3, [r6, #4]
  0005c	03a05000	 moveq       r5, #0
  00060	10025003	 andne       r5, r2, r3

; 571  :         }
; 572  : 
; 573  :     // update device context state
; 574  :     if (bSet == TRUE)

  00064	e3580001	 cmp         r8, #1

; 575  :         {
; 576  :         s_DomainTable[powerDomain].rgDeviceContextState[idx] |= pInfo->mask;        

  00068	00643184	 rsbeq       r3, r4, r4, lsl #3
  0006c	00833007	 addeq       r3, r3, r7
  00070	00801103	 addeq       r1, r0, r3, lsl #2
  00074	05912010	 ldreq       r2, [r1, #0x10]
  00078	05963004	 ldreq       r3, [r6, #4]

; 577  :         }
; 578  :     Unlock(Mutex_Domain);

  0007c	e3a00002	 mov         r0, #2
  00080	01823003	 orreq       r3, r2, r3
  00084	05813010	 streq       r3, [r1, #0x10]
  00088	eb000000	 bl          Unlock

; 579  :     
; 580  :     return rc != 0;

  0008c	e3550000	 cmp         r5, #0
  00090	13a00001	 movne       r0, #1

; 581  : }

  00094	18bd41f0	 ldmneia     sp!, {r4 - r8, lr}

; 579  :     
; 580  :     return rc != 0;

  00098	03a00000	 moveq       r0, #0

; 581  : }

  0009c	08bd41f0	 ldmeqia     sp!, {r4 - r8, lr}
  000a0	e12fff1e	 bx          lr
  000a4		 |$LN11@DomainGetD|
  000a4		 |$LN12@DomainGetD|
  000a4	00000000	 DCD         |s_DomainTable|
  000a8		 |$M47622|

			 ENDP  ; |DomainGetDeviceContextState|

	EXPORT	|DomainInitialize|
	EXPORT	|??_C@_1DC@PHJGNBDE@?$AA?9?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CM@KJPIEGMJ@?$AA?$CL?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T47688| DCD	|$LN37@DomainInit@2|
	DCD	0x40005e01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@PHJGNBDE@?$AA?9?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "D", 0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n"
	DCB	0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, "(", 0x0, ")"
	DCB	0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@KJPIEGMJ@?$AA?$CL?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "D", 0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n"
	DCB	0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e", 0x0, "(", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |DomainInitialize| PROC

; 586  : {

  00000		 |$LN37@DomainInit@2|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004		 |$M47685|

; 587  :     UINT            i;
; 588  :     BOOL            rc = TRUE;
; 589  :     UINT            cm_clkstctrl;
; 590  :     UINT            pm_pwstctrl;
; 591  :     UINT            pm_wkdep;
; 592  :     UINT            cm_sleepdep;
; 593  :     OMAP_CM_REGS   *pCmRegs;
; 594  :     OMAP_PRM_REGS  *pPrmRegs;
; 595  :     
; 596  :     
; 597  :     OALMSG(OAL_FUNC, (L"+DomainInitialize()\r\n"));

  00004	e59f4168	 ldr         r4, [pc, #0x168]
  00008	e5943440	 ldr         r3, [r4, #0x440]
  0000c	e3130004	 tst         r3, #4
  00010	159f0158	 ldrne       r0, [pc, #0x158]
  00014	1b000000	 blne        NKDbgPrintfW

; 598  : 
; 599  :     for (i = 0; i < POWERDOMAIN_COUNT; ++i)

  00018	e59f614c	 ldr         r6, [pc, #0x14C]
  0001c	e3a07000	 mov         r7, #0
  00020		 |$LL7@DomainInit@2|

; 600  :         {        
; 601  :         pCmRegs = GetCmRegisterSet(i);

  00020	e1a00007	 mov         r0, r7
  00024	eb000000	 bl          GetCmRegisterSet
  00028	e1a05000	 mov         r5, r0

; 602  :         pPrmRegs = GetPrmRegisterSet(i);

  0002c	e1a00007	 mov         r0, r7
  00030	eb000000	 bl          GetPrmRegisterSet

; 603  : 
; 604  :         pm_wkdep = 0;
; 605  :         if (s_DomainTable[i].ffValidationMask & DOMAIN_UPDATE_WKUPDEP)

  00034	e5963004	 ldr         r3, [r6, #4]
  00038	e3a0a000	 mov         r10, #0

; 606  :             {
; 607  :             pm_wkdep = INREG32(&pPrmRegs->PM_WKDEP_xxx);
; 608  :             }
; 609  : 
; 610  :         cm_sleepdep = 0;

  0003c	e3a08000	 mov         r8, #0
  00040	e3130001	 tst         r3, #1
  00044	1590a0c8	 ldrne       r10, [r0, #0xC8]

; 611  :         if (s_DomainTable[i].ffValidationMask & DOMAIN_UPDATE_SLEEPDEP)

  00048	e3130002	 tst         r3, #2

; 612  :             {
; 613  :             cm_sleepdep = INREG32(&pCmRegs->CM_SLEEPDEP_xxx);

  0004c	15958044	 ldrne       r8, [r5, #0x44]

; 614  :             }
; 615  : 
; 616  :         pm_pwstctrl = 0;
; 617  :         cm_clkstctrl = 0;
; 618  :         if (s_DomainTable[i].ffValidationMask & DOMAIN_UPDATE_POWERSTATE)

  00050	e3130004	 tst         r3, #4
  00054	e3a09000	 mov         r9, #0

; 619  :             {
; 620  :             pm_pwstctrl = INREG32(&pPrmRegs->PM_PWSTCTRL_xxx);

  00058	159090e0	 ldrne       r9, [r0, #0xE0]

; 621  :             }
; 622  : 
; 623  :         if (s_DomainTable[i].ffValidationMask & DOMAIN_UPDATE_CLOCKSTATE)

  0005c	e3130008	 tst         r3, #8

; 624  :             {
; 625  :             cm_clkstctrl = INREG32(&pCmRegs->CM_CLKSTCTRL_xxx);
; 626  :             }
; 627  : 
; 628  :         _DomainInitialize(s_DomainTable[i].pDomainState, 
; 629  :             pm_pwstctrl, pm_wkdep, cm_sleepdep
; 630  :             );

  00060	e5943440	 ldr         r3, [r4, #0x440]
  00064	e3a0b000	 mov         r11, #0
  00068	1595b048	 ldrne       r11, [r5, #0x48]
  0006c	e5965008	 ldr         r5, [r6, #8]
  00070	e3130004	 tst         r3, #4
  00074	159f00ec	 ldrne       r0, [pc, #0xEC]
  00078	11a03008	 movne       r3, r8
  0007c	11a02009	 movne       r2, r9
  00080	11a01005	 movne       r1, r5
  00084	1b000000	 blne        NKDbgPrintfW
  00088	e3550000	 cmp         r5, #0
  0008c	12093003	 andne       r3, r9, #3
  00090	120a20ff	 andne       r2, r10, #0xFF
  00094	120810ff	 andne       r1, r8, #0xFF
  00098	15853000	 strne       r3, [r5]
  0009c	1585200c	 strne       r2, [r5, #0xC]
  000a0	15851008	 strne       r1, [r5, #8]
  000a4		 |$cleanUp$47647|
  000a4	e5943440	 ldr         r3, [r4, #0x440]
  000a8	e3130004	 tst         r3, #4
  000ac	159f00b0	 ldrne       r0, [pc, #0xB0]
  000b0	13a01001	 movne       r1, #1
  000b4	1b000000	 blne        NKDbgPrintfW
  000b8	e5943440	 ldr         r3, [r4, #0x440]

; 631  : 
; 632  :         _PrcmDomainClockInitialize(s_DomainTable[i].pClockStates, 
; 633  :             cm_clkstctrl
; 634  :             );

  000bc	e596500c	 ldr         r5, [r6, #0xC]
  000c0	e3130004	 tst         r3, #4
  000c4	159f0094	 ldrne       r0, [pc, #0x94]
  000c8	11a0200b	 movne       r2, r11
  000cc	11a01005	 movne       r1, r5
  000d0	1b000000	 blne        NKDbgPrintfW
  000d4	e3550000	 cmp         r5, #0
  000d8	0a00000d	 beq         |$cleanUp$47664|
  000dc	e5953000	 ldr         r3, [r5]
  000e0	e3a01000	 mov         r1, #0
  000e4	e3530000	 cmp         r3, #0
  000e8	9a000009	 bls         |$cleanUp$47664|
  000ec	e1a02005	 mov         r2, r5
  000f0		 |$LL23@DomainInit@2|
  000f0	e592300c	 ldr         r3, [r2, #0xC]
  000f4	e2811001	 add         r1, r1, #1
  000f8	e1a0333b	 mov         r3, r11, lsr r3
  000fc	e2033003	 and         r3, r3, #3
  00100	e5823008	 str         r3, [r2, #8]
  00104	e5953000	 ldr         r3, [r5]
  00108	e282200c	 add         r2, r2, #0xC
  0010c	e1510003	 cmp         r1, r3
  00110	3afffff6	 bcc         |$LL23@DomainInit@2|
  00114		 |$cleanUp$47664|
  00114	e5943440	 ldr         r3, [r4, #0x440]
  00118	e3130004	 tst         r3, #4
  0011c	159f0038	 ldrne       r0, [pc, #0x38]
  00120	13a01001	 movne       r1, #1
  00124	1b000000	 blne        NKDbgPrintfW
  00128	e2877001	 add         r7, r7, #1
  0012c	e357000d	 cmp         r7, #0xD
  00130	e286601c	 add         r6, r6, #0x1C
  00134	3affffb9	 bcc         |$LL7@DomainInit@2|
  00138	e5943440	 ldr         r3, [r4, #0x440]

; 635  :         }
; 636  : 
; 637  : 
; 638  :     OALMSG(OAL_FUNC, (L"-DomainInitialize()=%d\r\n", rc));

  0013c	e3130004	 tst         r3, #4
  00140	159f0010	 ldrne       r0, [pc, #0x10]
  00144	13a01001	 movne       r1, #1
  00148	1b000000	 blne        NKDbgPrintfW

; 639  :     return rc;    

  0014c	e3a00001	 mov         r0, #1

; 640  : }

  00150	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  00154	e12fff1e	 bx          lr
  00158		 |$LN38@DomainInit@2|
  00158		 |$LN39@DomainInit@2|
  00158	00000000	 DCD         |??_C@_1DC@PHJGNBDE@?$AA?9?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  0015c		 |$LN40@DomainInit@2|
  0015c	00000000	 DCD         |??_C@_1EG@MJBAHCAP@?$AA?9?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd@|
  00160		 |$LN41@DomainInit@2|
  00160	00000000	 DCD         |??_C@_1IO@GHDCOMKL@?$AA?$CL?$AA_?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAC?$AAl?$AAo?$AAc?$AAk?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAC?$AAl?$AAo@|
  00164		 |$LN42@DomainInit@2|
  00164	00000000	 DCD         |??_C@_1DE@IEBANBBC@?$AA?9?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00168		 |$LN43@DomainInit@2|
  00168	00000000	 DCD         |??_C@_1LI@HACPIACF@?$AA?$CL?$AA_?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AAp?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AA?$DN?$AA0?$AAx?$AA?$CF?$AA0?$AA8@|
  0016c		 |$LN44@DomainInit@2|
  0016c	00000000	 DCD         |s_DomainTable|
  00170		 |$LN45@DomainInit@2|
  00170	00000000	 DCD         |??_C@_1CM@KJPIEGMJ@?$AA?$CL?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?$CI?$AA?$CJ?$AA?$AN?$AA?6?$AA?$AA@|
  00174		 |$LN46@DomainInit@2|
  00174	00000000	 DCD         |dpCurSettings|
  00178		 |$M47686|

			 ENDP  ; |DomainInitialize|

	EXPORT	|PrcmRestoreDomain|

  00000			 AREA	 |.pdata|, PDATA
|$T47714| DCD	|$LN11@PrcmRestor|
	DCD	0x40002201
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmRestoreDomain| PROC

; 650  : {

  00000		 |$LN11@PrcmRestor|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M47711|
  00004	e1a04000	 mov         r4, r0

; 651  :     UINT i;
; 652  :     BOOL rc = TRUE;
; 653  :     UINT cm_sleepdep;
; 654  :     UINT cm_clkstctrl;   
; 655  :     OMAP_CM_REGS   *pCmRegs;
; 656  :     OMAP_PRM_REGS  *pPrmRegs;
; 657  :     ClockDomainInfo_t  *pClockStates;    
; 658  :     PowerDomainState_t *pDomainState;
; 659  :     
; 660  :     // initialize variables
; 661  :     pCmRegs = GetCmRegisterSet(powerDomain);

  00008	eb000000	 bl          GetCmRegisterSet
  0000c	e1a06000	 mov         r6, r0

; 662  :     pPrmRegs = GetPrmRegisterSet(powerDomain);

  00010	e1a00004	 mov         r0, r4
  00014	eb000000	 bl          GetPrmRegisterSet

; 663  :     pClockStates = s_DomainTable[powerDomain].pClockStates;

  00018	e59f2064	 ldr         r2, [pc, #0x64]
  0001c	e0643184	 rsb         r3, r4, r4, lsl #3

; 664  :     pDomainState = s_DomainTable[powerDomain].pDomainState;
; 665  :         
; 666  :     // restore clk src dividers
; 667  :     _DomainClockRestore(powerDomain);

  00020	e1a00004	 mov         r0, r4
  00024	e0824103	 add         r4, r2, r3, lsl #2
  00028	e594500c	 ldr         r5, [r4, #0xC]
  0002c	e5947008	 ldr         r7, [r4, #8]
  00030	eb000000	 bl          _DomainClockRestore

; 668  : 
; 669  :     if (s_DomainTable[powerDomain].ffValidationMask & DOMAIN_UPDATE_SLEEPDEP)

  00034	e5943004	 ldr         r3, [r4, #4]

; 670  :         {
; 671  :         // restore sleep dependencies
; 672  :         cm_sleepdep = INREG32(&pCmRegs->CM_SLEEPDEP_xxx) & ~SLEEPDEP_MASK;
; 673  :         cm_sleepdep |= pDomainState->sleepDependency << SLEEPDEP_SHIFT;
; 674  :         OUTREG32(&pCmRegs->CM_SLEEPDEP_xxx, cm_sleepdep);
; 675  :         }
; 676  : 
; 677  :     // restore clock state
; 678  :     cm_clkstctrl = 0;
; 679  :     for (i = 0; i < pClockStates->count; ++i)

  00038	e3a01000	 mov         r1, #0
  0003c	e3130002	 tst         r3, #2
  00040	15963044	 ldrne       r3, [r6, #0x44]
  00044	15972008	 ldrne       r2, [r7, #8]
  00048	13c330ff	 bicne       r3, r3, #0xFF
  0004c	11823003	 orrne       r3, r2, r3
  00050	15863044	 strne       r3, [r6, #0x44]
  00054	e5953000	 ldr         r3, [r5]
  00058	e1b00003	 movs        r0, r3
  0005c	0a000004	 beq         |$LN1@PrcmRestor|
  00060		 |$LL3@PrcmRestor|

; 680  :         {
; 681  :         cm_clkstctrl |= (pClockStates->rgClockDomains[i].clockState << pClockStates->rgClockDomains[i].clockShift) << CLKSTCTRL_SHIFT;

  00060	e5952008	 ldr         r2, [r5, #8]
  00064	e5b5300c	 ldr         r3, [r5, #0xC]!
  00068	e2500001	 subs        r0, r0, #1
  0006c	e1811312	 orr         r1, r1, r2, lsl r3
  00070	1afffffa	 bne         |$LL3@PrcmRestor|
  00074		 |$LN1@PrcmRestor|

; 682  :         }
; 683  :     OUTREG32(&pCmRegs->CM_CLKSTCTRL_xxx, cm_clkstctrl);

  00074	e5861048	 str         r1, [r6, #0x48]

; 684  : 
; 685  :     return rc;

  00078	e3a00001	 mov         r0, #1

; 686  : }

  0007c	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00080	e12fff1e	 bx          lr
  00084		 |$LN12@PrcmRestor|
  00084		 |$LN13@PrcmRestor|
  00084	00000000	 DCD         |s_DomainTable|
  00088		 |$M47712|

			 ENDP  ; |PrcmRestoreDomain|

	EXPORT	|PrcmDomainSetWakeupDependency|
	EXPORT	|??_C@_1EM@KMAAEICN@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAW?$AAa?$AAk?$AAe?$AAu?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AA?$CJ@| [ DATA ] ; `string'
	EXPORT	|??_C@_1KE@GFMBGEDA@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAW?$AAa?$AAk?$AAe?$AAu?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AAp@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T47737| DCD	|$LN18@PrcmDomain@4|
	DCD	0x40003a01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EM@KMAAEICN@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAW?$AAa?$AAk?$AAe?$AAu?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AA?$CJ@| DCB "-"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "W", 0x0, "a", 0x0, "k", 0x0, "e", 0x0, "u"
	DCB	0x0, "p", 0x0, "D", 0x0, "e", 0x0, "p", 0x0, "e", 0x0, "n"
	DCB	0x0, "d", 0x0, "e", 0x0, "n", 0x0, "c", 0x0, "y", 0x0, "("
	DCB	0x0, ")", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KE@GFMBGEDA@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAW?$AAa?$AAk?$AAe?$AAu?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AAp@| DCB "+"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "W", 0x0, "a", 0x0, "k", 0x0, "e", 0x0, "u"
	DCB	0x0, "p", 0x0, "D", 0x0, "e", 0x0, "p", 0x0, "e", 0x0, "n"
	DCB	0x0, "d", 0x0, "e", 0x0, "n", 0x0, "c", 0x0, "y", 0x0, "("
	DCB	0x0, "p", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "D"
	DCB	0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "="
	DCB	0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "f", 0x0, "f"
	DCB	0x0, "D", 0x0, "e", 0x0, "p", 0x0, "e", 0x0, "n", 0x0, "d"
	DCB	0x0, "e", 0x0, "n", 0x0, "c", 0x0, "y", 0x0, "=", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "X", 0x0, ","
	DCB	0x0, " ", 0x0, "b", 0x0, "E", 0x0, "n", 0x0, "a", 0x0, "b"
	DCB	0x0, "l", 0x0, "e", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetWakeupDependency| PROC

; 695  : {

  00000		 |$LN18@PrcmDomain@4|
  00000	e92d47f0	 stmdb       sp!, {r4 - r10, lr}
  00004		 |$M47734|
  00004	e1a08002	 mov         r8, r2
  00008	e1a09001	 mov         r9, r1
  0000c	e1a06000	 mov         r6, r0

; 696  :     BOOL rc = FALSE;
; 697  :     PowerDomainState_t *pDomainState;
; 698  :     if (!g_bSingleThreaded)

  00010	e59fa0cc	 ldr         r10, [pc, #0xCC]
  00014	e59f70c4	 ldr         r7, [pc, #0xC4]
  00018	e3a05000	 mov         r5, #0
  0001c	e59a3000	 ldr         r3, [r10]
  00020	e3530000	 cmp         r3, #0
  00024	1a000006	 bne         |$LN14@PrcmDomain@4|

; 699  :         OALMSG(OAL_FUNC, (L"+PrcmDomainSetWakeupDependency"
; 700  :             L"(powerDomain=%d, ffDependency=0x%08X, bEnable=%d)\r\n", 
; 701  :             powerDomain, ffDependency, bEnable));

  00028	e5973440	 ldr         r3, [r7, #0x440]
  0002c	e3130004	 tst         r3, #4
  00030	159f00a4	 ldrne       r0, [pc, #0xA4]
  00034	11a03008	 movne       r3, r8
  00038	11a02009	 movne       r2, r9
  0003c	11a01006	 movne       r1, r6
  00040	1b000000	 blne        NKDbgPrintfW
  00044		 |$LN14@PrcmDomain@4|

; 702  :     
; 703  :     if (powerDomain >= POWERDOMAIN_COUNT) goto cleanUp;

  00044	e356000d	 cmp         r6, #0xD
  00048	2a000016	 bcs         |$cleanUp$47158|

; 704  :     if ((s_DomainTable[powerDomain].ffValidationMask & DOMAIN_UPDATE_WKUPDEP) == 0) goto cleanUp;

  0004c	e59f2084	 ldr         r2, [pc, #0x84]
  00050	e0663186	 rsb         r3, r6, r6, lsl #3
  00054	e0822103	 add         r2, r2, r3, lsl #2
  00058	e5923004	 ldr         r3, [r2, #4]
  0005c	e3130001	 tst         r3, #1
  00060	0a000010	 beq         |$cleanUp$47158|

; 705  : 
; 706  :     // update internal state information 
; 707  :     pDomainState = s_DomainTable[powerDomain].pDomainState;

  00064	e5923008	 ldr         r3, [r2, #8]
  00068	e1b04003	 movs        r4, r3

; 708  :     if (pDomainState == NULL) goto cleanUp;

  0006c	0a00000d	 beq         |$cleanUp$47158|

; 709  : 
; 710  :     Lock(Mutex_Domain);

  00070	e3a00002	 mov         r0, #2
  00074	eb000000	 bl          Lock

; 711  :     ffDependency &= WKDEP_MASK;
; 712  :     ffDependency >>= WKDEP_SHIFT;
; 713  :     if (bEnable != FALSE)
; 714  :         {
; 715  :         pDomainState->wakeDependency |= ffDependency; 

  00078	e594300c	 ldr         r3, [r4, #0xC]
  0007c	e20920ff	 and         r2, r9, #0xFF
  00080	e3580000	 cmp         r8, #0
  00084	11833002	 orrne       r3, r3, r2

; 716  :         }
; 717  :     else
; 718  :         {
; 719  :         pDomainState->wakeDependency &= ~ffDependency; 

  00088	01c33002	 biceq       r3, r3, r2

; 720  :         }
; 721  : 
; 722  :     rc = _PrcmDomainHwUpdate(powerDomain, DOMAIN_UPDATE_WKUPDEP);

  0008c	e3a01001	 mov         r1, #1
  00090	e1a00006	 mov         r0, r6
  00094	e584300c	 str         r3, [r4, #0xC]
  00098	eb000000	 bl          _PrcmDomainHwUpdate
  0009c	e1a05000	 mov         r5, r0

; 723  :     Unlock(Mutex_Domain);

  000a0	e3a00002	 mov         r0, #2
  000a4	eb000000	 bl          Unlock
  000a8		 |$cleanUp$47158|
  000a8	e59a3000	 ldr         r3, [r10]

; 724  :     
; 725  : cleanUp:        
; 726  :     if (!g_bSingleThreaded)

  000ac	e3530000	 cmp         r3, #0
  000b0	1a000004	 bne         |$LN12@PrcmDomain@4|
  000b4	e5973440	 ldr         r3, [r7, #0x440]

; 727  :         OALMSG(OAL_FUNC, (L"-PrcmDomainSetWakeupDependency()=%d\r\n", rc));

  000b8	e3130004	 tst         r3, #4
  000bc	159f0010	 ldrne       r0, [pc, #0x10]
  000c0	11a01005	 movne       r1, r5
  000c4	1b000000	 blne        NKDbgPrintfW
  000c8		 |$LN12@PrcmDomain@4|

; 728  :     return rc;
; 729  : }

  000c8	e1a00005	 mov         r0, r5
  000cc	e8bd47f0	 ldmia       sp!, {r4 - r10, lr}
  000d0	e12fff1e	 bx          lr
  000d4		 |$LN19@PrcmDomain@4|
  000d4		 |$LN20@PrcmDomain@4|
  000d4	00000000	 DCD         |??_C@_1EM@KMAAEICN@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAW?$AAa?$AAk?$AAe?$AAu?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AA?$CJ@|
  000d8		 |$LN21@PrcmDomain@4|
  000d8	00000000	 DCD         |s_DomainTable|
  000dc		 |$LN22@PrcmDomain@4|
  000dc	00000000	 DCD         |??_C@_1KE@GFMBGEDA@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAW?$AAa?$AAk?$AAe?$AAu?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AAp@|
  000e0		 |$LN23@PrcmDomain@4|
  000e0	00000000	 DCD         |dpCurSettings|
  000e4		 |$LN24@PrcmDomain@4|
  000e4	00000000	 DCD         |g_bSingleThreaded|
  000e8		 |$M47735|

			 ENDP  ; |PrcmDomainSetWakeupDependency|

	EXPORT	|PrcmDomainSetSleepDependency|
	EXPORT	|??_C@_1EK@HCAJMEHB@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAS?$AAl?$AAe?$AAe?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AA?$CJ?$AA?$DN@| [ DATA ] ; `string'
	EXPORT	|??_C@_1KC@MCEKLACC@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAS?$AAl?$AAe?$AAe?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AAp?$AAo@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T47763| DCD	|$LN15@PrcmDomain@5|
	DCD	0x40003201

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@HCAJMEHB@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAS?$AAl?$AAe?$AAe?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AA?$CJ?$AA?$DN@| DCB "-"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "S", 0x0, "l", 0x0, "e", 0x0, "e", 0x0, "p"
	DCB	0x0, "D", 0x0, "e", 0x0, "p", 0x0, "e", 0x0, "n", 0x0, "d"
	DCB	0x0, "e", 0x0, "n", 0x0, "c", 0x0, "y", 0x0, "(", 0x0, ")"
	DCB	0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KC@MCEKLACC@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAS?$AAl?$AAe?$AAe?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AAp?$AAo@| DCB "+"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "S", 0x0, "l", 0x0, "e", 0x0, "e", 0x0, "p"
	DCB	0x0, "D", 0x0, "e", 0x0, "p", 0x0, "e", 0x0, "n", 0x0, "d"
	DCB	0x0, "e", 0x0, "n", 0x0, "c", 0x0, "y", 0x0, "(", 0x0, "p"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "=", 0x0, "%"
	DCB	0x0, "d", 0x0, ",", 0x0, " ", 0x0, "f", 0x0, "f", 0x0, "D"
	DCB	0x0, "e", 0x0, "p", 0x0, "e", 0x0, "n", 0x0, "d", 0x0, "e"
	DCB	0x0, "n", 0x0, "c", 0x0, "y", 0x0, "=", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "X", 0x0, ",", 0x0, " "
	DCB	0x0, "b", 0x0, "E", 0x0, "n", 0x0, "a", 0x0, "b", 0x0, "l"
	DCB	0x0, "e", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetSleepDependency| PROC

; 738  : {

  00000		 |$LN15@PrcmDomain@5|
  00000	e92d43f0	 stmdb       sp!, {r4 - r9, lr}
  00004		 |$M47760|
  00004	e1a07002	 mov         r7, r2
  00008	e1a08001	 mov         r8, r1
  0000c	e1a06000	 mov         r6, r0

; 739  :     BOOL rc = FALSE;
; 740  :     PowerDomainState_t *pDomainState;
; 741  :     OALMSG(OAL_FUNC, (L"+PrcmDomainSetSleepDependency"
; 742  :         L"(powerDomain=%d, ffDependency=0x%08X, bEnable=%d)\r\n", 
; 743  :         powerDomain, ffDependency, bEnable));

  00010	e59f90ac	 ldr         r9, [pc, #0xAC]
  00014	e3a05000	 mov         r5, #0
  00018	e5993440	 ldr         r3, [r9, #0x440]
  0001c	e3130004	 tst         r3, #4
  00020	159f0098	 ldrne       r0, [pc, #0x98]
  00024	11a03007	 movne       r3, r7
  00028	11a02008	 movne       r2, r8
  0002c	11a01006	 movne       r1, r6
  00030	1b000000	 blne        NKDbgPrintfW

; 744  :     
; 745  :     if (powerDomain >= POWERDOMAIN_COUNT) goto cleanUp;

  00034	e356000d	 cmp         r6, #0xD
  00038	2a000016	 bcs         |$cleanUp$47179|

; 746  :     if ((s_DomainTable[powerDomain].ffValidationMask & DOMAIN_UPDATE_SLEEPDEP) == 0) goto cleanUp;

  0003c	e59fe078	 ldr         lr, [pc, #0x78]
  00040	e0663186	 rsb         r3, r6, r6, lsl #3
  00044	e08e0103	 add         r0, lr, r3, lsl #2
  00048	e5903004	 ldr         r3, [r0, #4]
  0004c	e3130002	 tst         r3, #2
  00050	0a000010	 beq         |$cleanUp$47179|

; 747  : 
; 748  :     // update internal state information 
; 749  :     pDomainState = s_DomainTable[powerDomain].pDomainState;

  00054	e5903008	 ldr         r3, [r0, #8]
  00058	e1b04003	 movs        r4, r3

; 750  :     if (pDomainState == NULL) goto cleanUp;

  0005c	0a00000d	 beq         |$cleanUp$47179|

; 751  :     
; 752  :     Lock(Mutex_Domain);

  00060	e3a00002	 mov         r0, #2
  00064	eb000000	 bl          Lock

; 753  :     ffDependency &= SLEEPDEP_MASK;
; 754  :     ffDependency >>= SLEEPDEP_SHIFT;
; 755  :     if (bEnable != FALSE)
; 756  :         {
; 757  :         pDomainState->sleepDependency |= ffDependency; 

  00068	e5943008	 ldr         r3, [r4, #8]
  0006c	e20820ff	 and         r2, r8, #0xFF
  00070	e3570000	 cmp         r7, #0
  00074	11833002	 orrne       r3, r3, r2

; 758  :         }
; 759  :     else
; 760  :         {
; 761  :         pDomainState->sleepDependency &= ~ffDependency; 

  00078	01c33002	 biceq       r3, r3, r2

; 762  :         }
; 763  : 
; 764  :     rc = _PrcmDomainHwUpdate(powerDomain, DOMAIN_UPDATE_SLEEPDEP);

  0007c	e3a01002	 mov         r1, #2
  00080	e1a00006	 mov         r0, r6
  00084	e5843008	 str         r3, [r4, #8]
  00088	eb000000	 bl          _PrcmDomainHwUpdate
  0008c	e1a05000	 mov         r5, r0

; 765  :     Unlock(Mutex_Domain);

  00090	e3a00002	 mov         r0, #2
  00094	eb000000	 bl          Unlock
  00098		 |$cleanUp$47179|
  00098	e5993440	 ldr         r3, [r9, #0x440]

; 766  :     
; 767  : cleanUp:        
; 768  :     OALMSG(OAL_FUNC, (L"-PrcmDomainSetSleepDependency()=%d\r\n", rc));

  0009c	e3130004	 tst         r3, #4
  000a0	159f0010	 ldrne       r0, [pc, #0x10]
  000a4	11a01005	 movne       r1, r5
  000a8	1b000000	 blne        NKDbgPrintfW

; 769  :     return rc;
; 770  : }

  000ac	e1a00005	 mov         r0, r5
  000b0	e8bd43f0	 ldmia       sp!, {r4 - r9, lr}
  000b4	e12fff1e	 bx          lr
  000b8		 |$LN16@PrcmDomain@5|
  000b8		 |$LN17@PrcmDomain@5|
  000b8	00000000	 DCD         |??_C@_1EK@HCAJMEHB@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAS?$AAl?$AAe?$AAe?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AA?$CJ?$AA?$DN@|
  000bc		 |$LN18@PrcmDomain@5|
  000bc	00000000	 DCD         |s_DomainTable|
  000c0		 |$LN19@PrcmDomain@5|
  000c0	00000000	 DCD         |??_C@_1KC@MCEKLACC@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAS?$AAl?$AAe?$AAe?$AAp?$AAD?$AAe?$AAp?$AAe?$AAn?$AAd?$AAe?$AAn?$AAc?$AAy?$AA?$CI?$AAp?$AAo@|
  000c4		 |$LN20@PrcmDomain@5|
  000c4	00000000	 DCD         |dpCurSettings|
  000c8		 |$M47761|

			 ENDP  ; |PrcmDomainSetSleepDependency|

	EXPORT	|PrcmDomainSetPowerState|
	EXPORT	|??_C@_1EA@IIPEHBKG@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HM@KLIMMIKC@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD?$AAo@| [ DATA ] ; `string'
	IMPORT	|OALGetTickCount|

  00000			 AREA	 |.pdata|, PDATA
|$T47792| DCD	|$LN15@PrcmDomain@6|
	DCD	0x40004301

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@IIPEHBKG@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "+"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r"
	DCB	0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "("
	DCB	0x0, ")", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HM@KLIMMIKC@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD?$AAo@| DCB "+"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r"
	DCB	0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "("
	DCB	0x0, "p", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "D"
	DCB	0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "="
	DCB	0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "p", 0x0, "o"
	DCB	0x0, "w", 0x0, "e", 0x0, "r", 0x0, "S", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, "=", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "X", 0x0, ")", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetPowerState| PROC

; 779  : {

  00000		 |$LN15@PrcmDomain@6|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004		 |$M47789|
  00004	e1a05002	 mov         r5, r2
  00008	e1a04001	 mov         r4, r1
  0000c	e1a07000	 mov         r7, r0

; 780  :     BOOL rc;
; 781  :     UINT temp;
; 782  :     UINT clockState = CLKSTCTRL_DISABLED;
; 783  :     UINT oldPowerState = (UINT)-1;
; 784  :     OMAP_CM_REGS *pCmRegs;
; 785  :     
; 786  :     OALMSG(OAL_FUNC, (L"+PrcmDomainSetPowerState"
; 787  :         L"(powerDomain=%d, powerState=0x%08X)\r\n", 
; 788  :         powerDomain, powerState));

  00010	e59fb0f0	 ldr         r11, [pc, #0xF0]
  00014	e3a08000	 mov         r8, #0
  00018	e3e06000	 mvn         r6, #0
  0001c	e59b3440	 ldr         r3, [r11, #0x440]
  00020	e3130004	 tst         r3, #4
  00024	159f00d8	 ldrne       r0, [pc, #0xD8]
  00028	11a02004	 movne       r2, r4
  0002c	11a01007	 movne       r1, r7
  00030	1b000000	 blne        NKDbgPrintfW

; 789  :     
; 790  :     // get old power states to check if power domain needs a sw wakeup
; 791  :     if (s_DomainTable[powerDomain].pClockStates != NULL)

  00034	e59f90c4	 ldr         r9, [pc, #0xC4]
  00038	e067a187	 rsb         r10, r7, r7, lsl #3

; 792  :         {
; 793  :         clockState = s_DomainTable[powerDomain].pClockStates->rgClockDomains[0].clockState;
; 794  :         }
; 795  : 
; 796  :     if (s_DomainTable[powerDomain].pDomainState != NULL)
; 797  :         {
; 798  :         oldPowerState = s_DomainTable[powerDomain].pDomainState->powerState;
; 799  :         }
; 800  :     
; 801  :     rc = PrcmDomainSetPowerStateInternal(powerDomain, powerState, logicState, TRUE);

  0003c	e1a02005	 mov         r2, r5
  00040	e089110a	 add         r1, r9, r10, lsl #2
  00044	e591300c	 ldr         r3, [r1, #0xC]
  00048	e1a00007	 mov         r0, r7
  0004c	e3530000	 cmp         r3, #0
  00050	15938008	 ldrne       r8, [r3, #8]
  00054	e5913008	 ldr         r3, [r1, #8]
  00058	e1a01004	 mov         r1, r4
  0005c	e3530000	 cmp         r3, #0
  00060	15936000	 ldrne       r6, [r3]
  00064	e3a03001	 mov         r3, #1
  00068	eb000000	 bl          PrcmDomainSetPowerStateInternal
  0006c	e1a05000	 mov         r5, r0

; 802  :     
; 803  :     // force a sleep to sleep transition through software since it
; 804  :     // isn't supported in hardware
; 805  :     if (oldPowerState != -1 && clockState == CLKSTCTRL_AUTOMATIC &&        
; 806  :         s_DomainTable[powerDomain].refCount == 0 && oldPowerState != powerState)

  00070	e3760001	 cmn         r6, #1
  00074	0a000018	 beq         |$LN3@PrcmDomain@6|
  00078	e3580003	 cmp         r8, #3
  0007c	1a000016	 bne         |$LN3@PrcmDomain@6|
  00080	e799310a	 ldr         r3, [r9, +r10, lsl #2]
  00084	e3530000	 cmp         r3, #0
  00088	1a000013	 bne         |$LN3@PrcmDomain@6|
  0008c	e1560004	 cmp         r6, r4
  00090	0a000011	 beq         |$LN3@PrcmDomain@6|

; 807  :         {        
; 808  :         pCmRegs = GetCmRegisterSet(powerDomain);

  00094	e1a00007	 mov         r0, r7
  00098	eb000000	 bl          GetCmRegisterSet
  0009c	e1a04000	 mov         r4, r0

; 809  :     
; 810  :         // force sw wake-up of power domain
; 811  :         temp = INREG32(&pCmRegs->CM_CLKSTCTRL_xxx);

  000a0	e5943048	 ldr         r3, [r4, #0x48]

; 812  :         temp &= ~CLKSTCTRL_MASK;
; 813  :         temp |= CLKSTCTRL_WAKEUP;

  000a4	e3c33003	 bic         r3, r3, #3
  000a8	e3833002	 orr         r3, r3, #2

; 814  :         OUTREG32(&pCmRegs->CM_CLKSTCTRL_xxx, temp);

  000ac	e5843048	 str         r3, [r4, #0x48]

; 815  : 
; 816  :         // wait for clock to be activated
; 817  :         temp = OALGetTickCount() + 1;

  000b0	eb000000	 bl          OALGetTickCount
  000b4	e2806001	 add         r6, r0, #1
  000b8		 |$LL2@PrcmDomain@6|

; 818  :         while (INREG32(&pCmRegs->CM_CLKSTST_xxx) == 0 && temp > OALGetTickCount());

  000b8	e594304c	 ldr         r3, [r4, #0x4C]
  000bc	e3530000	 cmp         r3, #0
  000c0	1a000002	 bne         |$LN1@PrcmDomain@6|
  000c4	eb000000	 bl          OALGetTickCount
  000c8	e1560000	 cmp         r6, r0
  000cc	8afffff9	 bhi         |$LL2@PrcmDomain@6|
  000d0		 |$LN1@PrcmDomain@6|

; 819  : 
; 820  :         // put clock back to automatic mode
; 821  :         temp = INREG32(&pCmRegs->CM_CLKSTCTRL_xxx);

  000d0	e5943048	 ldr         r3, [r4, #0x48]

; 822  :         temp &= ~CLKSTCTRL_MASK;
; 823  :         temp |= CLKSTCTRL_AUTOMATIC;

  000d4	e3833003	 orr         r3, r3, #3

; 824  :         OUTREG32(&pCmRegs->CM_CLKSTCTRL_xxx, temp);

  000d8	e5843048	 str         r3, [r4, #0x48]
  000dc		 |$LN3@PrcmDomain@6|

; 825  :         }
; 826  :     
; 827  :     OALMSG(OAL_FUNC, (L"+PrcmDomainSetPowerState()=%d\r\n", rc));

  000dc	e59b3440	 ldr         r3, [r11, #0x440]
  000e0	e3130004	 tst         r3, #4
  000e4	159f0010	 ldrne       r0, [pc, #0x10]
  000e8	11a01005	 movne       r1, r5
  000ec	1b000000	 blne        NKDbgPrintfW

; 828  :     return rc;
; 829  : }

  000f0	e1a00005	 mov         r0, r5
  000f4	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  000f8	e12fff1e	 bx          lr
  000fc		 |$LN16@PrcmDomain@6|
  000fc		 |$LN17@PrcmDomain@6|
  000fc	00000000	 DCD         |??_C@_1EA@IIPEHBKG@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00100		 |$LN18@PrcmDomain@6|
  00100	00000000	 DCD         |s_DomainTable|
  00104		 |$LN19@PrcmDomain@6|
  00104	00000000	 DCD         |??_C@_1HM@KLIMMIKC@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD?$AAo@|
  00108		 |$LN20@PrcmDomain@6|
  00108	00000000	 DCD         |dpCurSettings|
  0010c		 |$M47790|

			 ENDP  ; |PrcmDomainSetPowerState|

	EXPORT	|PrcmDomainSetClockState|
	EXPORT	|??_C@_1EA@JEMFKOAK@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAC?$AAl?$AAo?$AAc?$AAk?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1JM@MEHAOEAE@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAC?$AAl?$AAo?$AAc?$AAk?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD?$AAo@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T47820| DCD	|$LN22@PrcmDomain@7|
	DCD	0x40004501

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@JEMFKOAK@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAC?$AAl?$AAo?$AAc?$AAk?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "C", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "k"
	DCB	0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "("
	DCB	0x0, ")", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JM@MEHAOEAE@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAC?$AAl?$AAo?$AAc?$AAk?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD?$AAo@| DCB "+"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "C", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "k"
	DCB	0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "("
	DCB	0x0, "p", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "D"
	DCB	0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "="
	DCB	0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "c", 0x0, "l"
	DCB	0x0, "o", 0x0, "c", 0x0, "k", 0x0, "D", 0x0, "o", 0x0, "m"
	DCB	0x0, "a", 0x0, "i", 0x0, "n", 0x0, "=", 0x0, "%", 0x0, "d"
	DCB	0x0, ",", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "o", 0x0, "c"
	DCB	0x0, "k", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "=", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "X", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetClockState| PROC

; 838  : {

  00000		 |$LN22@PrcmDomain@7|
  00000	e92d47f0	 stmdb       sp!, {r4 - r10, lr}
  00004		 |$M47817|
  00004	e1a0a002	 mov         r10, r2
  00008	e1a09001	 mov         r9, r1
  0000c	e1a06000	 mov         r6, r0

; 839  :     UINT i;
; 840  :     BOOL rc = FALSE;
; 841  :     ClockDomainInfo_t *pClockStates;
; 842  :     if (!g_bSingleThreaded)

  00010	e59f80f8	 ldr         r8, [pc, #0xF8]
  00014	e59f70f0	 ldr         r7, [pc, #0xF0]
  00018	e3a04000	 mov         r4, #0
  0001c	e5983000	 ldr         r3, [r8]
  00020	e3530000	 cmp         r3, #0
  00024	1a000006	 bne         |$LN19@PrcmDomain@7|

; 843  :         OALMSG(OAL_FUNC, (L"+PrcmDomainSetClockState"
; 844  :             L"(powerDomain=%d, clockDomain=%d, clockState=0x%08X)\r\n", 
; 845  :             powerDomain, clockDomain, clockState));

  00028	e5973440	 ldr         r3, [r7, #0x440]
  0002c	e3130004	 tst         r3, #4
  00030	159f00d0	 ldrne       r0, [pc, #0xD0]
  00034	11a0300a	 movne       r3, r10
  00038	11a02009	 movne       r2, r9
  0003c	11a01006	 movne       r1, r6
  00040	1b000000	 blne        NKDbgPrintfW
  00044		 |$LN19@PrcmDomain@7|

; 846  : 
; 847  :     if (powerDomain >= POWERDOMAIN_COUNT) goto cleanUp;

  00044	e356000d	 cmp         r6, #0xD
  00048	2a000021	 bcs         |$cleanUp$47233|

; 848  :     if ((s_DomainTable[powerDomain].ffValidationMask & DOMAIN_UPDATE_CLOCKSTATE) == 0) goto cleanUp;

  0004c	e59f20b0	 ldr         r2, [pc, #0xB0]
  00050	e0663186	 rsb         r3, r6, r6, lsl #3
  00054	e0822103	 add         r2, r2, r3, lsl #2
  00058	e5923004	 ldr         r3, [r2, #4]
  0005c	e3130008	 tst         r3, #8
  00060	0a00001b	 beq         |$cleanUp$47233|

; 849  : 
; 850  :     // update internal state information 
; 851  :     pClockStates = s_DomainTable[powerDomain].pClockStates;

  00064	e592300c	 ldr         r3, [r2, #0xC]
  00068	e1b05003	 movs        r5, r3

; 852  :     if (pClockStates == NULL) goto cleanUp;

  0006c	0a000018	 beq         |$cleanUp$47233|

; 853  : 
; 854  :     Lock(Mutex_Domain);

  00070	e3a00002	 mov         r0, #2
  00074	eb000000	 bl          Lock

; 855  :     for (i = 0; i < pClockStates->count; ++i)

  00078	e5953000	 ldr         r3, [r5]
  0007c	e3a01000	 mov         r1, #0
  00080	e1b00003	 movs        r0, r3
  00084	0a00000f	 beq         |$LN3@PrcmDomain@7|

; 853  : 
; 854  :     Lock(Mutex_Domain);

  00088	e1a02005	 mov         r2, r5
  0008c		 |$LL5@PrcmDomain@7|

; 856  :         {
; 857  :         if (pClockStates->rgClockDomains[i].clockDomain == (ClockDomain_e) clockDomain)

  0008c	e5923004	 ldr         r3, [r2, #4]
  00090	e1530009	 cmp         r3, r9
  00094	0a000004	 beq         |$LN17@PrcmDomain@7|
  00098	e2811001	 add         r1, r1, #1
  0009c	e1510000	 cmp         r1, r0
  000a0	e282200c	 add         r2, r2, #0xC
  000a4	3afffff8	 bcc         |$LL5@PrcmDomain@7|
  000a8	ea000006	 b           |$LN3@PrcmDomain@7|
  000ac		 |$LN17@PrcmDomain@7|

; 858  :             {
; 859  :             clockState &= CLKSTCTRL_MASK;
; 860  :             clockState >>= CLKSTCTRL_SHIFT;
; 861  :             pClockStates->rgClockDomains[i].clockState = clockState;

  000ac	e0813081	 add         r3, r1, r1, lsl #1
  000b0	e0852103	 add         r2, r5, r3, lsl #2
  000b4	e20a3003	 and         r3, r10, #3

; 862  :             _PrcmDomainHwUpdate(powerDomain, DOMAIN_UPDATE_CLOCKSTATE);

  000b8	e3a01008	 mov         r1, #8
  000bc	e1a00006	 mov         r0, r6
  000c0	e5823008	 str         r3, [r2, #8]
  000c4	eb000000	 bl          _PrcmDomainHwUpdate
  000c8		 |$LN3@PrcmDomain@7|

; 863  :             break;
; 864  :             }
; 865  :         }    
; 866  :     Unlock(Mutex_Domain);

  000c8	e3a00002	 mov         r0, #2
  000cc	eb000000	 bl          Unlock

; 867  :     rc = TRUE;

  000d0	e3a04001	 mov         r4, #1
  000d4		 |$cleanUp$47233|
  000d4	e5983000	 ldr         r3, [r8]

; 868  :     
; 869  : cleanUp:        
; 870  :     if (!g_bSingleThreaded)

  000d8	e3530000	 cmp         r3, #0
  000dc	1a000004	 bne         |$LN14@PrcmDomain@7|
  000e0	e5973440	 ldr         r3, [r7, #0x440]

; 871  :         OALMSG(OAL_FUNC, (L"-PrcmDomainSetClockState()=%d\r\n", rc));

  000e4	e3130004	 tst         r3, #4
  000e8	159f0010	 ldrne       r0, [pc, #0x10]
  000ec	11a01004	 movne       r1, r4
  000f0	1b000000	 blne        NKDbgPrintfW
  000f4		 |$LN14@PrcmDomain@7|

; 872  :     return rc;
; 873  : }

  000f4	e1a00004	 mov         r0, r4
  000f8	e8bd47f0	 ldmia       sp!, {r4 - r10, lr}
  000fc	e12fff1e	 bx          lr
  00100		 |$LN23@PrcmDomain@7|
  00100		 |$LN24@PrcmDomain@7|
  00100	00000000	 DCD         |??_C@_1EA@JEMFKOAK@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAC?$AAl?$AAo?$AAc?$AAk?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  00104		 |$LN25@PrcmDomain@7|
  00104	00000000	 DCD         |s_DomainTable|
  00108		 |$LN26@PrcmDomain@7|
  00108	00000000	 DCD         |??_C@_1JM@MEHAOEAE@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAC?$AAl?$AAo?$AAc?$AAk?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD?$AAo@|
  0010c		 |$LN27@PrcmDomain@7|
  0010c	00000000	 DCD         |dpCurSettings|
  00110		 |$LN28@PrcmDomain@7|
  00110	00000000	 DCD         |g_bSingleThreaded|
  00114		 |$M47818|

			 ENDP  ; |PrcmDomainSetClockState|

	EXPORT	|PrcmDomainSetClockStateKernel|

  00000			 AREA	 |.pdata|, PDATA
|$T47844| DCD	|$LN15@PrcmDomain@8|
	DCD	0x40002701
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetClockStateKernel| PROC

; 885  : {

  00000		 |$LN15@PrcmDomain@8|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M47841|
  00004	e1a07002	 mov         r7, r2
  00008	e1a06000	 mov         r6, r0

; 886  :     UINT i;
; 887  :     BOOL rc = FALSE;

  0000c	e3a00000	 mov         r0, #0

; 888  :     ClockDomainInfo_t *pClockStates;
; 889  : 
; 890  :     if (powerDomain >= POWERDOMAIN_COUNT) goto cleanUp;

  00010	e356000d	 cmp         r6, #0xD
  00014	2a00001d	 bcs         |$cleanUp$47256|

; 891  :     if ((s_DomainTable[powerDomain].ffValidationMask & DOMAIN_UPDATE_CLOCKSTATE) == 0) goto cleanUp;

  00018	e59fe078	 ldr         lr, [pc, #0x78]
  0001c	e0663186	 rsb         r3, r6, r6, lsl #3
  00020	e08ee103	 add         lr, lr, r3, lsl #2
  00024	e59e3004	 ldr         r3, [lr, #4]
  00028	e3130008	 tst         r3, #8
  0002c	0a000017	 beq         |$cleanUp$47256|

; 892  : 
; 893  :     // update internal state information 
; 894  :     pClockStates = s_DomainTable[powerDomain].pClockStates;

  00030	e59e300c	 ldr         r3, [lr, #0xC]
  00034	e1b05003	 movs        r5, r3

; 895  :     if (pClockStates == NULL) goto cleanUp;

  00038	0a000014	 beq         |$cleanUp$47256|

; 896  : 
; 897  :     for (i = 0; i < pClockStates->count; ++i)

  0003c	e5953000	 ldr         r3, [r5]
  00040	e3a0e000	 mov         lr, #0
  00044	e1b00003	 movs        r0, r3
  00048	0a00000f	 beq         |$LN2@PrcmDomain@8|
  0004c	e1a04005	 mov         r4, r5
  00050		 |$LL4@PrcmDomain@8|

; 898  :         {
; 899  :         if (pClockStates->rgClockDomains[i].clockDomain == (ClockDomain_e) clockDomain)

  00050	e5943004	 ldr         r3, [r4, #4]
  00054	e1530001	 cmp         r3, r1
  00058	0a000004	 beq         |$LN11@PrcmDomain@8|
  0005c	e28ee001	 add         lr, lr, #1
  00060	e15e0000	 cmp         lr, r0
  00064	e284400c	 add         r4, r4, #0xC
  00068	3afffff8	 bcc         |$LL4@PrcmDomain@8|
  0006c	ea000006	 b           |$LN2@PrcmDomain@8|
  00070		 |$LN11@PrcmDomain@8|

; 900  :             {
; 901  :             clockState &= CLKSTCTRL_MASK;
; 902  :             clockState >>= CLKSTCTRL_SHIFT;
; 903  :             pClockStates->rgClockDomains[i].clockState = clockState;

  00070	e08e308e	 add         r3, lr, lr, lsl #1
  00074	e0852103	 add         r2, r5, r3, lsl #2
  00078	e2073003	 and         r3, r7, #3

; 904  :             _PrcmDomainHwUpdate(powerDomain, DOMAIN_UPDATE_CLOCKSTATE);

  0007c	e3a01008	 mov         r1, #8
  00080	e1a00006	 mov         r0, r6
  00084	e5823008	 str         r3, [r2, #8]
  00088	eb000000	 bl          _PrcmDomainHwUpdate
  0008c		 |$LN2@PrcmDomain@8|

; 905  :             break;
; 906  :             }
; 907  :         }    
; 908  :     rc = TRUE;

  0008c	e3a00001	 mov         r0, #1
  00090		 |$cleanUp$47256|

; 909  :     
; 910  : cleanUp:        
; 911  :     return rc;
; 912  : }

  00090	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00094	e12fff1e	 bx          lr
  00098		 |$LN16@PrcmDomain@8|
  00098		 |$LN17@PrcmDomain@8|
  00098	00000000	 DCD         |s_DomainTable|
  0009c		 |$M47842|

			 ENDP  ; |PrcmDomainSetClockStateKernel|

	EXPORT	|PrcmDomainSetMemoryState|
	EXPORT	|??_C@_1EC@GMFKPCKF@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAM?$AAe?$AAm?$AAo?$AAr?$AAy?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1LA@DDOCINBK@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAM?$AAe?$AAm?$AAo?$AAr?$AAy?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T47865| DCD	|$LN11@PrcmDomain@9|
	DCD	0x40002e01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@GMFKPCKF@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAM?$AAe?$AAm?$AAo?$AAr?$AAy?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6@| DCB "-"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "M", 0x0, "e", 0x0, "m", 0x0, "o", 0x0, "r"
	DCB	0x0, "y", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "(", 0x0, ")", 0x0, "=", 0x0, "%", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1LA@DDOCINBK@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAM?$AAe?$AAm?$AAo?$AAr?$AAy?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD@| DCB "+"
	DCB	0x0, "P", 0x0, "r", 0x0, "c", 0x0, "m", 0x0, "D", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n", 0x0, "S", 0x0, "e"
	DCB	0x0, "t", 0x0, "M", 0x0, "e", 0x0, "m", 0x0, "o", 0x0, "r"
	DCB	0x0, "y", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "(", 0x0, "p", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r"
	DCB	0x0, "D", 0x0, "o", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n"
	DCB	0x0, "=", 0x0, "%", 0x0, "d", 0x0, ",", 0x0, " ", 0x0, "m"
	DCB	0x0, "e", 0x0, "m", 0x0, "o", 0x0, "r", 0x0, "y", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "=", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "X", 0x0, ","
	DCB	0x0, " ", 0x0, "m", 0x0, "e", 0x0, "m", 0x0, "o", 0x0, "r"
	DCB	0x0, "y", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "M", 0x0, "a", 0x0, "s", 0x0, "k", 0x0, "=", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "X", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainSetMemoryState| PROC

; 921  : {

  00000		 |$LN11@PrcmDomain@9|
  00000	e92d43f0	 stmdb       sp!, {r4 - r9, lr}
  00004		 |$M47862|
  00004	e1a06002	 mov         r6, r2
  00008	e1a07001	 mov         r7, r1
  0000c	e1a05000	 mov         r5, r0

; 922  :     UINT val;    
; 923  :     BOOL rc = FALSE;
; 924  :     OMAP_PRM_REGS *pPrmRegs;
; 925  :     OALMSG(OAL_FUNC, (L"+PrcmDomainSetMemoryState"
; 926  :         L"(powerDomain=%d, memoryState=0x%08X, memoryStateMask=0x%08X)\r\n", 
; 927  :         powerDomain, memoryState, memoryStateMask));

  00010	e59f809c	 ldr         r8, [pc, #0x9C]
  00014	e3a04000	 mov         r4, #0
  00018	e5983440	 ldr         r3, [r8, #0x440]
  0001c	e3130004	 tst         r3, #4
  00020	159f0088	 ldrne       r0, [pc, #0x88]
  00024	11a03006	 movne       r3, r6
  00028	11a02007	 movne       r2, r7
  0002c	11a01005	 movne       r1, r5
  00030	1b000000	 blne        NKDbgPrintfW

; 928  : 
; 929  :     pPrmRegs = GetPrmRegisterSet(powerDomain);

  00034	e1a00005	 mov         r0, r5
  00038	eb000000	 bl          GetPrmRegisterSet
  0003c	e1b09000	 movs        r9, r0

; 930  :     if (pPrmRegs == NULL) goto cleanUp;

  00040	0a000010	 beq         |$cleanUp$47279|

; 931  : 
; 932  :     Lock(Mutex_Domain);

  00044	e3a00002	 mov         r0, #2
  00048	eb000000	 bl          Lock

; 933  :     // update cached logic state
; 934  :     if (memoryStateMask & LOGICRETSTATE)

  0004c	e3160004	 tst         r6, #4

; 935  :         {
; 936  :         s_DomainTable[powerDomain].pDomainState->logicState = memoryState & LOGICRETSTATE_MASK;

  00050	159f2054	 ldrne       r2, [pc, #0x54]
  00054	10653185	 rsbne       r3, r5, r5, lsl #3
  00058	12071004	 andne       r1, r7, #4
  0005c	10823103	 addne       r3, r2, r3, lsl #2
  00060	15933008	 ldrne       r3, [r3, #8]

; 937  :         }
; 938  :     
; 939  :     memoryState &= memoryStateMask;
; 940  :     val = INREG32(&pPrmRegs->PM_PWSTCTRL_xxx) & ~memoryStateMask;

  00064	e0072006	 and         r2, r7, r6

; 941  :     val |= memoryState;
; 942  :     OUTREG32(&pPrmRegs->PM_PWSTCTRL_xxx, val);
; 943  :     Unlock(Mutex_Domain);

  00068	e3a00002	 mov         r0, #2
  0006c	15831004	 strne       r1, [r3, #4]
  00070	e59930e0	 ldr         r3, [r9, #0xE0]
  00074	e1c33006	 bic         r3, r3, r6
  00078	e1823003	 orr         r3, r2, r3
  0007c	e58930e0	 str         r3, [r9, #0xE0]
  00080	eb000000	 bl          Unlock

; 944  :     
; 945  :     rc = TRUE;

  00084	e3a04001	 mov         r4, #1
  00088		 |$cleanUp$47279|

; 946  :     
; 947  : cleanUp:        
; 948  :     OALMSG(OAL_FUNC, (L"-PrcmDomainSetMemoryState()=%d\r\n", rc));

  00088	e5983440	 ldr         r3, [r8, #0x440]
  0008c	e3130004	 tst         r3, #4
  00090	159f0010	 ldrne       r0, [pc, #0x10]
  00094	11a01004	 movne       r1, r4
  00098	1b000000	 blne        NKDbgPrintfW

; 949  :     return rc;
; 950  : }

  0009c	e1a00004	 mov         r0, r4
  000a0	e8bd43f0	 ldmia       sp!, {r4 - r9, lr}
  000a4	e12fff1e	 bx          lr
  000a8		 |$LN12@PrcmDomain@9|
  000a8		 |$LN13@PrcmDomain@9|
  000a8	00000000	 DCD         |??_C@_1EC@GMFKPCKF@?$AA?9?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAM?$AAe?$AAm?$AAo?$AAr?$AAy?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AA?$CJ?$AA?$DN?$AA?$CF?$AAd?$AA?$AN?$AA?6@|
  000ac		 |$LN14@PrcmDomain@9|
  000ac	00000000	 DCD         |s_DomainTable|
  000b0		 |$LN15@PrcmDomain@9|
  000b0	00000000	 DCD         |??_C@_1LA@DDOCINBK@?$AA?$CL?$AAP?$AAr?$AAc?$AAm?$AAD?$AAo?$AAm?$AAa?$AAi?$AAn?$AAS?$AAe?$AAt?$AAM?$AAe?$AAm?$AAo?$AAr?$AAy?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$CI?$AAp?$AAo?$AAw?$AAe?$AAr?$AAD@|
  000b4		 |$LN16@PrcmDomain@9|
  000b4	00000000	 DCD         |dpCurSettings|
  000b8		 |$M47863|

			 ENDP  ; |PrcmDomainSetMemoryState|

	EXPORT	|PrcmDomainClearWakeupStatus|

  00000			 AREA	 |.pdata|, PDATA
|$T47884| DCD	|$LN7@PrcmDomain@10|
	DCD	0x40000f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainClearWakeupStatus| PROC

; 962  : {

  00000		 |$LN7@PrcmDomain@10|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M47881|
  00004	e1a05000	 mov         r5, r0

; 963  :     UINT val;    
; 964  :     BOOL rc = FALSE;
; 965  :     OMAP_PRM_REGS *pPrmRegs;
; 966  :     //OALMSG(OAL_FUNC, (L"+PrcmDomainClearWakeupStatus"
; 967  :     //    L"(powerDomain=%d)\r\n", 
; 968  :     //    powerDomain)
; 969  :     //    );
; 970  : 
; 971  :     pPrmRegs = GetPrmRegisterSet(powerDomain);

  00008	e3a04000	 mov         r4, #0
  0000c	eb000000	 bl          GetPrmRegisterSet
  00010	e3500000	 cmp         r0, #0

; 972  :     if (pPrmRegs == NULL) goto cleanUp;

  00014	0a000005	 beq         |$cleanUp$47294|

; 973  : 
; 974  :     // This routine should only be called during system boot-up or
; 975  :     // from OEMIdle, OEMPowerOff.  Hence, serialization within this routine
; 976  :     // should not be performed.
; 977  : 
; 978  :     val = INREG32(&pPrmRegs->PM_WKST_xxx);

  00018	e59030b0	 ldr         r3, [r0, #0xB0]

; 979  :     OUTREG32(&pPrmRegs->PM_WKST_xxx, val);
; 980  :     if (powerDomain == POWERDOMAIN_CORE) 

  0001c	e3550001	 cmp         r5, #1

; 981  :         {
; 982  :         val = INREG32(&pPrmRegs->PM_WKST3_xxx);
; 983  :         OUTREG32(&pPrmRegs->PM_WKST3_xxx, val);
; 984  :         }
; 985  :     
; 986  :     rc = TRUE;

  00020	e3a04001	 mov         r4, #1
  00024	e58030b0	 str         r3, [r0, #0xB0]
  00028	059030b8	 ldreq       r3, [r0, #0xB8]
  0002c	058030b8	 streq       r3, [r0, #0xB8]
  00030		 |$cleanUp$47294|

; 987  :     
; 988  : cleanUp:        
; 989  :     //OALMSG(OAL_FUNC, (L"-PrcmDomainClearWakeupStatus()=%d\r\n", rc));
; 990  :     return rc;
; 991  : }

  00030	e1a00004	 mov         r0, r4
  00034	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00038	e12fff1e	 bx          lr
  0003c		 |$M47882|

			 ENDP  ; |PrcmDomainClearWakeupStatus|

	EXPORT	|PrcmDomainUpdateRefCount|
	IMPORT	|InterlockedDecrement|
	IMPORT	|InterlockedIncrement|

  00000			 AREA	 |.pdata|, PDATA
|$T47893| DCD	|$LN7@PrcmDomain@11|
	DCD	0x40000d01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainUpdateRefCount| PROC

; 999  : {    

  00000		 |$LN7@PrcmDomain@11|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M47890|
  00004	e3510000	 cmp         r1, #0

; 1000 :     // update refcount
; 1001 :     if (bEnable)
; 1002 :         {
; 1003 :         InterlockedIncrement((LONG*)&s_DomainTable[powerDomain].refCount);

  00008	e59f2020	 ldr         r2, [pc, #0x20]
  0000c	e0603180	 rsb         r3, r0, r0, lsl #3
  00010	e0820103	 add         r0, r2, r3, lsl #2
  00014	0a000002	 beq         |$LN2@PrcmDomain@11|
  00018	eb000000	 bl          InterlockedIncrement

; 1008 :         }
; 1009 : }

  0001c	e49de004	 ldr         lr, [sp], #4
  00020	e12fff1e	 bx          lr
  00024		 |$LN2@PrcmDomain@11|

; 1004 :         }
; 1005 :     else
; 1006 :         {
; 1007 :         InterlockedDecrement((LONG*)&s_DomainTable[powerDomain].refCount);

  00024	eb000000	 bl          InterlockedDecrement

; 1008 :         }
; 1009 : }

  00028	e49de004	 ldr         lr, [sp], #4
  0002c	e12fff1e	 bx          lr
  00030		 |$LN8@PrcmDomain@11|
  00030		 |$LN9@PrcmDomain@11|
  00030	00000000	 DCD         |s_DomainTable|
  00034		 |$M47891|

			 ENDP  ; |PrcmDomainUpdateRefCount|

	EXPORT	|PrcmProcessPostMpuWakeup|
	IMPORT	|g_pPrcmPrm|

  00000			 AREA	 |.pdata|, PDATA
|$T47910| DCD	|$LN13@PrcmProces|
	DCD	0x40005f00
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmProcessPostMpuWakeup| PROC

; 1014 : {

  00000		 |$LN13@PrcmProces|
  00000		 |$M47907|

; 1015 :     // NOTE:
; 1016 :     //  This routine should only be called in OEMIdle where IRQ's are disabled
; 1017 :     //
; 1018 :     DWORD val;
; 1019 : 
; 1020 :     // core
; 1021 :     OUTREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->PM_WKST1_CORE,
; 1022 :         INREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->PM_WKST1_CORE)
; 1023 :         );

  00000	e59f1170	 ldr         r1, [pc, #0x170]

; 1024 : 
; 1025 :     OUTREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->PM_WKST3_CORE,
; 1026 :         INREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->PM_WKST3_CORE)
; 1027 :         );
; 1028 : 
; 1029 :     // peripheral
; 1030 :     OUTREG32(&g_pPrcmPrm->pOMAP_PER_PRM->PM_WKST_PER,
; 1031 :         INREG32(&g_pPrcmPrm->pOMAP_PER_PRM->PM_WKST_PER)
; 1032 :         );
; 1033 : 
; 1034 :     // usbhost
; 1035 :     OUTREG32(&g_pPrcmPrm->pOMAP_USBHOST_PRM->PM_WKST_USBHOST,
; 1036 :         INREG32(&g_pPrcmPrm->pOMAP_USBHOST_PRM->PM_WKST_USBHOST)
; 1037 :         );
; 1038 : 
; 1039 :     // clear irq status for mpu
; 1040 :     val = INREG32(&g_pPrcmPrm->pOMAP_OCP_SYSTEM_PRM->PRM_IRQSTATUS_MPU);
; 1041 :     OUTREG32(&g_pPrcmPrm->pOMAP_OCP_SYSTEM_PRM->PRM_IRQSTATUS_MPU, 
; 1042 :         val & PRM_IRQENABLE_WKUP_EN
; 1043 :         );
; 1044 : 
; 1045 :     // clear device context state table
; 1046 : 
; 1047 :     // core
; 1048 :     val = INREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->PM_PREPWSTST_CORE);
; 1049 :     if (((val & POWERSTATE_MASK) == POWERSTATE_OFF) || \
; 1050 :         (((val & POWERSTATE_MASK) == POWERSTATE_RETENTION) && \
; 1051 :          ((val & LOGICRETSTATE_MASK) == LOGICRETSTATE_LOGICOFF_DOMAINRET)))

  00004	e59f0168	 ldr         r0, [pc, #0x168]
  00008	e5913000	 ldr         r3, [r1]
  0000c	e5932004	 ldr         r2, [r3, #4]
  00010	e59230b0	 ldr         r3, [r2, #0xB0]
  00014	e58230b0	 str         r3, [r2, #0xB0]
  00018	e5913000	 ldr         r3, [r1]
  0001c	e5932004	 ldr         r2, [r3, #4]
  00020	e59230b8	 ldr         r3, [r2, #0xB8]
  00024	e58230b8	 str         r3, [r2, #0xB8]
  00028	e5913000	 ldr         r3, [r1]
  0002c	e5932008	 ldr         r2, [r3, #8]
  00030	e59230b0	 ldr         r3, [r2, #0xB0]
  00034	e58230b0	 str         r3, [r2, #0xB0]
  00038	e5913000	 ldr         r3, [r1]
  0003c	e593200c	 ldr         r2, [r3, #0xC]
  00040	e59230b0	 ldr         r3, [r2, #0xB0]
  00044	e58230b0	 str         r3, [r2, #0xB0]
  00048	e5913000	 ldr         r3, [r1]
  0004c	e5932030	 ldr         r2, [r3, #0x30]
  00050	e5923018	 ldr         r3, [r2, #0x18]
  00054	e2033001	 and         r3, r3, #1
  00058	e5823018	 str         r3, [r2, #0x18]
  0005c	e5912000	 ldr         r2, [r1]
  00060	e5923004	 ldr         r3, [r2, #4]
  00064	e59330e8	 ldr         r3, [r3, #0xE8]
  00068	e2131003	 ands        r1, r3, #3
  0006c	0a000003	 beq         |$LN7@PrcmProces|
  00070	e3510001	 cmp         r1, #1
  00074	1a000007	 bne         |$LN8@PrcmProces|
  00078	e3130004	 tst         r3, #4
  0007c	1a000005	 bne         |$LN8@PrcmProces|
  00080		 |$LN7@PrcmProces|

; 1052 :         {
; 1053 :         // clear domain device context state
; 1054 :         s_DomainTable[POWERDOMAIN_CORE].rgDeviceContextState[0] = 0;

  00080	e3a03000	 mov         r3, #0
  00084	e580302c	 str         r3, [r0, #0x2C]

; 1055 :         s_DomainTable[POWERDOMAIN_CORE].rgDeviceContextState[1] = 0;

  00088	e3a03000	 mov         r3, #0
  0008c	e5803030	 str         r3, [r0, #0x30]

; 1056 :         s_DomainTable[POWERDOMAIN_CORE].rgDeviceContextState[2] = 0;

  00090	e3a03000	 mov         r3, #0
  00094	e5803034	 str         r3, [r0, #0x34]
  00098		 |$LN8@PrcmProces|

; 1057 :         }
; 1058 : 
; 1059 :     // peripheral
; 1060 :     val = INREG32(&g_pPrcmPrm->pOMAP_PER_PRM->PM_PREPWSTST_PER);

  00098	e5923008	 ldr         r3, [r2, #8]
  0009c	e59330e8	 ldr         r3, [r3, #0xE8]

; 1061 :     if ((val & POWERSTATE_MASK) == POWERSTATE_OFF)

  000a0	e3130003	 tst         r3, #3

; 1062 :         {
; 1063 :         // clear domain device context state
; 1064 :         s_DomainTable[POWERDOMAIN_PERIPHERAL].rgDeviceContextState[0] = 0;

  000a4	03a03000	 moveq       r3, #0
  000a8	05803048	 streq       r3, [r0, #0x48]

; 1065 :         s_DomainTable[POWERDOMAIN_PERIPHERAL].rgDeviceContextState[1] = 0;

  000ac	03a03000	 moveq       r3, #0
  000b0	0580304c	 streq       r3, [r0, #0x4C]

; 1066 :         s_DomainTable[POWERDOMAIN_PERIPHERAL].rgDeviceContextState[2] = 0;

  000b4	03a03000	 moveq       r3, #0
  000b8	05803050	 streq       r3, [r0, #0x50]

; 1067 :         }
; 1068 : 
; 1069 :     // dss
; 1070 :     val = INREG32(&g_pPrcmPrm->pOMAP_DSS_PRM->PM_PREPWSTST_DSS);

  000bc	e5923018	 ldr         r3, [r2, #0x18]
  000c0	e59330e8	 ldr         r3, [r3, #0xE8]

; 1071 :     if ((val & POWERSTATE_MASK) == POWERSTATE_OFF)

  000c4	e3130003	 tst         r3, #3

; 1072 :         {
; 1073 :         // clear domain device context state
; 1074 :         s_DomainTable[POWERDOMAIN_DSS].rgDeviceContextState[0] = 0;

  000c8	03a03000	 moveq       r3, #0
  000cc	058030b8	 streq       r3, [r0, #0xB8]

; 1075 :         s_DomainTable[POWERDOMAIN_DSS].rgDeviceContextState[1] = 0;

  000d0	03a03000	 moveq       r3, #0
  000d4	058030bc	 streq       r3, [r0, #0xBC]

; 1076 :         s_DomainTable[POWERDOMAIN_DSS].rgDeviceContextState[2] = 0;

  000d8	03a03000	 moveq       r3, #0
  000dc	058030c0	 streq       r3, [r0, #0xC0]

; 1077 :         }
; 1078 : 
; 1079 :     // usbhost
; 1080 :     val = INREG32(&g_pPrcmPrm->pOMAP_USBHOST_PRM->PM_PREPWSTST_USBHOST);

  000e0	e592300c	 ldr         r3, [r2, #0xC]
  000e4	e59330e8	 ldr         r3, [r3, #0xE8]

; 1081 :     if ((val & POWERSTATE_MASK) == POWERSTATE_OFF)

  000e8	e3130003	 tst         r3, #3

; 1082 :         {
; 1083 :         // clear domain device context state
; 1084 :         s_DomainTable[POWERDOMAIN_USBHOST].rgDeviceContextState[0] = 0;

  000ec	03a03000	 moveq       r3, #0
  000f0	05803064	 streq       r3, [r0, #0x64]

; 1085 :         s_DomainTable[POWERDOMAIN_USBHOST].rgDeviceContextState[1] = 0;

  000f4	03a03000	 moveq       r3, #0
  000f8	05803068	 streq       r3, [r0, #0x68]

; 1086 :         s_DomainTable[POWERDOMAIN_USBHOST].rgDeviceContextState[2] = 0;

  000fc	03a03000	 moveq       r3, #0
  00100	0580306c	 streq       r3, [r0, #0x6C]

; 1087 :         }
; 1088 : 
; 1089 :     // camera
; 1090 :     val = INREG32(&g_pPrcmPrm->pOMAP_CAM_PRM->PM_PREPWSTST_CAM);

  00104	e5923024	 ldr         r3, [r2, #0x24]
  00108	e59330e8	 ldr         r3, [r3, #0xE8]

; 1091 :     if ((val & POWERSTATE_MASK) == POWERSTATE_OFF)

  0010c	e3130003	 tst         r3, #3

; 1092 :         {
; 1093 :         // clear domain device context state
; 1094 :         s_DomainTable[POWERDOMAIN_CAMERA].rgDeviceContextState[0] = 0;

  00110	03a03000	 moveq       r3, #0
  00114	0580310c	 streq       r3, [r0, #0x10C]

; 1095 :         s_DomainTable[POWERDOMAIN_CAMERA].rgDeviceContextState[1] = 0;

  00118	03a03000	 moveq       r3, #0
  0011c	05803110	 streq       r3, [r0, #0x110]

; 1096 :         s_DomainTable[POWERDOMAIN_CAMERA].rgDeviceContextState[2] = 0;

  00120	03a03000	 moveq       r3, #0
  00124	05803114	 streq       r3, [r0, #0x114]

; 1097 :         }
; 1098 : 
; 1099 :     // sgx
; 1100 :     val = INREG32(&g_pPrcmPrm->pOMAP_SGX_PRM->PM_PREPWSTST_SGX);

  00128	e5923028	 ldr         r3, [r2, #0x28]
  0012c	e59330e8	 ldr         r3, [r3, #0xE8]

; 1101 :     if ((val & POWERSTATE_MASK) == POWERSTATE_OFF)

  00130	e3130003	 tst         r3, #3

; 1102 :         {
; 1103 :         // clear domain device context state
; 1104 :         s_DomainTable[POWERDOMAIN_SGX].rgDeviceContextState[0] = 0;

  00134	03a03000	 moveq       r3, #0
  00138	05803128	 streq       r3, [r0, #0x128]

; 1105 :         s_DomainTable[POWERDOMAIN_SGX].rgDeviceContextState[1] = 0;

  0013c	03a03000	 moveq       r3, #0
  00140	0580312c	 streq       r3, [r0, #0x12C]

; 1106 :         s_DomainTable[POWERDOMAIN_SGX].rgDeviceContextState[2] = 0;

  00144	03a03000	 moveq       r3, #0
  00148	05803130	 streq       r3, [r0, #0x130]

; 1107 :         }
; 1108 : 
; 1109 :     // IVA2
; 1110 :     val = INREG32(&g_pPrcmPrm->pOMAP_IVA2_PRM->PM_PREPWSTST_IVA2);

  0014c	e5923020	 ldr         r3, [r2, #0x20]
  00150	e59330e8	 ldr         r3, [r3, #0xE8]

; 1111 :     if ((val & POWERSTATE_MASK) == POWERSTATE_OFF)

  00154	e3130003	 tst         r3, #3

; 1112 :         {
; 1113 :         // clear domain device context state
; 1114 :         s_DomainTable[POWERDOMAIN_IVA2].rgDeviceContextState[0] = 0;

  00158	03a03000	 moveq       r3, #0
  0015c	058030f0	 streq       r3, [r0, #0xF0]

; 1115 :         s_DomainTable[POWERDOMAIN_IVA2].rgDeviceContextState[1] = 0;

  00160	03a03000	 moveq       r3, #0
  00164	058030f4	 streq       r3, [r0, #0xF4]

; 1116 :         s_DomainTable[POWERDOMAIN_IVA2].rgDeviceContextState[2] = 0;

  00168	03a03000	 moveq       r3, #0
  0016c	058030f8	 streq       r3, [r0, #0xF8]

; 1117 :         }
; 1118 : 
; 1119 : }

  00170	e12fff1e	 bx          lr
  00174		 |$LN14@PrcmProces|
  00174		 |$LN15@PrcmProces|
  00174	00000000	 DCD         |s_DomainTable|
  00178		 |$LN16@PrcmProces|
  00178	00000000	 DCD         |g_pPrcmPrm|
  0017c		 |$M47908|

			 ENDP  ; |PrcmProcessPostMpuWakeup|

	EXPORT	|PrcmDomainClearReset|

  00000			 AREA	 |.pdata|, PDATA
|$T47920| DCD	|$LN5@PrcmDomain@12|
	DCD	0x40002b00
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |PrcmDomainClearReset| PROC

; 1124 : {

  00000		 |$LN5@PrcmDomain@12|
  00000		 |$M47917|

; 1125 :     // Clear the Resest states
; 1126 :     OUTREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->RM_RSTST_CORE, 
; 1127 :             INREG32(&g_pPrcmPrm->pOMAP_CORE_PRM->RM_RSTST_CORE)); 

  00000	e59f10a0	 ldr         r1, [pc, #0xA0]
  00004	e5913000	 ldr         r3, [r1]
  00008	e5932004	 ldr         r2, [r3, #4]
  0000c	e5923058	 ldr         r3, [r2, #0x58]
  00010	e5823058	 str         r3, [r2, #0x58]

; 1128 : 
; 1129 :     OUTREG32(&g_pPrcmPrm->pOMAP_MPU_PRM->RM_RSTST_MPU, 
; 1130 :             INREG32(&g_pPrcmPrm->pOMAP_MPU_PRM->RM_RSTST_MPU)); 

  00014	e5913000	 ldr         r3, [r1]
  00018	e5932014	 ldr         r2, [r3, #0x14]
  0001c	e5923058	 ldr         r3, [r2, #0x58]
  00020	e5823058	 str         r3, [r2, #0x58]

; 1131 : 
; 1132 :     OUTREG32(&g_pPrcmPrm->pOMAP_EMU_PRM->RM_RSTST_EMU, 
; 1133 :             INREG32(&g_pPrcmPrm->pOMAP_EMU_PRM->RM_RSTST_EMU)); 

  00024	e5913000	 ldr         r3, [r1]
  00028	e5932010	 ldr         r2, [r3, #0x10]
  0002c	e5923058	 ldr         r3, [r2, #0x58]
  00030	e5823058	 str         r3, [r2, #0x58]

; 1134 : 
; 1135 :     OUTREG32(&g_pPrcmPrm->pOMAP_PER_PRM->RM_RSTST_PER,
; 1136 :             INREG32(&g_pPrcmPrm->pOMAP_PER_PRM->RM_RSTST_PER)); 

  00034	e5913000	 ldr         r3, [r1]
  00038	e5932008	 ldr         r2, [r3, #8]
  0003c	e5923058	 ldr         r3, [r2, #0x58]
  00040	e5823058	 str         r3, [r2, #0x58]

; 1137 : 
; 1138 :     OUTREG32(&g_pPrcmPrm->pOMAP_IVA2_PRM->RM_RSTST_IVA2,
; 1139 :             INREG32(&g_pPrcmPrm->pOMAP_IVA2_PRM->RM_RSTST_IVA2)); 

  00044	e5913000	 ldr         r3, [r1]
  00048	e5932020	 ldr         r2, [r3, #0x20]
  0004c	e5923058	 ldr         r3, [r2, #0x58]
  00050	e5823058	 str         r3, [r2, #0x58]

; 1140 : 
; 1141 :     OUTREG32(&g_pPrcmPrm->pOMAP_SGX_PRM->RM_RSTST_SGX,
; 1142 :             INREG32(&g_pPrcmPrm->pOMAP_SGX_PRM->RM_RSTST_SGX)); 

  00054	e5913000	 ldr         r3, [r1]
  00058	e5932028	 ldr         r2, [r3, #0x28]
  0005c	e5923058	 ldr         r3, [r2, #0x58]
  00060	e5823058	 str         r3, [r2, #0x58]

; 1143 : 
; 1144 :     OUTREG32(&g_pPrcmPrm->pOMAP_DSS_PRM->RM_RSTST_DSS,
; 1145 :             INREG32(&g_pPrcmPrm->pOMAP_DSS_PRM->RM_RSTST_DSS)); 

  00064	e5913000	 ldr         r3, [r1]
  00068	e5932018	 ldr         r2, [r3, #0x18]
  0006c	e5923058	 ldr         r3, [r2, #0x58]
  00070	e5823058	 str         r3, [r2, #0x58]

; 1146 : 
; 1147 :     OUTREG32(&g_pPrcmPrm->pOMAP_CAM_PRM->RM_RSTST_CAM,
; 1148 :             INREG32(&g_pPrcmPrm->pOMAP_CAM_PRM->RM_RSTST_CAM)); 

  00074	e5913000	 ldr         r3, [r1]
  00078	e5932024	 ldr         r2, [r3, #0x24]
  0007c	e5923058	 ldr         r3, [r2, #0x58]
  00080	e5823058	 str         r3, [r2, #0x58]

; 1149 : 
; 1150 :     OUTREG32(&g_pPrcmPrm->pOMAP_NEON_PRM->RM_RSTST_NEON,
; 1151 :             INREG32(&g_pPrcmPrm->pOMAP_NEON_PRM->RM_RSTST_NEON)); 

  00084	e5913000	 ldr         r3, [r1]
  00088	e593201c	 ldr         r2, [r3, #0x1C]
  0008c	e5923058	 ldr         r3, [r2, #0x58]
  00090	e5823058	 str         r3, [r2, #0x58]

; 1152 : 
; 1153 :     OUTREG32(&g_pPrcmPrm->pOMAP_USBHOST_PRM->RM_RSTST_USBHOST,
; 1154 :             INREG32(&g_pPrcmPrm->pOMAP_USBHOST_PRM->RM_RSTST_USBHOST)); 

  00094	e5913000	 ldr         r3, [r1]
  00098	e593200c	 ldr         r2, [r3, #0xC]
  0009c	e5923058	 ldr         r3, [r2, #0x58]
  000a0	e5823058	 str         r3, [r2, #0x58]

; 1155 : }

  000a4	e12fff1e	 bx          lr
  000a8		 |$LN6@PrcmDomain@12|
  000a8		 |$LN7@PrcmDomain@12|
  000a8	00000000	 DCD         |g_pPrcmPrm|
  000ac		 |$M47918|

			 ENDP  ; |PrcmDomainClearReset|

	END
