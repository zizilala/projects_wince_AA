; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\APP\CaptureTest\propertybag.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??8@YAHABU_GUID@@0@Z|			; operator==
	IMPORT	|memcmp|
; File c:\wince600\public\common\sdk\inc\objbase.h

  00000			 AREA	 |.pdata|, PDATA
|$T34920| DCD	|$LN7@operator|
	DCD	0x40000901
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??8@YAHABU_GUID@@0@Z| PROC		; operator==

; 516  : {

  00000		 |$LN7@operator|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34917|

; 517  : #ifdef _WIN32
; 518  :     return !memcmp(&guidOne,&guidOther,sizeof(GUID));

  00004	e3a02010	 mov         r2, #0x10
  00008	eb000000	 bl          memcmp
  0000c	e3500000	 cmp         r0, #0
  00010	03a00001	 moveq       r0, #1

; 519  : #else
; 520  :     return !_fmemcmp(&guidOne,&guidOther,sizeof(GUID)); }
; 521  : #endif
; 522  : }

  00014	049de004	 ldreq       lr, [sp], #4

; 517  : #ifdef _WIN32
; 518  :     return !memcmp(&guidOne,&guidOther,sizeof(GUID));

  00018	13a00000	 movne       r0, #0

; 519  : #else
; 520  :     return !_fmemcmp(&guidOne,&guidOther,sizeof(GUID)); }
; 521  : #endif
; 522  : }

  0001c	149de004	 ldrne       lr, [sp], #4
  00020	e12fff1e	 bx          lr
  00024		 |$M34918|

			 ENDP  ; |??8@YAHABU_GUID@@0@Z|, operator==

	EXPORT	|??0IUnknown@@QAA@XZ|			; IUnknown::IUnknown

  00000			 AREA	 |.pdata|, PDATA
|$T34930| DCD	|$LN5@IUnknown|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0IUnknown@@QAA@XZ| PROC		; IUnknown::IUnknown
  00000		 |$LN5@IUnknown|
  00000		 |$M34927|
  00000	e12fff1e	 bx          lr
  00004		 |$M34928|

			 ENDP  ; |??0IUnknown@@QAA@XZ|, IUnknown::IUnknown

	EXPORT	|??1CPropertyBag@@QAA@XZ|		; CPropertyBag::~CPropertyBag
	EXPORT	|??_7CPropertyBag@@6B@| [ DATA ]	; CPropertyBag::`vftable'
	EXPORT	|?QueryInterface@CPropertyBag@@UAAJABU_GUID@@PAPAX@Z| ; CPropertyBag::QueryInterface
	EXPORT	|?AddRef@CPropertyBag@@UAAKXZ|		; CPropertyBag::AddRef
	EXPORT	|?Release@CPropertyBag@@UAAKXZ|		; CPropertyBag::Release
	EXPORT	|?Read@CPropertyBag@@UAAJPBGPAUtagVARIANT@@PAUIErrorLog@@@Z| ; CPropertyBag::Read
	EXPORT	|?Write@CPropertyBag@@UAAJPBGPAUtagVARIANT@@@Z| ; CPropertyBag::Write
	IMPORT	|??3@YAXPAX@Z|				; operator delete
	IMPORT	|SysFreeString|
	IMPORT	|VariantClear|
; File c:\wince600\platform\z2170p\src\app\capturetest\propertybag.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T34943| DCD	|$LN9@CPropertyB|
	DCD	0x40001201

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7CPropertyBag@@6B@| DCD |?QueryInterface@CPropertyBag@@UAAJABU_GUID@@PAPAX@Z| ; CPropertyBag::`vftable'
	DCD	|?AddRef@CPropertyBag@@UAAKXZ|
	DCD	|?Release@CPropertyBag@@UAAKXZ|
	DCD	|?Read@CPropertyBag@@UAAJPBGPAUtagVARIANT@@PAUIErrorLog@@@Z|
	DCD	|?Write@CPropertyBag@@UAAJPBGPAUtagVARIANT@@@Z|
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1CPropertyBag@@QAA@XZ| PROC		; CPropertyBag::~CPropertyBag

; 31   : {

  00000		 |$LN9@CPropertyB|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34940|
  00004	e59f3038	 ldr         r3, [pc, #0x38]

; 32   :     VAR_LIST *pTemp = pVar;    

  00008	e5902008	 ldr         r2, [r0, #8]
  0000c	e5803000	 str         r3, [r0]
  00010	e1b04002	 movs        r4, r2

; 33   :     
; 34   :     while(pTemp)

  00014	0a000008	 beq         |$LN1@CPropertyB|
  00018		 |$LL2@CPropertyB|

; 35   :     {
; 36   :         VAR_LIST *pDel = pTemp;
; 37   :         VariantClear(&pTemp->var);

  00018	e1a00004	 mov         r0, r4
  0001c	eb000000	 bl          VariantClear

; 38   :         SysFreeString(pTemp->pBSTRName);

  00020	e5940014	 ldr         r0, [r4, #0x14]
  00024	eb000000	 bl          SysFreeString

; 39   :         pTemp = pTemp->pNext;
; 40   :         delete pDel;

  00028	e1a00004	 mov         r0, r4
  0002c	e5944010	 ldr         r4, [r4, #0x10]
  00030	eb000000	 bl          |??3@YAXPAX@Z|
  00034	e3540000	 cmp         r4, #0
  00038	1afffff6	 bne         |$LL2@CPropertyB|
  0003c		 |$LN1@CPropertyB|

; 41   :     }
; 42   : 
; 43   : }

  0003c	e8bd4010	 ldmia       sp!, {r4, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$LN10@CPropertyB|
  00044		 |$LN11@CPropertyB|
  00044	00000000	 DCD         |??_7CPropertyBag@@6B@|
  00048		 |$M34941|

			 ENDP  ; |??1CPropertyBag@@QAA@XZ|, CPropertyBag::~CPropertyBag

	IMPORT	|VariantCopy|
	IMPORT	|wcscmp|

  00000			 AREA	 |.pdata|, PDATA
|$T34964| DCD	|$LN12@Read|
	DCD	0x40001601
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Read@CPropertyBag@@UAAJPBGPAUtagVARIANT@@PAUIErrorLog@@@Z| PROC ; CPropertyBag::Read

; 49   : {

  00000		 |$LN12@Read|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M34961|
  00004	e1a06002	 mov         r6, r2
  00008	e1a07001	 mov         r7, r1

; 50   : 	UNREFERENCED_PARAMETER(pErrorLog);
; 51   : 
; 52   :     VAR_LIST *pTemp = pVar;

  0000c	e5903008	 ldr         r3, [r0, #8]

; 53   :     HRESULT hr = S_OK;

  00010	e3a05000	 mov         r5, #0
  00014	ea000005	 b           |$LN9@Read|
  00018		 |$LL3@Read|

; 54   :     
; 55   :     while(pTemp)
; 56   :     {
; 57   :         if(0 == wcscmp(pszPropName, pTemp->pBSTRName))

  00018	e5941014	 ldr         r1, [r4, #0x14]
  0001c	e1a00007	 mov         r0, r7
  00020	eb000000	 bl          wcscmp
  00024	e3500000	 cmp         r0, #0
  00028	0a000003	 beq         |$LN7@Read|

; 60   :             break;
; 61   :         }
; 62   :         pTemp = pTemp->pNext;

  0002c	e5943010	 ldr         r3, [r4, #0x10]
  00030		 |$LN9@Read|
  00030	e1b04003	 movs        r4, r3
  00034	1afffff7	 bne         |$LL3@Read|

; 54   :     
; 55   :     while(pTemp)
; 56   :     {
; 57   :         if(0 == wcscmp(pszPropName, pTemp->pBSTRName))

  00038	ea000003	 b           |$LN2@Read|
  0003c		 |$LN7@Read|

; 58   :         {
; 59   :             hr = VariantCopy(_pVar, &pTemp->var);

  0003c	e1a01004	 mov         r1, r4
  00040	e1a00006	 mov         r0, r6
  00044	eb000000	 bl          VariantCopy
  00048	e1a05000	 mov         r5, r0
  0004c		 |$LN2@Read|

; 63   :     }
; 64   :     return hr;
; 65   : }

  0004c	e1a00005	 mov         r0, r5
  00050	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00054	e12fff1e	 bx          lr
  00058		 |$M34962|

			 ENDP  ; |?Read@CPropertyBag@@UAAJPBGPAUtagVARIANT@@PAUIErrorLog@@@Z|, CPropertyBag::Read

	IMPORT	|SysAllocString|
	IMPORT	|VariantInit|
	IMPORT	|??2@YAPAXI@Z|				; operator new
	IMPORT	|memset|

  00000			 AREA	 |.pdata|, PDATA
|$T34983| DCD	|$LN10@Write|
	DCD	0x40002701
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Write@CPropertyBag@@UAAJPBGPAUtagVARIANT@@@Z| PROC ; CPropertyBag::Write

; 71   : {    

  00000		 |$LN10@Write|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M34980|
  00004	e1a05002	 mov         r5, r2
  00008	e1b07001	 movs        r7, r1
  0000c	e1a06000	 mov         r6, r0

; 72   :     if( NULL == pszPropName || NULL == _pVar )

  00010	0a00001d	 beq         |$LN2@Write|
  00014	e3550000	 cmp         r5, #0
  00018	0a00001b	 beq         |$LN2@Write|

; 75   :     }
; 76   :     
; 77   : 
; 78   :     VAR_LIST *pTemp = new VAR_LIST();    

  0001c	e3a00018	 mov         r0, #0x18
  00020	eb000000	 bl          |??2@YAPAXI@Z|
  00024	e1b04000	 movs        r4, r0
  00028	0a000004	 beq         |$LN6@Write|
  0002c	e3a02018	 mov         r2, #0x18
  00030	e3a01000	 mov         r1, #0
  00034	e1a00004	 mov         r0, r4
  00038	eb000000	 bl          memset
  0003c	ea000000	 b           |$LN7@Write|
  00040		 |$LN6@Write|
  00040	e3a04000	 mov         r4, #0
  00044		 |$LN7@Write|

; 79   :     if( NULL == pTemp )

  00044	e3540000	 cmp         r4, #0
  00048	03a0313a	 moveq       r3, #0x3A, 2

; 80   :     {
; 81   :         return E_OUTOFMEMORY;

  0004c	03830807	 orreq       r0, r3, #7, 16

; 89   : }

  00050	08bd40f0	 ldmeqia     sp!, {r4 - r7, lr}
  00054	012fff1e	 bxeq        lr

; 82   :     }
; 83   : 
; 84   :     VariantInit(&pTemp->var);

  00058	e1a00004	 mov         r0, r4
  0005c	eb000000	 bl          VariantInit

; 85   :     pTemp->pBSTRName = SysAllocString(pszPropName);

  00060	e1a00007	 mov         r0, r7
  00064	eb000000	 bl          SysAllocString
  00068	e5840014	 str         r0, [r4, #0x14]

; 86   :     pTemp->pNext = pVar;

  0006c	e5963008	 ldr         r3, [r6, #8]

; 87   :     pVar = pTemp;
; 88   :     return VariantCopy(&pTemp->var, _pVar);

  00070	e1a01005	 mov         r1, r5
  00074	e1a00004	 mov         r0, r4
  00078	e5843010	 str         r3, [r4, #0x10]
  0007c	e5864008	 str         r4, [r6, #8]
  00080	eb000000	 bl          VariantCopy

; 89   : }

  00084	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00088	e12fff1e	 bx          lr
  0008c		 |$LN2@Write|

; 87   :     pVar = pTemp;
; 88   :     return VariantCopy(&pTemp->var, _pVar);

  0008c	e3a0310e	 mov         r3, #0xE, 2

; 73   :     {
; 74   :         return E_POINTER;

  00090	e3830901	 orr         r0, r3, #1, 18

; 89   : }

  00094	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  00098	e12fff1e	 bx          lr
  0009c		 |$M34981|

			 ENDP  ; |?Write@CPropertyBag@@UAAJPBGPAUtagVARIANT@@@Z|, CPropertyBag::Write

	IMPORT	|InterlockedIncrement|

  00000			 AREA	 |.pdata|, PDATA
|$T34993| DCD	|$LN5@AddRef|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?AddRef@CPropertyBag@@UAAKXZ| PROC	; CPropertyBag::AddRef

; 93   : {

  00000		 |$LN5@AddRef|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34990|

; 94   :     return InterlockedIncrement((LONG *)&_refCount);

  00004	e2800004	 add         r0, r0, #4
  00008	eb000000	 bl          InterlockedIncrement

; 95   : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M34991|

			 ENDP  ; |?AddRef@CPropertyBag@@UAAKXZ|, CPropertyBag::AddRef

	EXPORT	|??_GCPropertyBag@@QAAPAXI@Z|		; CPropertyBag::`scalar deleting destructor'

  00000			 AREA	 |.pdata|, PDATA
|$T35004| DCD	|$LN6@scalar|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GCPropertyBag@@QAAPAXI@Z| PROC	; CPropertyBag::`scalar deleting destructor'
  00000		 |$LN6@scalar|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M35001|
  00004	e1a04001	 mov         r4, r1
  00008	e1a05000	 mov         r5, r0
  0000c	eb000000	 bl          |??1CPropertyBag@@QAA@XZ|
  00010	e3140001	 tst         r4, #1
  00014	11a00005	 movne       r0, r5
  00018	1b000000	 blne        |??3@YAXPAX@Z|
  0001c	e1a00005	 mov         r0, r5
  00020	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00024	e12fff1e	 bx          lr
  00028		 |$M35002|

			 ENDP  ; |??_GCPropertyBag@@QAAPAXI@Z|, CPropertyBag::`scalar deleting destructor'

	IMPORT	|IID_IPropertyBag|
; File c:\wince600\public\common\sdk\inc\objbase.h

  00000			 AREA	 |.pdata|, PDATA
|$T35024| DCD	|$LN13@QueryInter|
	DCD	0x40001e01
; Function compile flags: /Ogspy
; File c:\wince600\platform\z2170p\src\app\capturetest\propertybag.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?QueryInterface@CPropertyBag@@UAAJABU_GUID@@PAPAX@Z| PROC ; CPropertyBag::QueryInterface

; 109  : {

  00000		 |$LN13@QueryInter|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M35021|
  00004	e1b04002	 movs        r4, r2
  00008	e1a03001	 mov         r3, r1
  0000c	e1a05000	 mov         r5, r0

; 110  :     if(!ppv) 

  00010	03a0310e	 moveq       r3, #0xE, 2

; 111  :         return E_POINTER;

  00014	03830901	 orreq       r0, r3, #1, 18

; 118  : }

  00018	08bd4030	 ldmeqia     sp!, {r4, r5, lr}
  0001c	012fff1e	 bxeq        lr

; 112  :     if(riid == IID_IPropertyBag) 

  00020	e59f104c	 ldr         r1, [pc, #0x4C]
  00024	e3a02010	 mov         r2, #0x10
  00028	e1a00003	 mov         r0, r3
  0002c	eb000000	 bl          memcmp
  00030	e3500000	 cmp         r0, #0
  00034	1a000008	 bne         |$LN2@QueryInter|

; 113  :         *ppv = static_cast<IPropertyBag*>(this);	

  00038	e5845000	 str         r5, [r4]

; 116  :     
; 117  :     return AddRef(), S_OK;	

  0003c	e5953000	 ldr         r3, [r5]
  00040	e1a00005	 mov         r0, r5
  00044	e5933004	 ldr         r3, [r3, #4]
  00048	e1a0e00f	 mov         lr, pc
  0004c	e12fff13	 bx          r3
  00050	e3a00000	 mov         r0, #0

; 118  : }

  00054	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00058	e12fff1e	 bx          lr
  0005c		 |$LN2@QueryInter|

; 114  :     else 
; 115  :         return *ppv = 0, E_NOINTERFACE;

  0005c	e3a03000	 mov         r3, #0
  00060	e3a0210a	 mov         r2, #0xA, 2
  00064	e5843000	 str         r3, [r4]
  00068	e3820901	 orr         r0, r2, #1, 18

; 118  : }

  0006c	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00070	e12fff1e	 bx          lr
  00074		 |$LN14@QueryInter|
  00074		 |$LN15@QueryInter|
  00074	00000000	 DCD         |IID_IPropertyBag|
  00078		 |$M35022|

			 ENDP  ; |?QueryInterface@CPropertyBag@@UAAJABU_GUID@@PAPAX@Z|, CPropertyBag::QueryInterface

	EXPORT	|??0IPropertyBag@@QAA@XZ|		; IPropertyBag::IPropertyBag
	EXPORT	|??_7IPropertyBag@@6B@| [ DATA ]	; IPropertyBag::`vftable'
	IMPORT	|_purecall|

  00000			 AREA	 |.pdata|, PDATA
|$T35039| DCD	|$LN7@IPropertyB|
	DCD	0x40000500

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7IPropertyBag@@6B@| DCD |_purecall|			; IPropertyBag::`vftable'
	DCD	|_purecall|
	DCD	|_purecall|
	DCD	|_purecall|
	DCD	|_purecall|
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0IPropertyBag@@QAA@XZ| PROC		; IPropertyBag::IPropertyBag
  00000		 |$LN7@IPropertyB|
  00000		 |$M35036|
  00000	e1a02000	 mov         r2, r0
  00004	e59f3004	 ldr         r3, [pc, #4]
  00008	e5823000	 str         r3, [r2]
  0000c	e12fff1e	 bx          lr
  00010		 |$LN8@IPropertyB|
  00010		 |$LN9@IPropertyB|
  00010	00000000	 DCD         |??_7IPropertyBag@@6B@|
  00014		 |$M35037|

			 ENDP  ; |??0IPropertyBag@@QAA@XZ|, IPropertyBag::IPropertyBag

	IMPORT	|InterlockedDecrement|

  00000			 AREA	 |.pdata|, PDATA
|$T35060| DCD	|$LN11@Release|
	DCD	0x40000f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Release@CPropertyBag@@UAAKXZ| PROC	; CPropertyBag::Release

; 99   : {

  00000		 |$LN11@Release|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M35057|
  00004	e1a04000	 mov         r4, r0

; 100  :     ASSERT(_refCount != 0xFFFFFFFF);
; 101  :     ULONG ret = InterlockedDecrement((LONG *)&_refCount);    

  00008	e2840004	 add         r0, r4, #4
  0000c	eb000000	 bl          InterlockedDecrement
  00010	e1b05000	 movs        r5, r0

; 102  :     if(!ret) 

  00014	1a000005	 bne         |$LN4@Release|

; 103  :         delete this; 

  00018	e3540000	 cmp         r4, #0
  0001c	0a000003	 beq         |$LN4@Release|
  00020	e1a00004	 mov         r0, r4
  00024	eb000000	 bl          |??1CPropertyBag@@QAA@XZ|
  00028	e1a00004	 mov         r0, r4
  0002c	eb000000	 bl          |??3@YAXPAX@Z|
  00030		 |$LN4@Release|

; 104  :     return ret;
; 105  : }

  00030	e1a00005	 mov         r0, r5
  00034	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00038	e12fff1e	 bx          lr
  0003c		 |$M35058|

			 ENDP  ; |?Release@CPropertyBag@@UAAKXZ|, CPropertyBag::Release

	EXPORT	|??0CPropertyBag@@QAA@XZ|		; CPropertyBag::CPropertyBag

  00000			 AREA	 |.pdata|, PDATA
|$T35078| DCD	|$LN9@CPropertyB@2|
	DCD	0x40000800
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0CPropertyBag@@QAA@XZ| PROC		; CPropertyBag::CPropertyBag

; 27   : {       

  00000		 |$LN9@CPropertyB@2|
  00000		 |$M35075|
  00000	e59f3014	 ldr         r3, [pc, #0x14]
  00004	e3a02001	 mov         r2, #1
  00008	e3a01000	 mov         r1, #0
  0000c	e5803000	 str         r3, [r0]
  00010	e5802004	 str         r2, [r0, #4]
  00014	e5801008	 str         r1, [r0, #8]

; 28   : }

  00018	e12fff1e	 bx          lr
  0001c		 |$LN10@CPropertyB@2|
  0001c		 |$LN11@CPropertyB@2|
  0001c	00000000	 DCD         |??_7CPropertyBag@@6B@|
  00020		 |$M35076|

			 ENDP  ; |??0CPropertyBag@@QAA@XZ|, CPropertyBag::CPropertyBag

	END
