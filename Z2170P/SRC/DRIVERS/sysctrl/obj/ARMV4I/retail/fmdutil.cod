; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170\SRC\DRIVERS\sysctrl\fmdutil.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??_C@_1BE@BKKMLFKH@?$AA8?$AA0?$AA6?$AA?5?$AAH?$AAS?$AAM?$AAH?$AAZ?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@HLPDAKHN@?$AA8?$AA0?$AA6?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@FGCEKGOE@?$AA6?$AA2?$AA4?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@EBNODIMD@?$AA4?$AA1?$AA6?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@GGHBGDEP@?$AA2?$AA0?$AA8?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@EKPDPFCF@?$AAR?$AAi?$AAn?$AAg?$AA?5?$AAO?$AAS?$AAC?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.data|, DATA
|g_szOPDescription| DCD |??_C@_1BC@EKPDPFCF@?$AAR?$AAi?$AAn?$AAg?$AA?5?$AAO?$AAS?$AAC?$AA?$AA@|
	DCD	|??_C@_1BA@GGHBGDEP@?$AA2?$AA0?$AA8?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@|
	DCD	|??_C@_1BA@EBNODIMD@?$AA4?$AA1?$AA6?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@|
	DCD	|??_C@_1BA@FGCEKGOE@?$AA6?$AA2?$AA4?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@|
	DCD	|??_C@_1BA@HLPDAKHN@?$AA8?$AA0?$AA6?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@|
	DCD	|??_C@_1BE@BKKMLFKH@?$AA8?$AA0?$AA6?$AA?5?$AAH?$AAS?$AAM?$AAH?$AAZ?$AA?$AA@|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@BKKMLFKH@?$AA8?$AA0?$AA6?$AA?5?$AAH?$AAS?$AAM?$AAH?$AAZ?$AA?$AA@| DCB "8"
	DCB	0x0, "0", 0x0, "6", 0x0, " ", 0x0, "H", 0x0, "S", 0x0, "M"
	DCB	0x0, "H", 0x0, "Z", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@HLPDAKHN@?$AA8?$AA0?$AA6?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| DCB "8"
	DCB	0x0, "0", 0x0, "6", 0x0, " ", 0x0, "M", 0x0, "H", 0x0, "Z"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@FGCEKGOE@?$AA6?$AA2?$AA4?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| DCB "6"
	DCB	0x0, "2", 0x0, "4", 0x0, " ", 0x0, "M", 0x0, "H", 0x0, "Z"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@EBNODIMD@?$AA4?$AA1?$AA6?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| DCB "4"
	DCB	0x0, "1", 0x0, "6", 0x0, " ", 0x0, "M", 0x0, "H", 0x0, "Z"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@GGHBGDEP@?$AA2?$AA0?$AA8?$AA?5?$AAM?$AAH?$AAZ?$AA?$AA@| DCB "2"
	DCB	0x0, "0", 0x0, "8", 0x0, " ", 0x0, "M", 0x0, "H", 0x0, "Z"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@EKPDPFCF@?$AAR?$AAi?$AAn?$AAg?$AA?5?$AAO?$AAS?$AAC?$AA?$AA@| DCB "R"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "O", 0x0, "S"
	DCB	0x0, "C", 0x0, 0x0, 0x0			; `string'
	EXPORT	|FmdUtilSetMFP|
	IMPORT	|MFP_SetActiveMode|
; File c:\wince600\platform\z2170\src\drivers\sysctrl\fmdutil.c

  00000			 AREA	 |.pdata|, PDATA
|$T42652| DCD	|$LN5@FmdUtilSet|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilSetMFP| PROC

; 13   : {

  00000		 |$LN5@FmdUtilSet|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M42649|

; 14   :   MFP_SetActiveMode(PXA_COMPONENT_DATA_FLASH_ID);

  00004	e3a00013	 mov         r0, #0x13
  00008	eb000000	 bl          MFP_SetActiveMode

; 15   : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M42650|

			 ENDP  ; |FmdUtilSetMFP|

	EXPORT	|FmdUtilDmaInit|

  00000			 AREA	 |.pdata|, PDATA
|$T42661| DCD	|$LN5@FmdUtilDma|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilDmaInit| PROC

; 18   : {

  00000		 |$LN5@FmdUtilDma|
  00000		 |$M42658|

; 19   :     return DFC_API_SUCCESS;

  00000	e3a00000	 mov         r0, #0

; 20   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42659|

			 ENDP  ; |FmdUtilDmaInit|

	EXPORT	|FmdUtilDmaDeinit|

  00000			 AREA	 |.pdata|, PDATA
|$T42670| DCD	|$LN5@FmdUtilDma@2|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilDmaDeinit| PROC

; 23   : {

  00000		 |$LN5@FmdUtilDma@2|
  00000		 |$M42667|

; 24   :     return DFC_API_SUCCESS;

  00000	e3a00000	 mov         r0, #0

; 25   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42668|

			 ENDP  ; |FmdUtilDmaDeinit|

	EXPORT	|FmdUtilIntrInit|

  00000			 AREA	 |.pdata|, PDATA
|$T42679| DCD	|$LN5@FmdUtilInt|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilIntrInit| PROC

; 28   : {

  00000		 |$LN5@FmdUtilInt|
  00000		 |$M42676|

; 29   :     return DFC_API_SUCCESS;

  00000	e3a00000	 mov         r0, #0

; 30   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42677|

			 ENDP  ; |FmdUtilIntrInit|

	EXPORT	|FmdUtilIntrDeinit|

  00000			 AREA	 |.pdata|, PDATA
|$T42686| DCD	|$LN5@FmdUtilInt@2|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilIntrDeinit| PROC

; 33   : {

  00000		 |$LN5@FmdUtilInt@2|
  00000		 |$M42683|

; 34   :     
; 35   : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42684|

			 ENDP  ; |FmdUtilIntrDeinit|

	EXPORT	|FmdUtilInitDfcMode|

  00000			 AREA	 |.pdata|, PDATA
|$T42694| DCD	|$LN5@FmdUtilIni|
	DCD	0x40000a00
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilInitDfcMode| PROC

; 38   : {

  00000		 |$LN5@FmdUtilIni|
  00000		 |$M42691|

; 39   :     pMode->enableDMA = 0;

  00000	e3a03000	 mov         r3, #0

; 40   :     pMode->enableINTR=0;    
; 41   :     pMode->enableECC = 1;

  00004	e3a02001	 mov         r2, #1
  00008	e5803000	 str         r3, [r0]
  0000c	e5803004	 str         r3, [r0, #4]
  00010	e5802008	 str         r2, [r0, #8]

; 42   :     pMode->enableSpareArea =1;

  00014	e580200c	 str         r2, [r0, #0xC]

; 43   :     pMode->chipSelect = 0;

  00018	e5803018	 str         r3, [r0, #0x18]

; 44   :     pMode->enableRelocTableUpdate = 0;

  0001c	e5803010	 str         r3, [r0, #0x10]

; 45   :     pMode->enableClockGatingWA = 1;

  00020	e5802014	 str         r2, [r0, #0x14]

; 46   :     return;
; 47   : }

  00024	e12fff1e	 bx          lr
  00028		 |$M42692|

			 ENDP  ; |FmdUtilInitDfcMode|

	EXPORT	|FmdUtilAddrMapping|
	IMPORT	|MmMapIoSpace|

  00000			 AREA	 |.pdata|, PDATA
|$T42706| DCD	|$LN5@FmdUtilAdd|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilAddrMapping| PROC

; 50   : {

  00000		 |$LN5@FmdUtilAdd|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M42703|
  00004	e1a0e001	 mov         lr, r1
  00008	e1a04000	 mov         r4, r0

; 51   :     PHYSICAL_ADDRESS ioPhysicalBase={addr,0};

  0000c	e3a01000	 mov         r1, #0

; 52   :     
; 53   :     *pBase=(UINT32)MmMapIoSpace(ioPhysicalBase, size, FALSE);

  00010	e3a03000	 mov         r3, #0
  00014	e1a0000e	 mov         r0, lr
  00018	eb000000	 bl          MmMapIoSpace
  0001c	e5840000	 str         r0, [r4]

; 54   : 
; 55   : }

  00020	e8bd4010	 ldmia       sp!, {r4, lr}
  00024	e12fff1e	 bx          lr
  00028		 |$M42704|

			 ENDP  ; |FmdUtilAddrMapping|

	EXPORT	|FmdUtilAddrUnMapping|

  00000			 AREA	 |.pdata|, PDATA
|$T42713| DCD	|$LN5@FmdUtilAdd@2|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilAddrUnMapping| PROC

; 58   : {

  00000		 |$LN5@FmdUtilAdd@2|
  00000		 |$M42710|

; 59   :      
; 60   : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42711|

			 ENDP  ; |FmdUtilAddrUnMapping|

	EXPORT	|FmdUtilInitCS|

  00000			 AREA	 |.pdata|, PDATA
|$T42720| DCD	|$LN5@FmdUtilIni@2|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilInitCS| PROC

; 63   : {

  00000		 |$LN5@FmdUtilIni@2|
  00000		 |$M42717|

; 64   :     
; 65   : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42718|

			 ENDP  ; |FmdUtilInitCS|

	EXPORT	|FmdUtilDelCS|

  00000			 AREA	 |.pdata|, PDATA
|$T42727| DCD	|$LN5@FmdUtilDel|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilDelCS| PROC

; 68   : {

  00000		 |$LN5@FmdUtilDel|
  00000		 |$M42724|

; 69   :     
; 70   : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42725|

			 ENDP  ; |FmdUtilDelCS|

	EXPORT	|FmdUtilEnterCS|

  00000			 AREA	 |.pdata|, PDATA
|$T42734| DCD	|$LN5@FmdUtilEnt|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilEnterCS| PROC

; 73   : {

  00000		 |$LN5@FmdUtilEnt|
  00000		 |$M42731|

; 74   :     
; 75   : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42732|

			 ENDP  ; |FmdUtilEnterCS|

	EXPORT	|FmdUtilLeaveCS|

  00000			 AREA	 |.pdata|, PDATA
|$T42741| DCD	|$LN5@FmdUtilLea|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilLeaveCS| PROC

; 78   : {

  00000		 |$LN5@FmdUtilLea|
  00000		 |$M42738|

; 79   :     
; 80   : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42739|

			 ENDP  ; |FmdUtilLeaveCS|

	EXPORT	|FmdUtilWriteProtect|

  00000			 AREA	 |.pdata|, PDATA
|$T42750| DCD	|$LN5@FmdUtilWri|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilWriteProtect| PROC

; 84   : {

  00000		 |$LN5@FmdUtilWri|
  00000		 |$M42747|

; 85   :     return TRUE;

  00000	e3a00001	 mov         r0, #1

; 86   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42748|

			 ENDP  ; |FmdUtilWriteProtect|

	EXPORT	|FmdUtilEraseProtect|

  00000			 AREA	 |.pdata|, PDATA
|$T42759| DCD	|$LN5@FmdUtilEra|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilEraseProtect| PROC

; 89   : {

  00000		 |$LN5@FmdUtilEra|
  00000		 |$M42756|

; 90   :     return TRUE;

  00000	e3a00001	 mov         r0, #1

; 91   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42757|

			 ENDP  ; |FmdUtilEraseProtect|

	EXPORT	|FmdUtilWaitForInterrupt|

  00000			 AREA	 |.pdata|, PDATA
|$T42768| DCD	|$LN5@FmdUtilWai|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilWaitForInterrupt| PROC

; 94   : {

  00000		 |$LN5@FmdUtilWai|
  00000		 |$M42765|

; 95   :     //We will never reach here
; 96   :     return DFC_API_FAILURE;

  00000	e3a00001	 mov         r0, #1

; 97   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42766|

			 ENDP  ; |FmdUtilWaitForInterrupt|

	EXPORT	|FmdUtilWaitForDmaDone|

  00000			 AREA	 |.pdata|, PDATA
|$T42777| DCD	|$LN5@FmdUtilWai@2|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilWaitForDmaDone| PROC

; 100  : {

  00000		 |$LN5@FmdUtilWai@2|
  00000		 |$M42774|

; 101  :     //We will never reach here
; 102  :     return DFC_API_FAILURE;

  00000	e3a00001	 mov         r0, #1

; 103  : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42775|

			 ENDP  ; |FmdUtilWaitForDmaDone|

	EXPORT	|FmdUtilInterruptDone|

  00000			 AREA	 |.pdata|, PDATA
|$T42784| DCD	|$LN5@FmdUtilInt@3|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilInterruptDone| PROC

; 106  : {

  00000		 |$LN5@FmdUtilInt@3|
  00000		 |$M42781|

; 107  : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42782|

			 ENDP  ; |FmdUtilInterruptDone|

	EXPORT	|FmdUtilClearEvent|

  00000			 AREA	 |.pdata|, PDATA
|$T42791| DCD	|$LN5@FmdUtilCle|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilClearEvent| PROC

; 109  : {

  00000		 |$LN5@FmdUtilCle|
  00000		 |$M42788|

; 110  :    
; 111  : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42789|

			 ENDP  ; |FmdUtilClearEvent|

	EXPORT	|FmdUtilIpmSet|

  00000			 AREA	 |.pdata|, PDATA
|$T42798| DCD	|$LN5@FmdUtilIpm|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilIpmSet| PROC

; 113  : {

  00000		 |$LN5@FmdUtilIpm|
  00000		 |$M42795|

; 114  : }

  00000	e12fff1e	 bx          lr
  00004		 |$M42796|

			 ENDP  ; |FmdUtilIpmSet|

	EXPORT	|FmdUtilIpmInit|

  00000			 AREA	 |.pdata|, PDATA
|$T42807| DCD	|$LN5@FmdUtilIpm@2|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |FmdUtilIpmInit| PROC

; 116  : {

  00000		 |$LN5@FmdUtilIpm@2|
  00000		 |$M42804|

; 117  :     return TRUE;

  00000	e3a00001	 mov         r0, #1

; 118  : }

  00004	e12fff1e	 bx          lr
  00008		 |$M42805|

			 ENDP  ; |FmdUtilIpmInit|

	END
