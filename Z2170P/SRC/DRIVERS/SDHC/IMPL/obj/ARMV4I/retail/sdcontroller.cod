; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\DRIVERS\SDHC\IMPL\sdcontroller.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|?m_cmdArrSize@CSDIOControllerBase@@2KB| [ DATA ] ; CSDIOControllerBase::m_cmdArrSize
	EXPORT	|DEVICE_IFC_TWL_GUID| [ DATA ]

  00000			 AREA	 |.rdata|, DATA, READONLY
|DEVICE_IFC_TWL_GUID| DCD 0xdef0a04b
	DCW	0xb967
	DCW	0x43db
	DCB	0x95
	DCB	0x9e
	DCB	0xd9
	DCB	0xfc
	DCB	0x62
	DCB	0x25
	DCB	0xcd
	DCB	0xeb

  00000			 AREA	 |.rdata|, DATA, READONLY
|?m_cmdArrSize@CSDIOControllerBase@@2KB| DCD 0x20	; CSDIOControllerBase::m_cmdArrSize
	EXPORT	|SetEvent|
	IMPORT	|EventModify|
; File c:\wince600\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.pdata|, PDATA
|$T43683| DCD	|$LN5@SetEvent|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |SetEvent| PROC

; 235  : _inline BOOL SetEvent(HANDLE h) {

  00000		 |$LN5@SetEvent|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M43680|

; 236  : 	return EventModify(h,EVENT_SET);

  00004	e3a01003	 mov         r1, #3
  00008	eb000000	 bl          EventModify

; 237  : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M43681|

			 ENDP  ; |SetEvent|

	EXPORT	|GetCurrentThread|

  00000			 AREA	 |.pdata|, PDATA
|$T43692| DCD	|$LN5@GetCurrent|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |GetCurrentThread| PROC

; 351  : _inline HANDLE GetCurrentThread(void) {

  00000		 |$LN5@GetCurrent|
  00000		 |$M43689|

; 352  : 	return ((HANDLE)(SH_CURTHREAD+SYS_HANDLE_BASE));

  00000	e3a00041	 mov         r0, #0x41

; 353  : }

  00004	e12fff1e	 bx          lr
  00008		 |$M43690|

			 ENDP  ; |GetCurrentThread|

	EXPORT	|??0CSDIOController@@QAA@XZ|		; CSDIOController::CSDIOController
	EXPORT	|??_7CSDIOController@@6B@| [ DATA ]	; CSDIOController::`vftable'
	EXPORT	|?InitializeHardware@CSDIOController@@MAAHXZ| ; CSDIOController::InitializeHardware
	EXPORT	|?DeinitializeHardware@CSDIOController@@MAAXXZ| ; CSDIOController::DeinitializeHardware
	EXPORT	|?IsWriteProtected@CSDIOController@@MAAHXZ| ; CSDIOController::IsWriteProtected
	EXPORT	|?SDCardDetect@CSDIOController@@MAAHXZ|	; CSDIOController::SDCardDetect
	EXPORT	|?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ| ; CSDIOController::SDHCCardDetectIstThreadImpl
	EXPORT	|?TurnCardPowerOn@CSDIOController@@MAAXXZ| ; CSDIOController::TurnCardPowerOn
	EXPORT	|?TurnCardPowerOff@CSDIOController@@MAAXXZ| ; CSDIOController::TurnCardPowerOff
	EXPORT	|?PreparePowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z| ; CSDIOController::PreparePowerChange
	EXPORT	|?PostPowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z| ; CSDIOController::PostPowerChange
	IMPORT	|??0CSDIOControllerBase@@QAA@XZ|	; CSDIOControllerBase::CSDIOControllerBase
	IMPORT	|?InterpretCapabilities@CSDIOControllerBase@@UAAHXZ| ; CSDIOControllerBase::InterpretCapabilities
; File c:\wince600\platform\z2170p\src\drivers\sdhc\impl\sdcontroller.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T43702| DCD	|$LN5@CSDIOContr|
	DCD	0x40000901

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7CSDIOController@@6B@| DCD |?InitializeHardware@CSDIOController@@MAAHXZ| ; CSDIOController::`vftable'
	DCD	|?DeinitializeHardware@CSDIOController@@MAAXXZ|
	DCD	|?IsWriteProtected@CSDIOController@@MAAHXZ|
	DCD	|?SDCardDetect@CSDIOController@@MAAHXZ|
	DCD	|?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ|
	DCD	|?TurnCardPowerOn@CSDIOController@@MAAXXZ|
	DCD	|?TurnCardPowerOff@CSDIOController@@MAAXXZ|
	DCD	|?PreparePowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z|
	DCD	|?PostPowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z|
	DCD	|?InterpretCapabilities@CSDIOControllerBase@@UAAHXZ|
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0CSDIOController@@QAA@XZ| PROC	; CSDIOController::CSDIOController

; 34   : {

  00000		 |$LN5@CSDIOContr|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43699|
  00004	e1a04000	 mov         r4, r0
  00008	eb000000	 bl          |??0CSDIOControllerBase@@QAA@XZ|
  0000c	e59f300c	 ldr         r3, [pc, #0xC]

; 35   : }

  00010	e1a00004	 mov         r0, r4
  00014	e5843000	 str         r3, [r4]
  00018	e8bd4010	 ldmia       sp!, {r4, lr}
  0001c	e12fff1e	 bx          lr
  00020		 |$LN6@CSDIOContr|
  00020		 |$LN7@CSDIOContr|
  00020	00000000	 DCD         |??_7CSDIOController@@6B@|
  00024		 |$M43700|

			 ENDP  ; |??0CSDIOController@@QAA@XZ|, CSDIOController::CSDIOController

	EXPORT	|??1CSDIOController@@QAA@XZ|		; CSDIOController::~CSDIOController
	IMPORT	|??1CSDIOControllerBase@@QAA@XZ|	; CSDIOControllerBase::~CSDIOControllerBase

  00000			 AREA	 |.pdata|, PDATA
|$T43712| DCD	|$LN5@CSDIOContr@2|
	DCD	0x40000801
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1CSDIOController@@QAA@XZ| PROC	; CSDIOController::~CSDIOController

; 38   : {

  00000		 |$LN5@CSDIOContr@2|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M43709|
  00004	e1a02000	 mov         r2, r0
  00008	e59f300c	 ldr         r3, [pc, #0xC]

; 39   : }

  0000c	e5823000	 str         r3, [r2]
  00010	eb000000	 bl          |??1CSDIOControllerBase@@QAA@XZ|
  00014	e49de004	 ldr         lr, [sp], #4
  00018	e12fff1e	 bx          lr
  0001c		 |$LN6@CSDIOContr@2|
  0001c		 |$LN7@CSDIOContr@2|
  0001c	00000000	 DCD         |??_7CSDIOController@@6B@|
  00020		 |$M43710|

			 ENDP  ; |??1CSDIOController@@QAA@XZ|, CSDIOController::~CSDIOController

	EXPORT	|?InitializeWPDetect@CSDIOController@@IAAHXZ| ; CSDIOController::InitializeWPDetect
	IMPORT	|GPIOSetMode|

  00000			 AREA	 |.pdata|, PDATA
|$T43724| DCD	|$LN6@Initialize|
	DCD	0x40001001
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?InitializeWPDetect@CSDIOController@@IAAHXZ| PROC ; CSDIOController::InitializeWPDetect

; 42   : {

  00000		 |$LN6@Initialize|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43721|
  00004	e1a04000	 mov         r4, r0

; 43   :     if (m_dwCardWPGPIO != (DWORD) MMC_NO_GPIO_CARD_WP)

  00008	e59411e8	 ldr         r1, [r4, #0x1E8]
  0000c	e3710001	 cmn         r1, #1
  00010	0a000007	 beq         |$LN1@Initialize|

; 44   :     {
; 45   :         GPIOSetMode( m_hGPIO, m_dwCardWPGPIO, GPIO_DIR_INPUT );

  00014	e5940164	 ldr         r0, [r4, #0x164]
  00018	e3a02001	 mov         r2, #1
  0001c	eb000000	 bl          GPIOSetMode

; 46   :         IsWriteProtected();

  00020	e5943000	 ldr         r3, [r4]
  00024	e1a00004	 mov         r0, r4
  00028	e5933008	 ldr         r3, [r3, #8]
  0002c	e1a0e00f	 mov         lr, pc
  00030	e12fff13	 bx          r3
  00034		 |$LN1@Initialize|

; 47   :     }
; 48   :     return TRUE;

  00034	e3a00001	 mov         r0, #1

; 49   : }

  00038	e8bd4010	 ldmia       sp!, {r4, lr}
  0003c	e12fff1e	 bx          lr
  00040		 |$M43722|

			 ENDP  ; |?InitializeWPDetect@CSDIOController@@IAAHXZ|, CSDIOController::InitializeWPDetect

	EXPORT	|?DeInitializeWPDetect@CSDIOController@@IAAHXZ| ; CSDIOController::DeInitializeWPDetect

  00000			 AREA	 |.pdata|, PDATA
|$T43733| DCD	|$LN5@DeInitiali|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?DeInitializeWPDetect@CSDIOController@@IAAHXZ| PROC ; CSDIOController::DeInitializeWPDetect

; 52   : {

  00000		 |$LN5@DeInitiali|
  00000		 |$M43730|

; 53   :     return TRUE;

  00000	e3a00001	 mov         r0, #1

; 54   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M43731|

			 ENDP  ; |?DeInitializeWPDetect@CSDIOController@@IAAHXZ|, CSDIOController::DeInitializeWPDetect

	IMPORT	|GPIOGetBit|

  00000			 AREA	 |.pdata|, PDATA
|$T43744| DCD	|$LN8@IsWritePro|
	DCD	0x40000f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?IsWriteProtected@CSDIOController@@MAAHXZ| PROC ; CSDIOController::IsWriteProtected

; 58   : {

  00000		 |$LN8@IsWritePro|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43741|
  00004	e1a04000	 mov         r4, r0

; 59   :     BOOL fWriteProtected;
; 60   : 
; 61   :     if (m_dwCardWPGPIO == MMC_NO_GPIO_CARD_WP)

  00008	e59411e8	 ldr         r1, [r4, #0x1E8]
  0000c	e3710001	 cmn         r1, #1

; 62   : 	    return FALSE;

  00010	0a000006	 beq         |$LN2@IsWritePro|

; 63   : 
; 64   :     if ( GPIOGetBit( m_hGPIO, m_dwCardWPGPIO ) == m_dwCardWriteProtectedState )

  00014	e5940164	 ldr         r0, [r4, #0x164]
  00018	eb000000	 bl          GPIOGetBit
  0001c	e59431e0	 ldr         r3, [r4, #0x1E0]
  00020	e1500003	 cmp         r0, r3

; 65   :     {
; 66   :         DEBUGMSG(SDCARD_ZONE_INIT, (TEXT("IsWriteProtected: YES.\r\n")));
; 67   :         #ifdef ENABLE_RETAIL_OUTPUT
; 68   :             RETAILMSG(1, (TEXT("IsWriteProtected(%d): YES.\r\n"), m_dwCardWPGPIO));
; 69   :         #endif
; 70   :         fWriteProtected = TRUE;

  00024	03a00001	 moveq       r0, #1

; 79   :     }
; 80   : 
; 81   :     return fWriteProtected;
; 82   : }

  00028	08bd4010	 ldmeqia     sp!, {r4, lr}
  0002c	012fff1e	 bxeq        lr
  00030		 |$LN2@IsWritePro|

; 71   :     }
; 72   :     else
; 73   :     {
; 74   :         DEBUGMSG(SDCARD_ZONE_INIT, (TEXT("IsWriteProtected: NO.\r\n")));
; 75   :         #ifdef ENABLE_RETAIL_OUTPUT
; 76   :             RETAILMSG(1, (TEXT("IsWriteProtected(%d): NO.\r\n"), m_dwCardWPGPIO));
; 77   :         #endif
; 78   :         fWriteProtected = FALSE;

  00030	e3a00000	 mov         r0, #0

; 79   :     }
; 80   : 
; 81   :     return fWriteProtected;
; 82   : }

  00034	e8bd4010	 ldmia       sp!, {r4, lr}
  00038	e12fff1e	 bx          lr
  0003c		 |$M43742|

			 ENDP  ; |?IsWriteProtected@CSDIOController@@MAAHXZ|, CSDIOController::IsWriteProtected


  00000			 AREA	 |.pdata|, PDATA
|$T43756| DCD	|$LN7@SDCardDete|
	DCD	0x40000c01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?SDCardDetect@CSDIOController@@MAAHXZ| PROC ; CSDIOController::SDCardDetect

; 86   : {

  00000		 |$LN7@SDCardDete|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43753|
  00004	e1a04000	 mov         r4, r0

; 87   :     return GPIOGetBit(m_hGPIO, m_dwCardDetectGPIO) == m_dwCardInsertedGPIOState;

  00008	e59411e4	 ldr         r1, [r4, #0x1E4]
  0000c	e5940164	 ldr         r0, [r4, #0x164]
  00010	eb000000	 bl          GPIOGetBit
  00014	e59431dc	 ldr         r3, [r4, #0x1DC]
  00018	e1500003	 cmp         r0, r3
  0001c	03a00001	 moveq       r0, #1

; 88   : }

  00020	08bd4010	 ldmeqia     sp!, {r4, lr}

; 87   :     return GPIOGetBit(m_hGPIO, m_dwCardDetectGPIO) == m_dwCardInsertedGPIOState;

  00024	13a00000	 movne       r0, #0

; 88   : }

  00028	18bd4010	 ldmneia     sp!, {r4, lr}
  0002c	e12fff1e	 bx          lr
  00030		 |$M43754|

			 ENDP  ; |?SDCardDetect@CSDIOController@@MAAHXZ|, CSDIOController::SDCardDetect

	EXPORT	|?InitializeCardDetect@CSDIOController@@IAAHXZ| ; CSDIOController::InitializeCardDetect
	IMPORT	|GPIOPullup|

  00000			 AREA	 |.pdata|, PDATA
|$T43766| DCD	|$LN5@Initialize@2|
	DCD	0x40000d01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?InitializeCardDetect@CSDIOController@@IAAHXZ| PROC ; CSDIOController::InitializeCardDetect

; 92   : {

  00000		 |$LN5@Initialize@2|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43763|
  00004	e1a04000	 mov         r4, r0

; 93   :     GPIOSetMode(m_hGPIO, m_dwCardDetectGPIO, GPIO_DIR_INPUT | GPIO_INT_LOW_HIGH | GPIO_INT_HIGH_LOW | GPIO_DEBOUNCE_ENABLE);

  00008	e59411e4	 ldr         r1, [r4, #0x1E4]
  0000c	e5940164	 ldr         r0, [r4, #0x164]
  00010	e3a02027	 mov         r2, #0x27
  00014	eb000000	 bl          GPIOSetMode

; 94   :     GPIOPullup(m_hGPIO, m_dwCardDetectGPIO, TRUE);

  00018	e59411e4	 ldr         r1, [r4, #0x1E4]
  0001c	e5940164	 ldr         r0, [r4, #0x164]
  00020	e3a02001	 mov         r2, #1
  00024	eb000000	 bl          GPIOPullup

; 95   :     return TRUE;

  00028	e3a00001	 mov         r0, #1

; 96   : }

  0002c	e8bd4010	 ldmia       sp!, {r4, lr}
  00030	e12fff1e	 bx          lr
  00034		 |$M43764|

			 ENDP  ; |?InitializeCardDetect@CSDIOController@@IAAHXZ|, CSDIOController::InitializeCardDetect

	EXPORT	|?DeInitializeCardDetect@CSDIOController@@IAAHXZ| ; CSDIOController::DeInitializeCardDetect
	IMPORT	|GPIOInterruptDisable|
	IMPORT	|GPIOInterruptMask|
	IMPORT	|GPIOInterruptWakeUp|

  00000			 AREA	 |.pdata|, PDATA
|$T43776| DCD	|$LN8@DeInitiali@2|
	DCD	0x40001901
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?DeInitializeCardDetect@CSDIOController@@IAAHXZ| PROC ; CSDIOController::DeInitializeCardDetect

; 100  : {

  00000		 |$LN8@DeInitiali@2|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43773|
  00004	e1a04000	 mov         r4, r0

; 101  :     if ( m_hGPIO )

  00008	e5943164	 ldr         r3, [r4, #0x164]
  0000c	e1b00003	 movs        r0, r3
  00010	0a000010	 beq         |$LN1@DeInitiali@2|

; 102  :     {
; 103  :         // disable wakeup on card detect interrupt
; 104  :         if ( m_dwWakeupSources & WAKEUP_CARD_INSERT_REMOVAL )

  00014	e59430e8	 ldr         r3, [r4, #0xE8]
  00018	e3130002	 tst         r3, #2

; 105  :         {
; 106  :             GPIOInterruptWakeUp(m_hGPIO, m_dwCardDetectGPIO, m_dwCDSysintr, FALSE);

  0001c	15942214	 ldrne       r2, [r4, #0x214]
  00020	159411e4	 ldrne       r1, [r4, #0x1E4]
  00024	13a03000	 movne       r3, #0
  00028	1b000000	 blne        GPIOInterruptWakeUp

; 107  :         }
; 108  : 
; 109  :         GPIOInterruptMask(m_hGPIO, m_dwCardDetectGPIO, m_dwCDSysintr, TRUE);

  0002c	e5942214	 ldr         r2, [r4, #0x214]
  00030	e59411e4	 ldr         r1, [r4, #0x1E4]
  00034	e5940164	 ldr         r0, [r4, #0x164]
  00038	e3a03001	 mov         r3, #1
  0003c	eb000000	 bl          GPIOInterruptMask

; 110  :         if (m_hCardDetectEvent != NULL)

  00040	e5943120	 ldr         r3, [r4, #0x120]
  00044	e3530000	 cmp         r3, #0

; 111  :         {
; 112  :             GPIOInterruptDisable(m_hGPIO, m_dwCardDetectGPIO, m_dwCDSysintr);

  00048	15942214	 ldrne       r2, [r4, #0x214]
  0004c	159411e4	 ldrne       r1, [r4, #0x1E4]
  00050	15940164	 ldrne       r0, [r4, #0x164]
  00054	1b000000	 blne        GPIOInterruptDisable
  00058		 |$LN1@DeInitiali@2|

; 113  :         }
; 114  :     }
; 115  :     return TRUE;

  00058	e3a00001	 mov         r0, #1

; 116  : }

  0005c	e8bd4010	 ldmia       sp!, {r4, lr}
  00060	e12fff1e	 bx          lr
  00064		 |$M43774|

			 ENDP  ; |?DeInitializeCardDetect@CSDIOController@@IAAHXZ|, CSDIOController::DeInitializeCardDetect

	EXPORT	|??_C@_1JE@NFCEEMOO@?$AAN?$AAo?$AA?5?$AAc?$AAa?$AAr?$AAd?$AA?5?$AAd?$AAe?$AAt?$AAe?$AAc?$AAt?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAp?$AAi?$AAn?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAs?$AAt?$AAa?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1II@LJAGNIMF@?$AAN?$AAo?$AA?5?$AAw?$AAr?$AAi?$AAt?$AAe?$AA?5?$AAp?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAe?$AAl?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@NBAOLHFO@?$AAC?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAd?$AAr?$AAi?$AAv?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|Sleep|
	IMPORT	|GetTickCount|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|GPIOOpen|

  00000			 AREA	 |.pdata|, PDATA
|$T43798| DCD	|$LN25@Initialize@3|
	DCD	0x40003701

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JE@NFCEEMOO@?$AAN?$AAo?$AA?5?$AAc?$AAa?$AAr?$AAd?$AA?5?$AAd?$AAe?$AAt?$AAe?$AAc?$AAt?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAp?$AAi?$AAn?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAs?$AAt?$AAa?$AAt@| DCB "N"
	DCB	0x0, "o", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "c"
	DCB	0x0, "t", 0x0, " ", 0x0, "G", 0x0, "P", 0x0, "I", 0x0, "O"
	DCB	0x0, " ", 0x0, "p", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "a"
	DCB	0x0, "n", 0x0, "d", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "s", 0x0, "l"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "(", 0x0, "c", 0x0, "h", 0x0, "e", 0x0, "c", 0x0, "k"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s"
	DCB	0x0, "t", 0x0, "r", 0x0, "y", 0x0, ")", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1II@LJAGNIMF@?$AAN?$AAo?$AA?5?$AAw?$AAr?$AAi?$AAt?$AAe?$AA?5?$AAp?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAe?$AAl?$AAe@| DCB "N"
	DCB	0x0, "o", 0x0, " ", 0x0, "w", 0x0, "r", 0x0, "i", 0x0, "t"
	DCB	0x0, "e", 0x0, " ", 0x0, "p", 0x0, "r", 0x0, "o", 0x0, "t"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, " ", 0x0, "G", 0x0, "P"
	DCB	0x0, "I", 0x0, "O", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "s", 0x0, "l"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " "
	DCB	0x0, "(", 0x0, "c", 0x0, "h", 0x0, "e", 0x0, "c", 0x0, "k"
	DCB	0x0, " ", 0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s"
	DCB	0x0, "t", 0x0, "r", 0x0, "y", 0x0, ")", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@NBAOLHFO@?$AAC?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAd?$AAr?$AAi?$AAv?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@| DCB "C"
	DCB	0x0, "a", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " ", 0x0, "o"
	DCB	0x0, "p", 0x0, "e", 0x0, "n", 0x0, " ", 0x0, "G", 0x0, "P"
	DCB	0x0, "I", 0x0, "O", 0x0, " ", 0x0, "d", 0x0, "r", 0x0, "i"
	DCB	0x0, "v", 0x0, "e", 0x0, "r", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?InitializeHardware@CSDIOController@@MAAHXZ| PROC ; CSDIOController::InitializeHardware

; 120  : {

  00000		 |$LN25@Initialize@3|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M43795|
  00004	e1a04000	 mov         r4, r0

; 121  :     DWORD               dwCountStart;
; 122  : 
; 123  :     if (INVALID_HANDLE_VALUE == (m_hGPIO = GPIOOpen()))

  00008	eb000000	 bl          GPIOOpen
  0000c	e5840164	 str         r0, [r4, #0x164]
  00010	e3700001	 cmn         r0, #1
  00014	1a000002	 bne         |$LN9@Initialize@3|

; 124  : 	{
; 125  :         RETAILMSG(1, (L"Can't open GPIO driver\r\n"));

  00018	e59f00b8	 ldr         r0, [pc, #0xB8]
  0001c	eb000000	 bl          NKDbgPrintfW

; 126  : 		goto cleanUp;

  00020	ea000027	 b           |$cleanUp$42868|
  00024		 |$LN9@Initialize@3|

; 127  : 	}
; 128  : 
; 129  :     // check for required configuration values
; 130  :     if (m_dwCardDetectGPIO == MMC_NO_GPIO_CARD_DETECT || m_dwCardInsertedGPIOState == MMC_NO_GPIO_CARD_DETECT_STATE)

  00024	e59431e4	 ldr         r3, [r4, #0x1E4]
  00028	e3730001	 cmn         r3, #1
  0002c	0a000021	 beq         |$LN6@Initialize@3|
  00030	e59431dc	 ldr         r3, [r4, #0x1DC]
  00034	e3730001	 cmn         r3, #1
  00038	0a00001e	 beq         |$LN6@Initialize@3|

; 134  : 	}
; 135  : 	
; 136  :     if (m_dwCardWPGPIO != MMC_NO_GPIO_CARD_WP && m_dwCardWriteProtectedState == MMC_NO_GPIO_CARD_WP_STATE)

  0003c	e59431e8	 ldr         r3, [r4, #0x1E8]
  00040	e3730001	 cmn         r3, #1
  00044	0a000003	 beq         |$LN5@Initialize@3|
  00048	e59431e0	 ldr         r3, [r4, #0x1E0]
  0004c	e3730001	 cmn         r3, #1

; 137  : 	{
; 138  :         RETAILMSG(1, (L"No write protect GPIO state selected for slot %d (check registry)\r\n", m_dwSlot));

  00050	059f007c	 ldreq       r0, [pc, #0x7C]
  00054	0a000018	 beq         |$LN20@Initialize@3|
  00058		 |$LN5@Initialize@3|

; 139  : 	    return FALSE;
; 140  : 	}
; 141  : 
; 142  :     // Reset the controller
; 143  :     OUTREG32(&m_pbRegisters->MMCHS_SYSCONFIG, MMCHS_SYSCONFIG_SOFTRESET);

  00058	e594315c	 ldr         r3, [r4, #0x15C]
  0005c	e3a02002	 mov         r2, #2
  00060	e5832010	 str         r2, [r3, #0x10]

; 144  : 
; 145  :     // calculate timeout conditions
; 146  :     dwCountStart = GetTickCount();

  00064	eb000000	 bl          GetTickCount

; 147  : 
; 148  :     // Verify that reset has completed.
; 149  :     while (!(INREG32(&m_pbRegisters->MMCHS_SYSSTATUS) & MMCHS_SYSSTATUS_RESETDONE))

  00068	e1a05000	 mov         r5, r0
  0006c	ea000006	 b           |$LN22@Initialize@3|
  00070		 |$LL4@Initialize@3|

; 150  :     {
; 151  :         Sleep(0);

  00070	e3a00000	 mov         r0, #0
  00074	eb000000	 bl          Sleep

; 152  : 
; 153  :         // check for timeout
; 154  :         if ((GetTickCount() - dwCountStart) > m_dwMaxTimeout)

  00078	eb000000	 bl          GetTickCount
  0007c	e5942150	 ldr         r2, [r4, #0x150]
  00080	e0403005	 sub         r3, r0, r5
  00084	e1530002	 cmp         r3, r2
  00088	8a00000d	 bhi         |$cleanUp$42868|
  0008c		 |$LN22@Initialize@3|
  0008c	e594315c	 ldr         r3, [r4, #0x15C]
  00090	e5933014	 ldr         r3, [r3, #0x14]
  00094	e3130001	 tst         r3, #1
  00098	0afffff4	 beq         |$LL4@Initialize@3|

; 155  :         {
; 156  :             DEBUGMSG(ZONE_ENABLE_ERROR, (TEXT("InitializeModule() - exit: TIMEOUT.\r\n")));
; 157  :             goto cleanUp;
; 158  :         }
; 159  :     }
; 160  : 
; 161  :     InitializeCardDetect();

  0009c	e1a00004	 mov         r0, r4
  000a0	eb000000	 bl          |?InitializeCardDetect@CSDIOController@@IAAHXZ|

; 162  :     InitializeWPDetect();

  000a4	e1a00004	 mov         r0, r4
  000a8	eb000000	 bl          |?InitializeWPDetect@CSDIOController@@IAAHXZ|

; 163  : 
; 164  :     return TRUE;

  000ac	e3a00001	 mov         r0, #1

; 165  : cleanUp:
; 166  :     return FALSE;
; 167  : }

  000b0	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  000b4	e12fff1e	 bx          lr
  000b8		 |$LN6@Initialize@3|

; 131  : 	{
; 132  :         RETAILMSG(1, (L"No card detect GPIO pin and state selected for slot %d (check registry)\r\n", m_dwSlot));

  000b8	e59f0010	 ldr         r0, [pc, #0x10]
  000bc		 |$LN20@Initialize@3|
  000bc	e5941170	 ldr         r1, [r4, #0x170]
  000c0	eb000000	 bl          NKDbgPrintfW
  000c4		 |$cleanUp$42868|

; 133  : 	    return FALSE;

  000c4	e3a00000	 mov         r0, #0

; 165  : cleanUp:
; 166  :     return FALSE;
; 167  : }

  000c8	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  000cc	e12fff1e	 bx          lr
  000d0		 |$LN26@Initialize@3|
  000d0		 |$LN27@Initialize@3|
  000d0	00000000	 DCD         |??_C@_1JE@NFCEEMOO@?$AAN?$AAo?$AA?5?$AAc?$AAa?$AAr?$AAd?$AA?5?$AAd?$AAe?$AAt?$AAe?$AAc?$AAt?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAp?$AAi?$AAn?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAs?$AAt?$AAa?$AAt@|
  000d4		 |$LN28@Initialize@3|
  000d4	00000000	 DCD         |??_C@_1II@LJAGNIMF@?$AAN?$AAo?$AA?5?$AAw?$AAr?$AAi?$AAt?$AAe?$AA?5?$AAp?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAe?$AA?5?$AAs?$AAe?$AAl?$AAe@|
  000d8		 |$LN29@Initialize@3|
  000d8	00000000	 DCD         |??_C@_1DC@NBAOLHFO@?$AAC?$AAa?$AAn?$AA?8?$AAt?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AAG?$AAP?$AAI?$AAO?$AA?5?$AAd?$AAr?$AAi?$AAv?$AAe?$AAr?$AA?$AN?$AA?6?$AA?$AA@|
  000dc		 |$M43796|

			 ENDP  ; |?InitializeHardware@CSDIOController@@MAAHXZ|, CSDIOController::InitializeHardware


  00000			 AREA	 |.pdata|, PDATA
|$T43813| DCD	|$LN7@Deinitiali|
	DCD	0x40000401
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?DeinitializeHardware@CSDIOController@@MAAXXZ| PROC ; CSDIOController::DeinitializeHardware

; 170  : {

  00000		 |$LN7@Deinitiali|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M43810|

; 171  :     DeInitializeCardDetect();

  00004	eb000000	 bl          |?DeInitializeCardDetect@CSDIOController@@IAAHXZ|

; 172  :     DeInitializeWPDetect();
; 173  : }

  00008	e49de004	 ldr         lr, [sp], #4
  0000c	e12fff1e	 bx          lr
  00010		 |$M43811|

			 ENDP  ; |?DeinitializeHardware@CSDIOController@@MAAXXZ|, CSDIOController::DeinitializeHardware

	EXPORT	|??_C@_1MK@CPAEOPKO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd@| [ DATA ] ; `string'
	IMPORT	|GPIOInterruptDone|
	IMPORT	|LeaveCriticalSection|
	IMPORT	|?CardInterrupt@CSDIOControllerBase@@QAAXH@Z| ; CSDIOControllerBase::CardInterrupt
	IMPORT	|EnterCriticalSection|
	IMPORT	|WaitForSingleObject|
	IMPORT	|dpCurSettings|
	IMPORT	|GPIOInterruptInitialize|
	IMPORT	|CeSetThreadPriority|
; File c:\wince600\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.pdata|, PDATA
|$T43843| DCD	|$LN31@SDHCCardDe|
	DCD	0x40004f01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1MK@CPAEOPKO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C"
	DCB	0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l"
	DCB	0x0, "l", 0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "S"
	DCB	0x0, "D", 0x0, "H", 0x0, "C", 0x0, "C", 0x0, "a", 0x0, "r"
	DCB	0x0, "d", 0x0, "D", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "c"
	DCB	0x0, "t", 0x0, "I", 0x0, "s", 0x0, "t", 0x0, "T", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, "I", 0x0, "m"
	DCB	0x0, "p", 0x0, "l", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "a"
	DCB	0x0, "s", 0x0, "s", 0x0, "o", 0x0, "c", 0x0, "i", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "e", 0x0, "v", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, " ", 0x0, "w", 0x0, "i", 0x0, "t"
	DCB	0x0, "h", 0x0, " ", 0x0, "C", 0x0, "D", 0x0, " ", 0x0, "G"
	DCB	0x0, "P", 0x0, "I", 0x0, "O", 0x0, " ", 0x0, "i", 0x0, "n"
	DCB	0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "u", 0x0, "p"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy
; File c:\wince600\platform\z2170p\src\drivers\sdhc\impl\sdcontroller.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ| PROC ; CSDIOController::SDHCCardDetectIstThreadImpl

; 181  : {

  00000		 |$LN31@SDHCCardDe|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M43840|
  00004	e1a04000	 mov         r4, r0

; 182  :     BOOL    bDebounce       = TRUE;
; 183  : 
; 184  :     if (!CeSetThreadPriority(GetCurrentThread(), m_dwCDPriority ))

  00008	e594112c	 ldr         r1, [r4, #0x12C]
  0000c	e3a00041	 mov         r0, #0x41
  00010	e3a05001	 mov         r5, #1
  00014	eb000000	 bl          CeSetThreadPriority

; 185  :     {
; 186  :         DEBUGMSG(SDCARD_ZONE_WARN, (TEXT("SDHCCardDetectIstThread: warning, failed to set CEThreadPriority\r\n")));
; 187  :     }
; 188  : 
; 189  :     // Associate event with GPIO interrupt
; 190  :     if (!GPIOInterruptInitialize(m_hGPIO, m_dwCardDetectGPIO, &m_dwCDSysintr, m_hCardDetectEvent)) 

  00018	e5943120	 ldr         r3, [r4, #0x120]
  0001c	e59411e4	 ldr         r1, [r4, #0x1E4]
  00020	e5940164	 ldr         r0, [r4, #0x164]
  00024	e2842f85	 add         r2, r4, #0x85, 30
  00028	eb000000	 bl          GPIOInterruptInitialize
  0002c	e3500000	 cmp         r0, #0
  00030	1a000007	 bne         |$LN10@SDHCCardDe|

; 191  :     {
; 192  :         RETAILMSG (SDCARD_ZONE_ERROR, (L"ERROR: CSDIOController::SDHCCardDetectIstThreadImpl: Failed associate event with CD GPIO interrupt\r\n"));

  00034	e59f30fc	 ldr         r3, [pc, #0xFC]
  00038	e5933440	 ldr         r3, [r3, #0x440]
  0003c	e3130902	 tst         r3, #2, 18
  00040	159f00ec	 ldrne       r0, [pc, #0xEC]
  00044	1b000000	 blne        NKDbgPrintfW
  00048		 |$cleanUp$42895|

; 245  :     }
; 246  : 
; 247  : cleanUp:
; 248  :     return ERROR_SUCCESS;

  00048	e3a00000	 mov         r0, #0

; 249  : }

  0004c	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00050	e12fff1e	 bx          lr
  00054		 |$LN10@SDHCCardDe|

; 193  :         goto cleanUp;
; 194  :     }
; 195  :     
; 196  :     // enable wakeup on card detect interrupt
; 197  :     if ( m_dwWakeupSources & WAKEUP_CARD_INSERT_REMOVAL )

  00054	e59430e8	 ldr         r3, [r4, #0xE8]
  00058	e3130002	 tst         r3, #2

; 198  :     {
; 199  :         GPIOInterruptWakeUp(m_hGPIO, m_dwCardDetectGPIO, m_dwCDSysintr, TRUE);

  0005c	15942214	 ldrne       r2, [r4, #0x214]
  00060	159411e4	 ldrne       r1, [r4, #0x1E4]
  00064	15940164	 ldrne       r0, [r4, #0x164]
  00068	13a03001	 movne       r3, #1
  0006c	1b000000	 blne        GPIOInterruptWakeUp

; 200  :     }
; 201  : 
; 202  :     // check for the card already inserted when the driver is loaded
; 203  :     SetEvent( m_hCardDetectEvent );

  00070	e5940120	 ldr         r0, [r4, #0x120]
  00074	e3a01003	 mov         r1, #3
  00078	eb000000	 bl          EventModify
  0007c	e3a03c01	 mov         r3, #1, 24
  00080	e3836002	 orr         r6, r3, #2
  00084		 |$LL7@SDHCCardDe|

; 204  : 
; 205  :     // Loop until we are not stopped...
; 206  :     for(;;)
; 207  :     {
; 208  :         DWORD dwWaitStatus = 0;
; 209  : 
; 210  :         // Wait for event
; 211  :         dwWaitStatus = WaitForSingleObject(m_hCardDetectEvent, ((bDebounce==TRUE) ? DEBOUNCE_TIME : INFINITE));

  00084	e5940120	 ldr         r0, [r4, #0x120]
  00088	e3550001	 cmp         r5, #1
  0008c	03a01064	 moveq       r1, #0x64
  00090	13e01000	 mvnne       r1, #0
  00094	eb000000	 bl          WaitForSingleObject

; 212  : 
; 213  :         if (m_fDriverShutdown)

  00098	e5943130	 ldr         r3, [r4, #0x130]
  0009c	e1a05000	 mov         r5, r0
  000a0	e3530000	 cmp         r3, #0
  000a4	1affffe7	 bne         |$cleanUp$42895|

; 214  :             break;
; 215  : 
; 216  :         SDHCDAcquireHCLock(m_pHCContext);

  000a8	e59430a8	 ldr         r3, [r4, #0xA8]
  000ac	e2830024	 add         r0, r3, #0x24
  000b0	eb000000	 bl          EnterCriticalSection

; 217  : 
; 218  :         if (m_fCardPresent == TRUE)

  000b4	e59430f0	 ldr         r3, [r4, #0xF0]

; 219  :         {
; 220  :             // Notify card de-assertion
; 221  :             #ifdef ENABLE_RETAIL_OUTPUT
; 222  :                 RETAILMSG(1, (L"SDHC slot %d card removal\r\n", m_dwSlot));
; 223  :             #endif
; 224  :             CardInterrupt(FALSE);

  000b8	e1a00004	 mov         r0, r4
  000bc	e3530001	 cmp         r3, #1
  000c0	1a00000a	 bne         |$LN4@SDHCCardDe|
  000c4	e3a01000	 mov         r1, #0
  000c8	eb000000	 bl          |?CardInterrupt@CSDIOControllerBase@@QAAXH@Z|
  000cc		 |$LN18@SDHCCardDe|

; 235  :                 bDebounce = FALSE;
; 236  :             }
; 237  :             else
; 238  :             {
; 239  :                 bDebounce = (dwWaitStatus == WAIT_TIMEOUT) ? FALSE : TRUE;

  000cc	e3a05001	 mov         r5, #1
  000d0		 |$LN19@SDHCCardDe|

; 240  :             }
; 241  :         }
; 242  : 
; 243  :         SDHCDReleaseHCLock(m_pHCContext);               

  000d0	e59430a8	 ldr         r3, [r4, #0xA8]
  000d4	e2830024	 add         r0, r3, #0x24
  000d8	eb000000	 bl          LeaveCriticalSection

; 244  : 		GPIOInterruptDone(m_hGPIO,m_dwCardDetectGPIO,m_dwCDSysintr);

  000dc	e5942214	 ldr         r2, [r4, #0x214]
  000e0	e59411e4	 ldr         r1, [r4, #0x1E4]
  000e4	e5940164	 ldr         r0, [r4, #0x164]
  000e8	eb000000	 bl          GPIOInterruptDone
  000ec	eaffffe4	 b           |$LL7@SDHCCardDe|
  000f0		 |$LN4@SDHCCardDe|

; 225  :             bDebounce = TRUE;
; 226  :         }
; 227  :         else
; 228  :         {
; 229  :             if ((SDCardDetect() == TRUE) && (dwWaitStatus == WAIT_TIMEOUT))

  000f0	e5943000	 ldr         r3, [r4]
  000f4	e593300c	 ldr         r3, [r3, #0xC]
  000f8	e1a0e00f	 mov         lr, pc
  000fc	e12fff13	 bx          r3
  00100	e3500001	 cmp         r0, #1
  00104	1a000006	 bne         |$LN2@SDHCCardDe|
  00108	e1550006	 cmp         r5, r6
  0010c	1affffee	 bne         |$LN18@SDHCCardDe|

; 230  :             {
; 231  :                 #ifdef ENABLE_RETAIL_OUTPUT
; 232  :                 RETAILMSG(1, (L"SDHC slot %d card insertion\r\n", m_dwSlot));
; 233  :                 #endif
; 234  :                 CardInterrupt(TRUE);

  00110	e3a01001	 mov         r1, #1
  00114	e1a00004	 mov         r0, r4
  00118	eb000000	 bl          |?CardInterrupt@CSDIOControllerBase@@QAAXH@Z|

; 235  :                 bDebounce = FALSE;
; 236  :             }
; 237  :             else
; 238  :             {
; 239  :                 bDebounce = (dwWaitStatus == WAIT_TIMEOUT) ? FALSE : TRUE;

  0011c	e3a05000	 mov         r5, #0
  00120	eaffffea	 b           |$LN19@SDHCCardDe|
  00124		 |$LN2@SDHCCardDe|
  00124	e1550006	 cmp         r5, r6
  00128	1affffe7	 bne         |$LN18@SDHCCardDe|
  0012c	e3a05000	 mov         r5, #0
  00130	eaffffe6	 b           |$LN19@SDHCCardDe|
  00134		 |$LN32@SDHCCardDe|
  00134		 |$LN33@SDHCCardDe|
  00134	00000000	 DCD         |??_C@_1MK@CPAEOPKO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd@|
  00138		 |$LN34@SDHCCardDe|
  00138	00000000	 DCD         |dpCurSettings|
  0013c		 |$M43841|

			 ENDP  ; |?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ|, CSDIOController::SDHCCardDetectIstThreadImpl


  00000			 AREA	 |.pdata|, PDATA
|$T43853| DCD	|$LN5@PreparePow|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?PreparePowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z| PROC ; CSDIOController::PreparePowerChange

; 253  : {

  00000		 |$LN5@PreparePow|
  00000		 |$M43850|

; 254  :     UNREFERENCED_PARAMETER(bInPowerHandler);
; 255  : 	UNREFERENCED_PARAMETER(curPowerState);
; 256  : }

  00000	e12fff1e	 bx          lr
  00004		 |$M43851|

			 ENDP  ; |?PreparePowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z|, CSDIOController::PreparePowerChange


  00000			 AREA	 |.pdata|, PDATA
|$T43860| DCD	|$LN5@PostPowerC|
	DCD	0x40000100
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?PostPowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z| PROC ; CSDIOController::PostPowerChange

; 259  : {

  00000		 |$LN5@PostPowerC|
  00000		 |$M43857|

; 260  :     UNREFERENCED_PARAMETER(bInPowerHandler);
; 261  : 	UNREFERENCED_PARAMETER(curPowerState);
; 262  : }

  00000	e12fff1e	 bx          lr
  00004		 |$M43858|

			 ENDP  ; |?PostPowerChange@CSDIOController@@MAAXW4_CEDEVICE_POWER_STATE@@H@Z|, CSDIOController::PostPowerChange

	IMPORT	|?SetSlotPowerState@CSDIOControllerBase@@QAAXW4_CEDEVICE_POWER_STATE@@@Z| ; CSDIOControllerBase::SetSlotPowerState

  00000			 AREA	 |.pdata|, PDATA
|$T43868| DCD	|$LN5@TurnCardPo|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TurnCardPowerOn@CSDIOController@@MAAXXZ| PROC ; CSDIOController::TurnCardPowerOn

; 265  : {

  00000		 |$LN5@TurnCardPo|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M43865|

; 266  :     SetSlotPowerState( D0 );

  00004	e3a01000	 mov         r1, #0
  00008	eb000000	 bl          |?SetSlotPowerState@CSDIOControllerBase@@QAAXW4_CEDEVICE_POWER_STATE@@@Z|

; 267  : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M43866|

			 ENDP  ; |?TurnCardPowerOn@CSDIOController@@MAAXXZ|, CSDIOController::TurnCardPowerOn


  00000			 AREA	 |.pdata|, PDATA
|$T43876| DCD	|$LN5@TurnCardPo@2|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TurnCardPowerOff@CSDIOController@@MAAXXZ| PROC ; CSDIOController::TurnCardPowerOff

; 270  : {

  00000		 |$LN5@TurnCardPo@2|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M43873|

; 271  :     SetSlotPowerState( D4 );

  00004	e3a01004	 mov         r1, #4
  00008	eb000000	 bl          |?SetSlotPowerState@CSDIOControllerBase@@QAAXW4_CEDEVICE_POWER_STATE@@@Z|

; 272  : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M43874|

			 ENDP  ; |?TurnCardPowerOff@CSDIOController@@MAAXXZ|, CSDIOController::TurnCardPowerOff

	EXPORT	|?CreateSDIOController@@YAPAVCSDIOControllerBase@@XZ| ; CreateSDIOController
	IMPORT	|??2@YAPAXI@Z|				; operator new

  00000			 AREA	 |.pdata|, PDATA
|$T43892| DCD	|$LN9@CreateSDIO|
	DCD	0x40000f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?CreateSDIOController@@YAPAVCSDIOControllerBase@@XZ| PROC ; CreateSDIOController

; 275  : {

  00000		 |$LN9@CreateSDIO|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43889|

; 276  :     return new CSDIOController();

  00004	e3a00f86	 mov         r0, #0x86, 30
  00008	eb000000	 bl          |??2@YAPAXI@Z|
  0000c	e1b04000	 movs        r4, r0
  00010	0a000004	 beq         |$LN3@CreateSDIO|
  00014	e1a00004	 mov         r0, r4
  00018	eb000000	 bl          |??0CSDIOControllerBase@@QAA@XZ|
  0001c	e59f3014	 ldr         r3, [pc, #0x14]
  00020	e5843000	 str         r3, [r4]
  00024	ea000000	 b           |$LN4@CreateSDIO|
  00028		 |$LN3@CreateSDIO|
  00028	e3a04000	 mov         r4, #0
  0002c		 |$LN4@CreateSDIO|

; 277  : }

  0002c	e1a00004	 mov         r0, r4
  00030	e8bd4010	 ldmia       sp!, {r4, lr}
  00034	e12fff1e	 bx          lr
  00038		 |$LN10@CreateSDIO|
  00038		 |$LN11@CreateSDIO|
  00038	00000000	 DCD         |??_7CSDIOController@@6B@|
  0003c		 |$M43890|

			 ENDP  ; |?CreateSDIOController@@YAPAVCSDIOControllerBase@@XZ|, CreateSDIOController

	END
