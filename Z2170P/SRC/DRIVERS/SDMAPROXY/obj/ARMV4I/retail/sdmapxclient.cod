; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\DRIVERS\SDMAPROXY\sdmapxclient.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??0SdmaPxClient@@QAA@XZ|		; SdmaPxClient::SdmaPxClient
	EXPORT	|??_7SdmaPxClient@@6B@| [ DATA ]	; SdmaPxClient::`vftable'
	IMPORT	|??_ESdmaPxClient@@UAAPAXI@Z|, WEAK |??_GSdmaPxClient@@UAAPAXI@Z| ; SdmaPxClient::`vector deleting destructor', SdmaPxClient::`scalar deleting destructor'
; File c:\wince600\platform\z2170p\src\drivers\sdmaproxy\sdmapxclient.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T38924| DCD	|$LN5@SdmaPxClie|
	DCD	0x40000a00

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7SdmaPxClient@@6B@| DCD |??_ESdmaPxClient@@UAAPAXI@Z| ; SdmaPxClient::`vftable'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0SdmaPxClient@@QAA@XZ| PROC		; SdmaPxClient::SdmaPxClient

; 15   : {

  00000		 |$LN5@SdmaPxClie|
  00000		 |$M38921|
  00000	e59f301c	 ldr         r3, [pc, #0x1C]

; 16   :     m_dwClientID    = 0;

  00004	e3a02000	 mov         r2, #0
  00008	e5802004	 str         r2, [r0, #4]
  0000c	e5803000	 str         r3, [r0]

; 17   :     m_dwDataLengthClient = 0;

  00010	e5802008	 str         r2, [r0, #8]

; 18   :     m_dwElementCount = 0;

  00014	e580200c	 str         r2, [r0, #0xC]

; 19   :     m_dwFrameCount = 0;

  00018	e5802010	 str         r2, [r0, #0x10]

; 20   :     m_bConfigured = FALSE;

  0001c	e5802044	 str         r2, [r0, #0x44]

; 21   : }

  00020	e12fff1e	 bx          lr
  00024		 |$LN6@SdmaPxClie|
  00024		 |$LN7@SdmaPxClie|
  00024	00000000	 DCD         |??_7SdmaPxClient@@6B@|
  00028		 |$M38922|

			 ENDP  ; |??0SdmaPxClient@@QAA@XZ|, SdmaPxClient::SdmaPxClient

	EXPORT	|??1SdmaPxClient@@UAA@XZ|		; SdmaPxClient::~SdmaPxClient

  00000			 AREA	 |.pdata|, PDATA
|$T38934| DCD	|$LN5@SdmaPxClie@2|
	DCD	0x40000400
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1SdmaPxClient@@UAA@XZ| PROC		; SdmaPxClient::~SdmaPxClient

; 24   : {

  00000		 |$LN5@SdmaPxClie@2|
  00000		 |$M38931|
  00000	e59f3004	 ldr         r3, [pc, #4]
  00004	e5803000	 str         r3, [r0]

; 25   : }

  00008	e12fff1e	 bx          lr
  0000c		 |$LN6@SdmaPxClie@2|
  0000c		 |$LN7@SdmaPxClie@2|
  0000c	00000000	 DCD         |??_7SdmaPxClient@@6B@|
  00010		 |$M38932|

			 ENDP  ; |??1SdmaPxClient@@UAA@XZ|, SdmaPxClient::~SdmaPxClient

	EXPORT	|?Init@SdmaPxClient@@QAAHK@Z|		; SdmaPxClient::Init
	IMPORT	|memset|

  00000			 AREA	 |.pdata|, PDATA
|$T38948| DCD	|$LN5@Init|
	DCD	0x40000b01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Init@SdmaPxClient@@QAAHK@Z| PROC	; SdmaPxClient::Init

; 28   : {

  00000		 |$LN5@Init|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M38945|
  00004	e1a0e001	 mov         lr, r1
  00008	e1a03000	 mov         r3, r0

; 29   :     BOOL RetVal = TRUE;
; 30   :     
; 31   :     // store id info
; 32   :     m_dwClientID = dwClientID;
; 33   :     
; 34   :     // Init the sdma config
; 35   :     memset(&m_dmaConfigInfoClient, 0, sizeof(DmaConfigInfo_t));

  0000c	e3a02030	 mov         r2, #0x30
  00010	e3a01000	 mov         r1, #0
  00014	e2830014	 add         r0, r3, #0x14
  00018	e583e004	 str         lr, [r3, #4]
  0001c	eb000000	 bl          memset

; 36   : 
; 37   :     return RetVal;

  00020	e3a00001	 mov         r0, #1

; 38   : }

  00024	e49de004	 ldr         lr, [sp], #4
  00028	e12fff1e	 bx          lr
  0002c		 |$M38946|

			 ENDP  ; |?Init@SdmaPxClient@@QAAHK@Z|, SdmaPxClient::Init

	EXPORT	|?StoreConfig@SdmaPxClient@@QAAHPAUDmaConfigInfo_t@@KKK@Z| ; SdmaPxClient::StoreConfig
	IMPORT	|memcpy|

  00000			 AREA	 |.pdata|, PDATA
|$T38963| DCD	|$LN7@StoreConfi|
	DCD	0x40001401
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?StoreConfig@SdmaPxClient@@QAAHPAUDmaConfigInfo_t@@KKK@Z| PROC ; SdmaPxClient::StoreConfig

; 42   : {

  00000		 |$LN7@StoreConfi|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004		 |$M38960|
  00004	e1a06003	 mov         r6, r3
  00008	e1a07002	 mov         r7, r2
  0000c	e3510000	 cmp         r1, #0
  00010	e1a05000	 mov         r5, r0

; 43   :     BOOL retVal = TRUE;

  00014	e3a04001	 mov         r4, #1

; 44   :        
; 45   :     if(pdmaDataConfig == NULL)
; 46   :     {
; 47   :         retVal = FALSE;

  00018	03a04000	 moveq       r4, #0
  0001c	0a000008	 beq         |$CleanUp$38867|

; 48   :         goto CleanUp;
; 49   :     }
; 50   :     
; 51   :     // Store a local copy of the user DMA configuration.
; 52   :     // Not using memcpy_s to avoid performance degredation
; 53   :     memcpy(&m_dmaConfigInfoClient, pdmaDataConfig, sizeof(DmaConfigInfo_t));

  00020	e2850014	 add         r0, r5, #0x14
  00024	e3a02030	 mov         r2, #0x30
  00028	eb000000	 bl          memcpy

; 54   :       
; 55   :     // Store data length, element and frame count
; 56   :     m_dwDataLengthClient = dwDataLengthClient;
; 57   :     m_dwElementCount = dwElementCount;
; 58   :     m_dwFrameCount = dwFrameCount;

  0002c	e59d3014	 ldr         r3, [sp, #0x14]

; 59   : 
; 60   :     m_bConfigured = TRUE;

  00030	e3a02001	 mov         r2, #1
  00034	e5857008	 str         r7, [r5, #8]
  00038	e5853010	 str         r3, [r5, #0x10]
  0003c	e585600c	 str         r6, [r5, #0xC]
  00040	e5852044	 str         r2, [r5, #0x44]
  00044		 |$CleanUp$38867|

; 61   : CleanUp:    
; 62   :     return retVal;
; 63   : }

  00044	e1a00004	 mov         r0, r4
  00048	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  0004c	e12fff1e	 bx          lr
  00050		 |$M38961|

			 ENDP  ; |?StoreConfig@SdmaPxClient@@QAAHPAUDmaConfigInfo_t@@KKK@Z|, SdmaPxClient::StoreConfig

	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$T38977| DCD	|$LN8@scalar|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GSdmaPxClient@@UAAPAXI@Z| PROC	; SdmaPxClient::`scalar deleting destructor'
  00000		 |$LN8@scalar|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M38974|
  00004	e1a04000	 mov         r4, r0
  00008	e59f3014	 ldr         r3, [pc, #0x14]
  0000c	e3110001	 tst         r1, #1
  00010	e5843000	 str         r3, [r4]
  00014	1b000000	 blne        |??3@YAXPAX@Z|
  00018	e1a00004	 mov         r0, r4
  0001c	e8bd4010	 ldmia       sp!, {r4, lr}
  00020	e12fff1e	 bx          lr
  00024		 |$LN9@scalar|
  00024		 |$LN10@scalar|
  00024	00000000	 DCD         |??_7SdmaPxClient@@6B@|
  00028		 |$M38975|

			 ENDP  ; |??_GSdmaPxClient@@UAAPAXI@Z|, SdmaPxClient::`scalar deleting destructor'

	END
