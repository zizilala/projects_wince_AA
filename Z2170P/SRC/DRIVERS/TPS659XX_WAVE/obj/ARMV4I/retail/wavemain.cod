; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\DRIVERS\TPS659XX_WAVE\wavemain.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|EnterMutex|
	IMPORT	|EnterCriticalSection|

  00000			 AREA	 |.bss|, NOINIT
|s_cs|	%	0x14
|s_cs|	%	0x14
; File c:\wince600\platform\z2170p\src\drivers\tps659xx_wave\wavemain.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T34835| DCD	|$LN5@EnterMutex|
	DCD	0x40000601
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |EnterMutex| PROC

; 135  : {

  00000		 |$LN5@EnterMutex|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34832|

; 136  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+EnterMutex\r\n"));
; 137  : 
; 138  :     ::EnterCriticalSection(&s_cs);

  00004	e59f0008	 ldr         r0, [pc, #8]
  00008	eb000000	 bl          EnterCriticalSection

; 139  : 
; 140  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-EnterMutex\r\n"));
; 141  : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$LN6@EnterMutex|
  00014		 |$LN7@EnterMutex|
  00014	00000000	 DCD         |s_cs|
  00018		 |$M34833|

			 ENDP  ; |EnterMutex|

	EXPORT	|ExitMutex|
	IMPORT	|LeaveCriticalSection|

  00000			 AREA	 |.pdata|, PDATA
|$T34844| DCD	|$LN5@ExitMutex|
	DCD	0x40000601
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |ExitMutex| PROC

; 155  : {

  00000		 |$LN5@ExitMutex|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34841|

; 156  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+ExitMutex\r\n"));
; 157  : 
; 158  :     ::LeaveCriticalSection(&s_cs);

  00004	e59f0008	 ldr         r0, [pc, #8]
  00008	eb000000	 bl          LeaveCriticalSection

; 159  : 
; 160  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-ExitMutex\r\n"));
; 161  : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$LN6@ExitMutex|
  00014		 |$LN7@ExitMutex|
  00014	00000000	 DCD         |s_cs|
  00018		 |$M34842|

			 ENDP  ; |ExitMutex|

	EXPORT	|WAV_Deinit|
	IMPORT	|DeleteCriticalSection|
	IMPORT	|LocalFree|
	IMPORT	|DeleteAudioManager|
	IMPORT	|UninitializeHardware|

  00000			 AREA	 |.pdata|, PDATA
|$T34857| DCD	|$LN9@WAV_Deinit|
	DCD	0x40001801
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |WAV_Deinit| PROC

; 179  : {

  00000		 |$LN9@WAV_Deinit|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M34854|
  00004	e1a05000	 mov         r5, r0

; 180  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+WAV_Deinit(%d)\r\n", dwData));
; 181  : 
; 182  :     BOOL bSuccess = TRUE;
; 183  : 
; 184  :     UninitializeHardware(dwData);

  00008	e3a04001	 mov         r4, #1
  0000c	eb000000	 bl          UninitializeHardware

; 185  : 
; 186  :     if (dwData)

  00010	e3550000	 cmp         r5, #0
  00014	0a00000a	 beq         |$LN4@WAV_Deinit|

; 187  :         {
; 188  :         WAVDevice_t *pDevice = (WAVDevice_t*)dwData;
; 189  : 
; 190  :         if (pDevice->cookie != WAV_DEVICE_COOKIE)

  00018	e5952000	 ldr         r2, [r5]
  0001c	e59f3038	 ldr         r3, [pc, #0x38]
  00020	e1520003	 cmp         r2, r3

; 191  :             {
; 192  :             bSuccess = FALSE;

  00024	13a04000	 movne       r4, #0
  00028	1a000007	 bne         |$cleanUp$34568|

; 193  :             goto cleanUp;
; 194  :             }
; 195  : 
; 196  :         if (pDevice->pAudioManager)

  0002c	e5953004	 ldr         r3, [r5, #4]
  00030	e3530000	 cmp         r3, #0

; 197  :             {
; 198  :             DeleteAudioManager(pDevice->pAudioManager);

  00034	11a00003	 movne       r0, r3
  00038	1b000000	 blne        DeleteAudioManager

; 199  :             }
; 200  : 
; 201  :         LocalFree(pDevice);

  0003c	e1a00005	 mov         r0, r5
  00040	eb000000	 bl          LocalFree
  00044		 |$LN4@WAV_Deinit|

; 202  :         }
; 203  : 
; 204  :     ::DeleteCriticalSection(&s_cs);

  00044	e59f000c	 ldr         r0, [pc, #0xC]
  00048	eb000000	 bl          DeleteCriticalSection
  0004c		 |$cleanUp$34568|

; 205  : 
; 206  : cleanUp:
; 207  : 
; 208  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-WAV_Deinit\r\n"));
; 209  :     return bSuccess;
; 210  : }

  0004c	e1a00004	 mov         r0, r4
  00050	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00054	e12fff1e	 bx          lr
  00058		 |$LN10@WAV_Deinit|
  00058		 |$LN11@WAV_Deinit|
  00058	00000000	 DCD         |s_cs|
  0005c		 |$LN12@WAV_Deinit|
  0005c	77617644	 DCD         0x77617644
  00060		 |$M34855|

			 ENDP  ; |WAV_Deinit|

	EXPORT	|WAV_Init|
	EXPORT	|??_C@_1GO@BBNKADNM@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@FIJMEDBL@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HA@OBLPOCEN@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAs?$AAt?$AAa?$AAn?$AAt?$AAi?$AAa?$AAt?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IA@CBFCJFHM@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAW?$AAA?$AAV?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa?$AAl?$AAl?$AAo@| [ DATA ] ; `string'
	IMPORT	|NKDbgPrintfW|
	IMPORT	|InitializeHardware|
	IMPORT	|CreateAudioManager|
	IMPORT	|dpCurSettings|
	IMPORT	|LocalAlloc|
	IMPORT	|InitializeCriticalSection|

  00000			 AREA	 |.pdata|, PDATA
|$T34882| DCD	|$LN24@WAV_Init|
	DCD	0x40004501

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GO@BBNKADNM@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?5@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "E", 0x0, "R", 0x0, "R"
	DCB	0x0, "O", 0x0, "R", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e"
	DCB	0x0, " ", 0x0, "a", 0x0, "u", 0x0, "d", 0x0, "i", 0x0, "o"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "m", 0x0, "a", 0x0, "n", 0x0, "a"
	DCB	0x0, "g", 0x0, "e", 0x0, "r", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@FIJMEDBL@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?5@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "E", 0x0, "R", 0x0, "R"
	DCB	0x0, "O", 0x0, "R", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e"
	DCB	0x0, " ", 0x0, "h", 0x0, "a", 0x0, "r", 0x0, "d", 0x0, "w"
	DCB	0x0, "a", 0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HA@OBLPOCEN@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAs?$AAt?$AAa?$AAn?$AAt?$AAi?$AAa?$AAt?$AAe@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "E", 0x0, "R", 0x0, "R"
	DCB	0x0, "O", 0x0, "R", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "s", 0x0, "t"
	DCB	0x0, "a", 0x0, "n", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "t"
	DCB	0x0, "e", 0x0, " ", 0x0, "a", 0x0, "u", 0x0, "d", 0x0, "i"
	DCB	0x0, "o", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i"
	DCB	0x0, "c", 0x0, "e", 0x0, " ", 0x0, "m", 0x0, "a", 0x0, "n"
	DCB	0x0, "a", 0x0, "g", 0x0, "e", 0x0, "r", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IA@CBFCJFHM@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAW?$AAA?$AAV?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa?$AAl?$AAl?$AAo@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "E", 0x0, "R", 0x0, "R"
	DCB	0x0, "O", 0x0, "R", 0x0, ":", 0x0, " ", 0x0, "W", 0x0, "A"
	DCB	0x0, "V", 0x0, "_", 0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "a", 0x0, "l", 0x0, "l"
	DCB	0x0, "o", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "W", 0x0, "A", 0x0, "V", 0x0, " ", 0x0, "c", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r"
	DCB	0x0, "u", 0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |WAV_Init| PROC

; 232  : {

  00000		 |$LN24@WAV_Init|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M34879|
  00004	e1a05001	 mov         r5, r1
  00008	e1a06000	 mov         r6, r0

; 233  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+WAV_Init(%s)\r\n", szContext));
; 234  : 
; 235  :     BOOL bSuccess = FALSE;
; 236  : 
; 237  :         // Create device structure
; 238  :         //
; 239  :     ::InitializeCriticalSection(&s_cs);

  0000c	e59f00fc	 ldr         r0, [pc, #0xFC]
  00010	eb000000	 bl          InitializeCriticalSection

; 240  :     WAVDevice_t *pDevice = (WAVDevice_t*)LocalAlloc(LPTR, sizeof(WAVDevice_t));

  00014	e3a01008	 mov         r1, #8
  00018	e3a00040	 mov         r0, #0x40
  0001c	eb000000	 bl          LocalAlloc
  00020	e1b04000	 movs        r4, r0

; 241  :     if (pDevice == NULL)

  00024	1a000005	 bne         |$LN9@WAV_Init|

; 242  :         {
; 243  :         RETAILMSG(ZONE_ERROR, (L"WAV:ERROR: WAV_Init: "
; 244  :             L"Failed allocate WAV controller structure\r\n"
; 245  :             ));

  00028	e59f30cc	 ldr         r3, [pc, #0xCC]
  0002c	e5933440	 ldr         r3, [r3, #0x440]
  00030	e3130902	 tst         r3, #2, 18
  00034	0a00002a	 beq         |$LN20@WAV_Init|
  00038	e59f00cc	 ldr         r0, [pc, #0xCC]

; 246  :         goto cleanUp;

  0003c	ea000027	 b           |$LN21@WAV_Init|
  00040		 |$LN9@WAV_Init|

; 247  :         }
; 248  : 
; 249  :     // Set cookie
; 250  :     memset(pDevice, 0, sizeof(WAVDevice_t));
; 251  :     pDevice->cookie = WAV_DEVICE_COOKIE;

  00040	e59f30c0	 ldr         r3, [pc, #0xC0]
  00044	e3a02000	 mov         r2, #0
  00048	e5842000	 str         r2, [r4]
  0004c	e5842004	 str         r2, [r4, #4]
  00050	e5843000	 str         r3, [r4]

; 252  : 
; 253  :     pDevice->pAudioManager = CreateAudioManager();

  00054	eb000000	 bl          CreateAudioManager
  00058	e3500000	 cmp         r0, #0
  0005c	e5840004	 str         r0, [r4, #4]

; 254  :     if (pDevice->pAudioManager == NULL)

  00060	1a000005	 bne         |$LN7@WAV_Init|

; 255  :         {
; 256  :         RETAILMSG(ZONE_ERROR,
; 257  :             (L"WAV:ERROR: Failed to instantiate audio device manager\r\n")
; 258  :             );

  00064	e59f3090	 ldr         r3, [pc, #0x90]
  00068	e5933440	 ldr         r3, [r3, #0x440]
  0006c	e3130902	 tst         r3, #2, 18
  00070	0a00001b	 beq         |$LN20@WAV_Init|
  00074	e59f0088	 ldr         r0, [pc, #0x88]

; 275  :         goto cleanUp;
; 276  :         }
; 277  : 
; 278  :     bSuccess = TRUE;
; 279  : 
; 280  : cleanUp:

  00078	ea000018	 b           |$LN21@WAV_Init|
  0007c		 |$LN7@WAV_Init|

; 259  :         goto cleanUp;
; 260  :         }
; 261  : 
; 262  :     if (InitializeHardware(szContext, pBusContext) == FALSE)

  0007c	e1a01005	 mov         r1, r5
  00080	e1a00006	 mov         r0, r6
  00084	eb000000	 bl          InitializeHardware
  00088	e3500000	 cmp         r0, #0
  0008c	1a000005	 bne         |$LN5@WAV_Init|

; 263  :         {
; 264  :         RETAILMSG(ZONE_ERROR,
; 265  :             (L"WAV:ERROR: Failed to initialize hardware\r\n")
; 266  :             );

  00090	e59f3064	 ldr         r3, [pc, #0x64]
  00094	e5933440	 ldr         r3, [r3, #0x440]
  00098	e3130902	 tst         r3, #2, 18
  0009c	0a000010	 beq         |$LN20@WAV_Init|
  000a0	e59f0058	 ldr         r0, [pc, #0x58]

; 275  :         goto cleanUp;
; 276  :         }
; 277  : 
; 278  :     bSuccess = TRUE;
; 279  : 
; 280  : cleanUp:

  000a4	ea00000d	 b           |$LN21@WAV_Init|
  000a8		 |$LN5@WAV_Init|

; 267  :         goto cleanUp;
; 268  :         }
; 269  : 
; 270  :     if (!pDevice->pAudioManager->initialize(szContext, pBusContext))

  000a8	e5940004	 ldr         r0, [r4, #4]
  000ac	e1a02005	 mov         r2, r5
  000b0	e1a01006	 mov         r1, r6
  000b4	e5903000	 ldr         r3, [r0]
  000b8	e593303c	 ldr         r3, [r3, #0x3C]
  000bc	e1a0e00f	 mov         lr, pc
  000c0	e12fff13	 bx          r3
  000c4	e3500000	 cmp         r0, #0
  000c8	1a000007	 bne         |$LN1@WAV_Init|

; 271  :         {
; 272  :         RETAILMSG(ZONE_ERROR,
; 273  :             (L"WAV:ERROR: Failed to initialize audio device manager\r\n")
; 274  :             );

  000cc	e59f3028	 ldr         r3, [pc, #0x28]
  000d0	e5933440	 ldr         r3, [r3, #0x440]
  000d4	e3130902	 tst         r3, #2, 18
  000d8	0a000001	 beq         |$LN20@WAV_Init|
  000dc	e59f0014	 ldr         r0, [pc, #0x14]
  000e0		 |$LN21@WAV_Init|
  000e0	eb000000	 bl          NKDbgPrintfW
  000e4		 |$LN20@WAV_Init|

; 281  :     if (bSuccess == FALSE)
; 282  :         {
; 283  :         WAV_Deinit((DWORD)pDevice);

  000e4	e1a00004	 mov         r0, r4
  000e8	eb000000	 bl          WAV_Deinit
  000ec		 |$LN1@WAV_Init|

; 284  :         }
; 285  : 
; 286  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-WAV_Init\r\n"));
; 287  : 
; 288  :     return (DWORD)pDevice;
; 289  : }

  000ec	e1a00004	 mov         r0, r4
  000f0	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000f4	e12fff1e	 bx          lr
  000f8		 |$LN25@WAV_Init|
  000f8		 |$LN26@WAV_Init|
  000f8	00000000	 DCD         |??_C@_1GO@BBNKADNM@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?5@|
  000fc		 |$LN27@WAV_Init|
  000fc	00000000	 DCD         |dpCurSettings|
  00100		 |$LN28@WAV_Init|
  00100	00000000	 DCD         |??_C@_1FG@FIJMEDBL@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AA?5@|
  00104		 |$LN29@WAV_Init|
  00104	00000000	 DCD         |??_C@_1HA@OBLPOCEN@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAs?$AAt?$AAa?$AAn?$AAt?$AAi?$AAa?$AAt?$AAe@|
  00108		 |$LN30@WAV_Init|
  00108	77617644	 DCD         0x77617644
  0010c		 |$LN31@WAV_Init|
  0010c	00000000	 DCD         |??_C@_1IA@CBFCJFHM@?$AAW?$AAA?$AAV?$AA?3?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAW?$AAA?$AAV?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa?$AAl?$AAl?$AAo@|
  00110		 |$LN32@WAV_Init|
  00110	00000000	 DCD         |s_cs|
  00114		 |$M34880|

			 ENDP  ; |WAV_Init|

	EXPORT	|WAV_Open|
	EXPORT	|??_C@_1FG@CGDAMFKI@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAw?$AAa?$AAv?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EK@MGIHFCHL@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAw?$AAa?$AAv?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAc?$AAo@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T34906| DCD	|$LN14@WAV_Open|
	DCD	0x40002401

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@CGDAMFKI@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAw?$AAa?$AAv?$AA?5@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "!", 0x0, "E", 0x0, "R"
	DCB	0x0, "R", 0x0, "O", 0x0, "R", 0x0, "-", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "c", 0x0, "r", 0x0, "e", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "w", 0x0, "a", 0x0, "v"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, "s", 0x0, "t", 0x0, "a"
	DCB	0x0, "n", 0x0, "c", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@MGIHFCHL@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAw?$AAa?$AAv?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAc?$AAo@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "!", 0x0, "E", 0x0, "R"
	DCB	0x0, "R", 0x0, "O", 0x0, "R", 0x0, "-", 0x0, "i", 0x0, "n"
	DCB	0x0, "v", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, " "
	DCB	0x0, "w", 0x0, "a", 0x0, "v", 0x0, " ", 0x0, "d", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, " ", 0x0, "c"
	DCB	0x0, "o", 0x0, "o", 0x0, "k", 0x0, "i", 0x0, "e", 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |WAV_Open| PROC

; 314  : {

  00000		 |$LN14@WAV_Open|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M34903|
  00004	e1a05000	 mov         r5, r0

; 315  :     UNREFERENCED_PARAMETER(dwAccess);
; 316  :     UNREFERENCED_PARAMETER(dwShareMode);
; 317  :     
; 318  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+WAV_Open\r\n"));
; 319  : 
; 320  :     WAVInstance_t *pInstance = NULL;
; 321  :     WAVDevice_t *pDevice = (WAVDevice_t*)dwData;
; 322  :     if (pDevice->cookie != WAV_DEVICE_COOKIE)

  00008	e5952000	 ldr         r2, [r5]
  0000c	e59f3078	 ldr         r3, [pc, #0x78]
  00010	e3a04000	 mov         r4, #0
  00014	e1520003	 cmp         r2, r3
  00018	0a000006	 beq         |$LN4@WAV_Open|

; 323  :         {
; 324  :         RETAILMSG(ZONE_ERROR, (L"WAV:!ERROR-invalid wav device cookie"));

  0001c	e59f3060	 ldr         r3, [pc, #0x60]
  00020	e5933440	 ldr         r3, [r3, #0x440]
  00024	e3130902	 tst         r3, #2, 18
  00028	0a000010	 beq         |$cleanUp$34610|
  0002c	e59f0054	 ldr         r0, [pc, #0x54]

; 330  :         {
; 331  :         RETAILMSG(ZONE_ERROR,
; 332  :             (L"WAV:!ERROR-unable to create wav instance\r\n")
; 333  :             );

  00030	eb000000	 bl          NKDbgPrintfW

; 339  : 
; 340  : cleanUp:

  00034	ea00000d	 b           |$cleanUp$34610|
  00038		 |$LN4@WAV_Open|

; 325  :         goto cleanUp;
; 326  :         }
; 327  : 
; 328  :     pInstance = (WAVInstance_t*)LocalAlloc(LPTR, sizeof(WAVInstance_t));

  00038	e3a01008	 mov         r1, #8
  0003c	e3a00040	 mov         r0, #0x40
  00040	eb000000	 bl          LocalAlloc
  00044	e1b04000	 movs        r4, r0

; 329  :     if (pInstance == NULL)

  00048	1a000006	 bne         |$LN2@WAV_Open|

; 330  :         {
; 331  :         RETAILMSG(ZONE_ERROR,
; 332  :             (L"WAV:!ERROR-unable to create wav instance\r\n")
; 333  :             );

  0004c	e59f3030	 ldr         r3, [pc, #0x30]
  00050	e5933440	 ldr         r3, [r3, #0x440]
  00054	e3130902	 tst         r3, #2, 18
  00058	0a000004	 beq         |$cleanUp$34610|
  0005c	e59f001c	 ldr         r0, [pc, #0x1C]
  00060	eb000000	 bl          NKDbgPrintfW

; 339  : 
; 340  : cleanUp:

  00064	ea000001	 b           |$cleanUp$34610|
  00068		 |$LN2@WAV_Open|

; 334  :         goto cleanUp;
; 335  :         }
; 336  : 
; 337  :     pInstance->cookie = WAV_INSTANCE_COOKIE;

  00068	e59f300c	 ldr         r3, [pc, #0xC]

; 338  :     pInstance->pDevice = pDevice;

  0006c	e8840028	 stmia       r4, {r3, r5}
  00070		 |$cleanUp$34610|

; 341  : 
; 342  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-WAV_Open\r\n"));
; 343  : 
; 344  :     return (PDWORD)pInstance;
; 345  : }

  00070	e1a00004	 mov         r0, r4
  00074	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00078	e12fff1e	 bx          lr
  0007c		 |$LN15@WAV_Open|
  0007c		 |$LN16@WAV_Open|
  0007c	77617649	 DCD         0x77617649
  00080		 |$LN17@WAV_Open|
  00080	00000000	 DCD         |??_C@_1FG@CGDAMFKI@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAw?$AAa?$AAv?$AA?5@|
  00084		 |$LN18@WAV_Open|
  00084	00000000	 DCD         |dpCurSettings|
  00088		 |$LN19@WAV_Open|
  00088	00000000	 DCD         |??_C@_1EK@MGIHFCHL@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAi?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAw?$AAa?$AAv?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAc?$AAo@|
  0008c		 |$LN20@WAV_Open|
  0008c	77617644	 DCD         0x77617644
  00090		 |$M34904|

			 ENDP  ; |WAV_Open|

	EXPORT	|WAV_Close|

  00000			 AREA	 |.pdata|, PDATA
|$T34923| DCD	|$LN8@WAV_Close|
	DCD	0x40000d01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |WAV_Close| PROC

; 360  : {

  00000		 |$LN8@WAV_Close|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34920|
  00004	e3500000	 cmp         r0, #0

; 361  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+Close\r\n"));
; 362  : 
; 363  :     BOOL bSuccess = TRUE;

  00008	e3a04001	 mov         r4, #1

; 364  :     if (pdwData)

  0000c	0a000004	 beq         |$cleanUp$34628|

; 365  :         {
; 366  :         WAVInstance_t *pInstance = (WAVInstance_t*)pdwData;
; 367  : 
; 368  :         if (pInstance->cookie != WAV_INSTANCE_COOKIE)

  00010	e5902000	 ldr         r2, [r0]
  00014	e59f3014	 ldr         r3, [pc, #0x14]
  00018	e1520003	 cmp         r2, r3

; 369  :             {
; 370  :             bSuccess = FALSE;

  0001c	13a04000	 movne       r4, #0

; 371  :             goto cleanUp;
; 372  :             }
; 373  :         LocalFree(pInstance);

  00020	0b000000	 bleq        LocalFree
  00024		 |$cleanUp$34628|

; 374  :         }
; 375  : 
; 376  : cleanUp:
; 377  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-Close\r\n"));
; 378  :     return bSuccess;
; 379  : }

  00024	e1a00004	 mov         r0, r4
  00028	e8bd4010	 ldmia       sp!, {r4, lr}
  0002c	e12fff1e	 bx          lr
  00030		 |$LN9@WAV_Close|
  00030		 |$LN10@WAV_Close|
  00030	77617649	 DCD         0x77617649
  00034		 |$M34921|

			 ENDP  ; |WAV_Close|

	EXPORT	|DllMain|
	IMPORT	|DisableThreadLibraryCalls|
	IMPORT	|RegisterDbgZones|

  00000			 AREA	 |.pdata|, PDATA
|$T34936| DCD	|$LN8@DllMain|
	DCD	0x40000c01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |DllMain| PROC

; 477  : {

  00000		 |$LN8@DllMain|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M34933|
  00004	e1a04000	 mov         r4, r0

; 478  :     UNREFERENCED_PARAMETER(pReserved);
; 479  :     switch (reason)

  00008	e3510001	 cmp         r1, #1
  0000c	1a000003	 bne         |$LN2@DllMain|

; 480  :         {
; 481  :         case DLL_PROCESS_ATTACH:
; 482  :             RETAILREGISTERZONES((HMODULE)hDLL);

  00010	e59f1014	 ldr         r1, [pc, #0x14]
  00014	eb000000	 bl          RegisterDbgZones

; 483  :             DisableThreadLibraryCalls((HMODULE)hDLL);

  00018	e1a00004	 mov         r0, r4
  0001c	eb000000	 bl          DisableThreadLibraryCalls
  00020		 |$LN2@DllMain|

; 484  :             break;
; 485  :         }
; 486  :     return TRUE;

  00020	e3a00001	 mov         r0, #1

; 487  : }

  00024	e8bd4010	 ldmia       sp!, {r4, lr}
  00028	e12fff1e	 bx          lr
  0002c		 |$LN9@DllMain|
  0002c		 |$LN10@DllMain|
  0002c	00000000	 DCD         |dpCurSettings|
  00030		 |$M34934|

			 ENDP  ; |DllMain|

	EXPORT	|?Lock@CAudioManager@@QAAXXZ|		; CAudioManager::Lock

  00000			 AREA	 |.pdata|, PDATA
|$T34948| DCD	|$LN7@Lock|
	DCD	0x40000601
; Function compile flags: /Ogspy
; File c:\wince600\platform\z2170p\src\drivers\tps659xx_wave\audiomgr.h

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Lock@CAudioManager@@QAAXXZ| PROC	; CAudioManager::Lock

; 136  :     void Lock()               {EnterMutex();}

  00000		 |$LN7@Lock|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34945|
  00004	e59f0008	 ldr         r0, [pc, #8]
  00008	eb000000	 bl          EnterCriticalSection
  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$LN8@Lock|
  00014		 |$LN9@Lock|
  00014	00000000	 DCD         |s_cs|
  00018		 |$M34946|

			 ENDP  ; |?Lock@CAudioManager@@QAAXXZ|, CAudioManager::Lock

	EXPORT	|?Unlock@CAudioManager@@QAAXXZ|		; CAudioManager::Unlock
; File c:\wince600\platform\z2170p\src\drivers\tps659xx_wave\wavemain.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T34960| DCD	|$LN7@Unlock|
	DCD	0x40000601
; Function compile flags: /Ogspy
; File c:\wince600\platform\z2170p\src\drivers\tps659xx_wave\audiomgr.h

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Unlock@CAudioManager@@QAAXXZ| PROC	; CAudioManager::Unlock

; 137  :     void Unlock()             {ExitMutex();}

  00000		 |$LN7@Unlock|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M34957|
  00004	e59f0008	 ldr         r0, [pc, #8]
  00008	eb000000	 bl          LeaveCriticalSection
  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$LN8@Unlock|
  00014		 |$LN9@Unlock|
  00014	00000000	 DCD         |s_cs|
  00018		 |$M34958|

			 ENDP  ; |?Unlock@CAudioManager@@QAAXXZ|, CAudioManager::Unlock

	EXPORT	|WAV_IOControl|
	EXPORT	|??_C@_1FO@GCBCJABJ@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAA?$AAc?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAv?$AAi?$AAo?$AAl?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAW@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GK@GEDIGL@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAo?$AAb?$AAj?$AAe?$AAc?$AAt?$AA?5?$AAa?$AAc?$AAc?$AAe@| [ DATA ] ; `string'
	IMPORT	|?process_IOControlMsg@CAudioManager@@QAAHKPAEK0KPAK@Z| ; CAudioManager::process_IOControlMsg
	IMPORT	|SetLastError|
	IMPORT	|__C_specific_handler|
; File c:\wince600\platform\z2170p\src\drivers\tps659xx_wave\wavemain.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T35020| DCD	|$LN37@WAV_IOCont|
	DCD	0xc0003c04

  00000			 AREA	 |.pdata|, PDATA
|$T35022| DCD	|$LN13@WAV_IOCont|
	DCD	0x40000e02

  00000			 AREA	 |.xdata|, DATA
|$T35018| DCD	0x1
	DCD	|$LN17@WAV_IOCont|
	DCD	|$LN18@WAV_IOCont|
	DCD	|$LN13@WAV_IOCont|
	DCD	|$LN14@WAV_IOCont|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FO@GCBCJABJ@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAA?$AAc?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAv?$AAi?$AAo?$AAl?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAW@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "!", 0x0, "E", 0x0, "R"
	DCB	0x0, "R", 0x0, "O", 0x0, "R", 0x0, "-", 0x0, "A", 0x0, "c"
	DCB	0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, " ", 0x0, "v"
	DCB	0x0, "i", 0x0, "o", 0x0, "l", 0x0, "a", 0x0, "t", 0x0, "i"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, " "
	DCB	0x0, "W", 0x0, "A", 0x0, "V", 0x0, "_", 0x0, "I", 0x0, "O"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GK@GEDIGL@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAo?$AAb?$AAj?$AAe?$AAc?$AAt?$AA?5?$AAa?$AAc?$AAc?$AAe@| DCB "W"
	DCB	0x0, "A", 0x0, "V", 0x0, ":", 0x0, "!", 0x0, "E", 0x0, "R"
	DCB	0x0, "R", 0x0, "O", 0x0, "R", 0x0, " ", 0x0, "-", 0x0, " "
	DCB	0x0, "U", 0x0, "n", 0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w"
	DCB	0x0, "n", 0x0, " ", 0x0, "o", 0x0, "b", 0x0, "j", 0x0, "e"
	DCB	0x0, "c", 0x0, "t", 0x0, " ", 0x0, "a", 0x0, "c", 0x0, "c"
	DCB	0x0, "e", 0x0, "s", 0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "a", 0x0, "u", 0x0, "d", 0x0, "i", 0x0, "o"
	DCB	0x0, " ", 0x0, "d", 0x0, "r", 0x0, "i", 0x0, "v", 0x0, "e"
	DCB	0x0, "r", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__C_specific_handler|
  00004	00000000	 DCD         |$T35018|

  00008		 |WAV_IOControl| PROC

; 420  : {

  00008		 |$LN37@WAV_IOCont|
  00008	e1a0c00d	 mov         r12, sp
  0000c	e92d59f0	 stmdb       sp!, {r4 - r8, r11, r12, lr}
  00010	e28db020	 add         r11, sp, #0x20
  00014	e24dd014	 sub         sp, sp, #0x14
  00018		 |$LN35@WAV_IOCont|
  00018	e1a06003	 mov         r6, r3
  0001c	e1a07002	 mov         r7, r2
  00020	e1a08001	 mov         r8, r1

; 421  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:+WAV_IOControl(dwCode=%d)\r\n", dwCode));
; 422  : 
; 423  :     BOOL bSuccess = FALSE;
; 424  : 
; 425  :     WAVInstance_t *pInstance = (WAVInstance_t*)dwOpenData;
; 426  :     if (pInstance->cookie != WAV_INSTANCE_COOKIE)

  00024	e5904000	 ldr         r4, [r0]
  00028	e59fe0fc	 ldr         lr, [pc, #0xFC]
  0002c	e3a05000	 mov         r5, #0
  00030	e50b5028	 str         r5, [r11, #-0x28]
  00034	e154000e	 cmp         r4, lr
  00038	0a000007	 beq         |$LN3@WAV_IOCont|

; 427  :         {
; 428  :         RETAILMSG(ZONE_ERROR,
; 429  :             (L"WAV:!ERROR - Unknown object accessing audio driver\r\n")
; 430  :             );

  0003c	e59f30e0	 ldr         r3, [pc, #0xE0]
  00040	e5933440	 ldr         r3, [r3, #0x440]
  00044	e3130902	 tst         r3, #2, 18
  00048	159f00d8	 ldrne       r0, [pc, #0xD8]
  0004c	1b000000	 blne        NKDbgPrintfW

; 431  : 
; 432  :         SetLastError(ERROR_ACCESS_DENIED);

  00050	e3a00005	 mov         r0, #5
  00054	eb000000	 bl          SetLastError

; 433  :         goto cleanUp;

  00058	ea000022	 b           |$LN4@WAV_IOCont|
  0005c		 |$LN3@WAV_IOCont|

; 434  :         }
; 435  : 
; 436  :     CAudioManager *pAudioManager = pInstance->pDevice->pAudioManager;
; 437  : 
; 438  :     EnterMutex();

  0005c	e5903004	 ldr         r3, [r0, #4]
  00060	e59f00b4	 ldr         r0, [pc, #0xB4]
  00064	e5934004	 ldr         r4, [r3, #4]
  00068	eb000000	 bl          EnterCriticalSection

; 439  :     pAudioManager->Lock();

  0006c	e59f00a8	 ldr         r0, [pc, #0xA8]
  00070	eb000000	 bl          EnterCriticalSection
  00074		 |$LN17@WAV_IOCont|

; 440  :     __try
; 441  :         {
; 442  :         bSuccess = pAudioManager->process_IOControlMsg(dwCode, pBufIn,
; 443  :                         dwLenIn, pBufOut, dwLenOut, pdwActualOut
; 444  :                         );

  00074	e59b3008	 ldr         r3, [r11, #8]
  00078	e59b2004	 ldr         r2, [r11, #4]
  0007c	e59b1000	 ldr         r1, [r11]
  00080	e58d3008	 str         r3, [sp, #8]
  00084	e58d2004	 str         r2, [sp, #4]
  00088	e58d1000	 str         r1, [sp]
  0008c	e1a03006	 mov         r3, r6
  00090	e1a02007	 mov         r2, r7
  00094	e1a01008	 mov         r1, r8
  00098	e1a00004	 mov         r0, r4
  0009c	eb000000	 bl          |?process_IOControlMsg@CAudioManager@@QAAHKPAEK0KPAK@Z|
  000a0	e1a05000	 mov         r5, r0
  000a4	e50b5028	 str         r5, [r11, #-0x28]
  000a8		 |$LN18@WAV_IOCont|

; 445  :         }

  000a8	ea000008	 b           |$LN19@WAV_IOCont|
  000ac		 |$LN14@WAV_IOCont|

; 448  :         {
; 449  :         RETAILMSG(ZONE_ERROR,
; 450  :             (L"WAV:!ERROR-Access violation in WAV_IOControl\r\n")
; 451  :             );

  000ac	e59f3070	 ldr         r3, [pc, #0x70]
  000b0	e5933440	 ldr         r3, [r3, #0x440]
  000b4	e3130902	 tst         r3, #2, 18
  000b8	159f0060	 ldrne       r0, [pc, #0x60]
  000bc	1b000000	 blne        NKDbgPrintfW
  000c0	e3a03116	 mov         r3, #0x16, 2

; 452  : 
; 453  :         SetLastError((DWORD) E_FAIL);

  000c4	e3830901	 orr         r0, r3, #1, 18
  000c8	eb000000	 bl          SetLastError
  000cc	e51b5028	 ldr         r5, [r11, #-0x28]
  000d0		 |$LN19@WAV_IOCont|

; 454  :         }
; 455  :     pAudioManager->Unlock();

  000d0	e59f0044	 ldr         r0, [pc, #0x44]
  000d4	eb000000	 bl          LeaveCriticalSection

; 456  :     ExitMutex();

  000d8	e59f003c	 ldr         r0, [pc, #0x3C]
  000dc	eb000000	 bl          LeaveCriticalSection
  000e0		 |$cleanUp$34646|

; 457  : 
; 458  : cleanUp:
; 459  : 
; 460  :     DEBUGMSG(ZONE_FUNCTION, (L"WAV:-WAV_IOControl(bSuccess=%d)\r\n", bSuccess));
; 461  :     return bSuccess;

  000e0	ea000000	 b           |$LN4@WAV_IOCont|
  000e4		 |$LN34@WAV_IOCont|
  000e4	e51b5024	 ldr         r5, [r11, #-0x24]
  000e8		 |$LN4@WAV_IOCont|

; 462  : }

  000e8	e1a00005	 mov         r0, r5
  000ec	e24bd020	 sub         sp, r11, #0x20
  000f0	e89d69f0	 ldmia       sp, {r4 - r8, r11, sp, lr}
  000f4	e12fff1e	 bx          lr

			 ENDP  ; |WAV_IOControl|

  000f8		 |$LN13@WAV_IOCont|
  000f8		 |$LN36@WAV_IOCont|

; 446  :     __except (GetExceptionCode() == STATUS_ACCESS_VIOLATION ?
; 447  :                 EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH)

  000f8	e52de004	 str         lr, [sp, #-4]!
  000fc	e24dd00c	 sub         sp, sp, #0xC
  00100		 |$LN16@WAV_IOCont|
  00100		 |$LN39@WAV_IOCont|
  00100	e5903000	 ldr         r3, [r0]
  00104	e5933000	 ldr         r3, [r3]
  00108	e3530117	 cmp         r3, #0x17, 2
  0010c	03a00001	 moveq       r0, #1
  00110	13a00000	 movne       r0, #0
  00114		 |$LN15@WAV_IOCont|
  00114	e28dd00c	 add         sp, sp, #0xC
  00118	e49df004	 ldr         pc, [sp], #4
  0011c		 |$LN41@WAV_IOCont|
  0011c		 |$LN42@WAV_IOCont|
  0011c	00000000	 DCD         |s_cs|
  00120		 |$LN43@WAV_IOCont|
  00120	00000000	 DCD         |??_C@_1FO@GCBCJABJ@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?9?$AAA?$AAc?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAv?$AAi?$AAo?$AAl?$AAa?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAW@|
  00124		 |$LN44@WAV_IOCont|
  00124	00000000	 DCD         |dpCurSettings|
  00128		 |$LN45@WAV_IOCont|
  00128	00000000	 DCD         |??_C@_1GK@GEDIGL@?$AAW?$AAA?$AAV?$AA?3?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AAo?$AAb?$AAj?$AAe?$AAc?$AAt?$AA?5?$AAa?$AAc?$AAc?$AAe@|
  0012c		 |$LN46@WAV_IOCont|
  0012c	77617649	 DCD         0x77617649
  00130		 |$LN40@WAV_IOCont|
  00130		 |$LN38@WAV_IOCont|
	END
