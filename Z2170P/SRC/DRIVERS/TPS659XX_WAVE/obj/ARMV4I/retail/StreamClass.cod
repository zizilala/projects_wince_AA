; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\DRIVERS\TPS659XX_WAVE\StreamClass.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??0StreamClassTable@@QAA@XZ|		; StreamClassTable::StreamClassTable
	EXPORT	|??_7StreamClassTable@@6B@| [ DATA ]	; StreamClassTable::`vftable'
	IMPORT	|??_EStreamClassTable@@UAAPAXI@Z|, WEAK |??_GStreamClassTable@@UAAPAXI@Z| ; StreamClassTable::`vector deleting destructor', StreamClassTable::`scalar deleting destructor'
; File c:\wince600\platform\z2170p\src\drivers\tps659xx_wave\streamclass.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T32205| DCD	|$LN5@StreamClas|
	DCD	0x40000700

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7StreamClassTable@@6B@| DCD |??_EStreamClassTable@@UAAPAXI@Z| ; StreamClassTable::`vftable'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0StreamClassTable@@QAA@XZ| PROC	; StreamClassTable::StreamClassTable

; 31   : {

  00000		 |$LN5@StreamClas|
  00000		 |$M32202|
  00000	e59f3010	 ldr         r3, [pc, #0x10]
  00004	e3a02000	 mov         r2, #0
  00008	e5802004	 str         r2, [r0, #4]
  0000c	e5803000	 str         r3, [r0]
  00010	e5802008	 str         r2, [r0, #8]

; 32   : 
; 33   : }

  00014	e12fff1e	 bx          lr
  00018		 |$LN6@StreamClas|
  00018		 |$LN7@StreamClas|
  00018	00000000	 DCD         |??_7StreamClassTable@@6B@|
  0001c		 |$M32203|

			 ENDP  ; |??0StreamClassTable@@QAA@XZ|, StreamClassTable::StreamClassTable

	EXPORT	|??1StreamClassTable@@UAA@XZ|		; StreamClassTable::~StreamClassTable
	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$T32216| DCD	|$LN6@StreamClas@2|
	DCD	0x40000a01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1StreamClassTable@@UAA@XZ| PROC	; StreamClassTable::~StreamClassTable

; 36   : {

  00000		 |$LN6@StreamClas@2|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M32213|

; 37   :     if (m_pTable)

  00004	e5902004	 ldr         r2, [r0, #4]
  00008	e59f3014	 ldr         r3, [pc, #0x14]
  0000c	e3520000	 cmp         r2, #0
  00010	e5803000	 str         r3, [r0]

; 38   :     {
; 39   :         delete [] m_pTable;

  00014	11a00002	 movne       r0, r2
  00018	1b000000	 blne        |??3@YAXPAX@Z|

; 40   :     }
; 41   : }

  0001c	e49de004	 ldr         lr, [sp], #4
  00020	e12fff1e	 bx          lr
  00024		 |$LN7@StreamClas@2|
  00024		 |$LN8@StreamClas@2|
  00024	00000000	 DCD         |??_7StreamClassTable@@6B@|
  00028		 |$M32214|

			 ENDP  ; |??1StreamClassTable@@UAA@XZ|, StreamClassTable::~StreamClassTable

	EXPORT	|?Initialize@StreamClassTable@@QAAHXZ|	; StreamClassTable::Initialize
	IMPORT	|??2@YAPAXI@Z|				; operator new

  00000			 AREA	 |.pdata|, PDATA
|$T32231| DCD	|$LN8@Initialize|
	DCD	0x40001901
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Initialize@StreamClassTable@@QAAHXZ| PROC ; StreamClassTable::Initialize

; 46   : {

  00000		 |$LN8@Initialize|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M32228|
  00004	e1a04000	 mov         r4, r0

; 47   :     DEBUGCHK((NULL == m_pTable) && (0 == m_cEntries));
; 48   : 
; 49   :     // Create default entry.  It is expected for StreamClassTable::Reinitialize
; 50   :     // to be called afterwards.
; 51   :     m_pTable = new STREAMCLASSCONFIG[1];

  00008	e3a0000c	 mov         r0, #0xC
  0000c	eb000000	 bl          |??2@YAPAXI@Z|
  00010	e3500000	 cmp         r0, #0
  00014	e5840004	 str         r0, [r4, #4]

; 52   :     if (m_pTable != NULL)

  00018	0a00000e	 beq         |$LN4@Initialize|

; 53   :     {
; 54   :         m_pTable[0].dwClassId = c_dwClassIdDefault;

  0001c	e3a01000	 mov         r1, #0
  00020	e5801000	 str         r1, [r0]

; 55   :         m_pTable[0].dwClassGain = c_dwClassGainDefault;

  00024	e5942004	 ldr         r2, [r4, #4]
  00028	e3a03cff	 mov         r3, #0xFF, 24
  0002c	e38330ff	 orr         r3, r3, #0xFF
  00030	e5823004	 str         r3, [r2, #4]

; 56   :         m_pTable[0].fBypassDeviceGain = c_fBypassDeviceGainDefault;

  00034	e5943004	 ldr         r3, [r4, #4]

; 57   :         m_cEntries = 1;

  00038	e3a02001	 mov         r2, #1
  0003c	e5831008	 str         r1, [r3, #8]

; 58   :     }
; 59   : 
; 60   :     return (m_pTable != NULL);

  00040	e5943004	 ldr         r3, [r4, #4]
  00044	e5842008	 str         r2, [r4, #8]
  00048	e3530000	 cmp         r3, #0
  0004c	13a00001	 movne       r0, #1

; 61   : }

  00050	18bd4010	 ldmneia     sp!, {r4, lr}
  00054	112fff1e	 bxne        lr
  00058		 |$LN4@Initialize|

; 58   :     }
; 59   : 
; 60   :     return (m_pTable != NULL);

  00058	e3a00000	 mov         r0, #0

; 61   : }

  0005c	e8bd4010	 ldmia       sp!, {r4, lr}
  00060	e12fff1e	 bx          lr
  00064		 |$M32229|

			 ENDP  ; |?Initialize@StreamClassTable@@QAAHXZ|, StreamClassTable::Initialize

	EXPORT	|?Reinitialize@StreamClassTable@@QAAHPAU_STREAMCLASSCONFIG@@K@Z| ; StreamClassTable::Reinitialize
	IMPORT	|memcpy|

  00000			 AREA	 |.pdata|, PDATA
|$T32250| DCD	|$LN11@Reinitiali|
	DCD	0x40002201
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Reinitialize@StreamClassTable@@QAAHPAU_STREAMCLASSCONFIG@@K@Z| PROC ; StreamClassTable::Reinitialize

; 70   : {

  00000		 |$LN11@Reinitiali|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004		 |$M32247|
  00004	e1a04002	 mov         r4, r2
  00008	e1b08001	 movs        r8, r1
  0000c	e1a06000	 mov         r6, r0

; 71   :     if ((NULL == pTable) || (0 == cEntries))

  00010	0a000017	 beq         |$LN3@Reinitiali|
  00014	e3540000	 cmp         r4, #0
  00018	0a000015	 beq         |$LN3@Reinitiali|

; 74   :     }
; 75   : 
; 76   :     BOOL fSuccess = FALSE;
; 77   : 
; 78   :     // Alloc new table.
; 79   :     STREAMCLASSCONFIG *pNewTable = new STREAMCLASSCONFIG[cEntries];

  0001c	e59f3060	 ldr         r3, [pc, #0x60]
  00020	e3a05000	 mov         r5, #0
  00024	e1540003	 cmp         r4, r3
  00028	90843084	 addls       r3, r4, r4, lsl #1
  0002c	91a00103	 movls       r0, r3, lsl #2
  00030	83e00000	 mvnhi       r0, #0
  00034	eb000000	 bl          |??2@YAPAXI@Z|
  00038	e1b07000	 movs        r7, r0

; 80   :     if (pNewTable != NULL)

  0003c	0a00000d	 beq         |$LN5@Reinitiali|

; 81   :     {
; 82   :         // Copy to new table.
; 83   :         memcpy(pNewTable, pTable, cEntries * sizeof(pNewTable[0]));

  00040	e0843084	 add         r3, r4, r4, lsl #1
  00044	e1a02103	 mov         r2, r3, lsl #2
  00048	e1a01008	 mov         r1, r8
  0004c	e1a00007	 mov         r0, r7
  00050	eb000000	 bl          memcpy

; 84   : 
; 85   :         // Wipe old table.
; 86   :         if (m_pTable)

  00054	e5963004	 ldr         r3, [r6, #4]
  00058	e3530000	 cmp         r3, #0

; 87   :         {
; 88   :             delete [] m_pTable;

  0005c	11a00003	 movne       r0, r3
  00060	1b000000	 blne        |??3@YAXPAX@Z|

; 89   :         }
; 90   : 
; 91   :         // Save new table.
; 92   :         m_pTable = pNewTable;

  00064	e5867004	 str         r7, [r6, #4]

; 93   :         m_cEntries = cEntries;

  00068	e5864008	 str         r4, [r6, #8]

; 94   : 
; 95   :         fSuccess = TRUE;

  0006c	e3a05001	 mov         r5, #1

; 96   :     }
; 97   : 
; 98   :     return fSuccess;

  00070	ea000000	 b           |$LN5@Reinitiali|
  00074		 |$LN3@Reinitiali|

; 72   :     {
; 73   :         return FALSE;

  00074	e3a05000	 mov         r5, #0
  00078		 |$LN5@Reinitiali|

; 99   : }

  00078	e1a00005	 mov         r0, r5
  0007c	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  00080	e12fff1e	 bx          lr
  00084		 |$LN12@Reinitiali|
  00084		 |$LN13@Reinitiali|
  00084	15555555	 DCD         0x15555555
  00088		 |$M32248|

			 ENDP  ; |?Reinitialize@StreamClassTable@@QAAHPAU_STREAMCLASSCONFIG@@K@Z|, StreamClassTable::Reinitialize

	EXPORT	|?FindEntry@StreamClassTable@@QAAPAU_STREAMCLASSCONFIG@@K@Z| ; StreamClassTable::FindEntry

  00000			 AREA	 |.pdata|, PDATA
|$T32268| DCD	|$LN14@FindEntry|
	DCD	0x40001c01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?FindEntry@StreamClassTable@@QAAPAU_STREAMCLASSCONFIG@@K@Z| PROC ; StreamClassTable::FindEntry

; 106  : {

  00000		 |$LN14@FindEntry|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M32265|

; 107  :     if ((NULL == m_pTable) || (0 == m_cEntries))

  00004	e5903004	 ldr         r3, [r0, #4]
  00008	e1b04003	 movs        r4, r3
  0000c	0a000014	 beq         |$LN5@FindEntry|
  00010	e5903008	 ldr         r3, [r0, #8]
  00014	e1b05003	 movs        r5, r3
  00018	0a000011	 beq         |$LN5@FindEntry|

; 110  :     }
; 111  : 
; 112  :     STREAMCLASSCONFIG *pEntry = NULL;

  0001c	e3a00000	 mov         r0, #0

; 113  : 
; 114  :     for (DWORD iEntry = 0; iEntry < m_cEntries; iEntry++)

  00020	e3a02000	 mov         r2, #0
  00024	e3550000	 cmp         r5, #0
  00028	0a00000e	 beq         |$LN7@FindEntry|

; 110  :     }
; 111  : 
; 112  :     STREAMCLASSCONFIG *pEntry = NULL;

  0002c	e1a0e004	 mov         lr, r4
  00030		 |$LL4@FindEntry|

; 115  :     {
; 116  :         if (m_pTable[iEntry].dwClassId == dwClassId)

  00030	e59e3000	 ldr         r3, [lr]
  00034	e1530001	 cmp         r3, r1
  00038	0a000005	 beq         |$LN10@FindEntry|
  0003c	e2822001	 add         r2, r2, #1
  00040	e1520005	 cmp         r2, r5
  00044	e28ee00c	 add         lr, lr, #0xC
  00048	3afffff8	 bcc         |$LL4@FindEntry|

; 119  :             break;
; 120  :         }
; 121  :     }
; 122  : 
; 123  :     return pEntry;
; 124  : }

  0004c	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00050	e12fff1e	 bx          lr
  00054		 |$LN10@FindEntry|

; 117  :         {
; 118  :             pEntry = &m_pTable[iEntry];

  00054	e0823082	 add         r3, r2, r2, lsl #1
  00058	e0840103	 add         r0, r4, r3, lsl #2

; 119  :             break;
; 120  :         }
; 121  :     }
; 122  : 
; 123  :     return pEntry;
; 124  : }

  0005c	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00060	e12fff1e	 bx          lr
  00064		 |$LN5@FindEntry|

; 108  :     {
; 109  :         return NULL;

  00064	e3a00000	 mov         r0, #0
  00068		 |$LN7@FindEntry|

; 119  :             break;
; 120  :         }
; 121  :     }
; 122  : 
; 123  :     return pEntry;
; 124  : }

  00068	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  0006c	e12fff1e	 bx          lr
  00070		 |$M32266|

			 ENDP  ; |?FindEntry@StreamClassTable@@QAAPAU_STREAMCLASSCONFIG@@K@Z|, StreamClassTable::FindEntry


  00000			 AREA	 |.pdata|, PDATA
|$T32285| DCD	|$LN9@scalar|
	DCD	0x40001001
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GStreamClassTable@@UAAPAXI@Z| PROC	; StreamClassTable::`scalar deleting destructor'
  00000		 |$LN9@scalar|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M32282|
  00004	e1a05001	 mov         r5, r1
  00008	e1a04000	 mov         r4, r0
  0000c	e5942004	 ldr         r2, [r4, #4]
  00010	e59f3024	 ldr         r3, [pc, #0x24]
  00014	e3520000	 cmp         r2, #0
  00018	11a00002	 movne       r0, r2
  0001c	e5843000	 str         r3, [r4]
  00020	1b000000	 blne        |??3@YAXPAX@Z|
  00024	e3150001	 tst         r5, #1
  00028	11a00004	 movne       r0, r4
  0002c	1b000000	 blne        |??3@YAXPAX@Z|
  00030	e1a00004	 mov         r0, r4
  00034	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00038	e12fff1e	 bx          lr
  0003c		 |$LN10@scalar|
  0003c		 |$LN11@scalar|
  0003c	00000000	 DCD         |??_7StreamClassTable@@6B@|
  00040		 |$M32283|

			 ENDP  ; |??_GStreamClassTable@@UAAPAXI@Z|, StreamClassTable::`scalar deleting destructor'

	END
