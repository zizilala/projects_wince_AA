; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\DRIVERS\PM\DLL\pmstream.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|gStreamInterface| [ DATA ]

  00000			 AREA	 |.data|, DATA
|gStreamInterface| DCD |?InitStreamDeviceInterface@@YAHXZ|
	DCD	|?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z|
	DCD	|?CloseStreamDevice@@YAHPAX@Z|
	DCD	|?RequestStreamDevice@@YAHPAXK0K0KPAK@Z|
	EXPORT	|__$ArrayPad$| [ DATA ]
	IMPORT	|CeLogData|
	IMPORT	|StringCchLengthW|
	IMPORT	|StringCchVPrintfW|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|__security_cookie|
	IMPORT	|__security_check_cookie|
; File c:\wince600\public\common\sdk\inc\celog.h

  00000			 AREA	 |.pdata|, PDATA
|$T33637| DCD	|$LN7@CeLogMsg|
	DCD	0xc0002a04

  00000			 AREA	 |.xdata|, DATA
|$T33633| DCD	0xffffffe0
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T33633|

  00008		 |CeLogMsg| PROC

; 1015 : {

  00008		 |$LN7@CeLogMsg|
  00008	e1a0c00d	 mov         r12, sp
  0000c	e92d000f	 stmdb       sp!, {r0 - r3}
  00010	e92d5010	 stmdb       sp!, {r4, r12, lr}
  00014	e24dde22	 sub         sp, sp, #0x22, 28
  00018		 |$M33634|
  00018	e58d022c	 str         r0, [sp, #0x22C]
  0001c	e59f3088	 ldr         r3, [pc, #0x88]
  00020	e5933000	 ldr         r3, [r3]
  00024	e58d321c	 str         r3, [sp, #0x21C]

; 1016 :     va_list arglist;
; 1017 :     WCHAR   szTemp[MAX_PATH];
; 1018 :     size_t  cchLen;
; 1019 :     HRESULT hr;
; 1020 : 
; 1021 :     // Compose a single string using the input args
; 1022 :     va_start(arglist, szFormat);
; 1023 :     hr = StringCchVPrintfW(szTemp, MAX_PATH, szFormat, arglist);

  00028	e1a02000	 mov         r2, r0
  0002c	e28d0014	 add         r0, sp, #0x14
  00030	e28d3e23	 add         r3, sp, #0x23, 28
  00034	e3a01f41	 mov         r1, #0x41, 30
  00038	eb000000	 bl          StringCchVPrintfW
  0003c	e3500000	 cmp         r0, #0

; 1024 :     if (SUCCEEDED(hr)) {

  00040	4a000014	 bmi         |$LN1@CeLogMsg|

; 1025 :         hr = StringCchLengthW(szTemp, MAX_PATH, &cchLen);

  00044	e28d2010	 add         r2, sp, #0x10
  00048	e3a01f41	 mov         r1, #0x41, 30
  0004c	e28d0014	 add         r0, sp, #0x14
  00050	eb000000	 bl          StringCchLengthW
  00054	e3500000	 cmp         r0, #0

; 1026 :         if (SUCCEEDED(hr)) {

  00058	4a00000e	 bmi         |$LN1@CeLogMsg|

; 1027 :             CeLogData(TRUE, CELID_RAW_WCHAR, szTemp, (WORD)((cchLen + 1) * sizeof(WCHAR)),
; 1028 :                       0, CELZONE_ALWAYSON, 0, FALSE);

  0005c	e59d3010	 ldr         r3, [sp, #0x10]
  00060	e3a04101	 mov         r4, #1, 2
  00064	e3a0e000	 mov         lr, #0
  00068	e2833001	 add         r3, r3, #1
  0006c	e1a03083	 mov         r3, r3, lsl #1
  00070	e1a03803	 mov         r3, r3, lsl #16
  00074	e1a03823	 mov         r3, r3, lsr #16
  00078	e28d2014	 add         r2, sp, #0x14
  0007c	e3a0104a	 mov         r1, #0x4A
  00080	e3a00001	 mov         r0, #1
  00084	e58de00c	 str         lr, [sp, #0xC]
  00088	e58de008	 str         lr, [sp, #8]
  0008c	e58d4004	 str         r4, [sp, #4]
  00090	e58de000	 str         lr, [sp]
  00094	eb000000	 bl          CeLogData
  00098		 |$LN1@CeLogMsg|
  00098	e59d021c	 ldr         r0, [sp, #0x21C]
  0009c	eb000000	 bl          __security_check_cookie

; 1029 :         }
; 1030 :     }
; 1031 : }

  000a0	e28dde22	 add         sp, sp, #0x22, 28
  000a4	e89d6010	 ldmia       sp, {r4, sp, lr}
  000a8	e12fff1e	 bx          lr
  000ac		 |$LN8@CeLogMsg|
  000ac		 |$LN9@CeLogMsg|
  000ac	00000000	 DCD         |__security_cookie|
  000b0		 |$M33635|

			 ENDP  ; |CeLogMsg|

; File c:\wince600\platform\z2170p\src\drivers\pm\dll\pmstream.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T33649| DCD	|$LN5@InitStream|
	DCD	0x40000200
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?InitStreamDeviceInterface@@YAHXZ| PROC ; InitStreamDeviceInterface

; 33   : {

  00000		 |$LN5@InitStream|
  00000		 |$M33646|

; 34   :     // nothing special to do for stream devices
; 35   :     return TRUE;

  00000	e3a00001	 mov         r0, #1

; 36   : }

  00004	e12fff1e	 bx          lr
  00008		 |$M33647|

			 ENDP  ; |?InitStreamDeviceInterface@@YAHXZ|, InitStreamDeviceInterface

	EXPORT	|??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@| [ DATA ] ; `string'
	IMPORT	|GetLastError|
	IMPORT	|dpCurSettings|
	IMPORT	|CreateFileW|

  00000			 AREA	 |.pdata|, PDATA
|$T33666| DCD	|$LN12@OpenStream|
	DCD	0x40003602

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "h", 0x0, "a", 0x0, "n"
	DCB	0x0, "d", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t", 0x0, "o"
	DCB	0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " "
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "b", 0x0, "e", 0x0, "h"
	DCB	0x0, "a", 0x0, "l", 0x0, "f", 0x0, " ", 0x0, "o", 0x0, "f"
	DCB	0x0, " ", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " "
	DCB	0x0, "i", 0x0, "s", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "O"
	DCB	0x0, "p", 0x0, "e", 0x0, "n", 0x0, "S", 0x0, "t", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "m", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "O", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, "F", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "("
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, ")", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z| PROC ; OpenStreamDevice

; 43   : {

  00000		 |$LN12@OpenStream|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004	e24dd00c	 sub         sp, sp, #0xC
  00008		 |$M33663|
  00008	e1a06000	 mov         r6, r0

; 44   :     PDEVICE_STATE pdsReal = pds;
; 45   : 
; 46   : #ifndef SHIP_BUILD
; 47   :     SETFNAME(_T("OpenStreamDevice"));
; 48   : #endif
; 49   : 
; 50   :     // determine what device to actually open
; 51   :     if(pds->pParent != NULL) {

  0000c	e5963024	 ldr         r3, [r6, #0x24]
  00010	e1a05006	 mov         r5, r6

; 52   :         pdsReal = pds->pParent;
; 53   :     }
; 54   : 
; 55   :     // get a handle to the client
; 56   :     HANDLE hRet = CreateFile(pdsReal->pszName, 0, 
; 57   :         FILE_SHARE_READ|FILE_SHARE_WRITE, NULL, OPEN_EXISTING, 0, NULL);

  00014	e3a04003	 mov         r4, #3
  00018	e3530000	 cmp         r3, #0
  0001c	11a05003	 movne       r5, r3
  00020	e5950000	 ldr         r0, [r5]
  00024	e3a0e000	 mov         lr, #0
  00028	e3a03000	 mov         r3, #0
  0002c	e3a02003	 mov         r2, #3
  00030	e3a01000	 mov         r1, #0
  00034	e58de008	 str         lr, [sp, #8]
  00038	e58de004	 str         lr, [sp, #4]
  0003c	e58d4000	 str         r4, [sp]
  00040	eb000000	 bl          CreateFileW

; 58   :     if(hRet == INVALID_HANDLE_VALUE) {

  00044	e59f8088	 ldr         r8, [pc, #0x88]
  00048	e1a07000	 mov         r7, r0
  0004c	e3770001	 cmn         r7, #1

; 59   :         PMLOGMSG(ZONE_WARN || ZONE_IOCTL, (_T("%s: OpenFile('%s') failed %d (0x%08x)\r\n"), pszFname,
; 60   :             pdsReal->pszName, GetLastError(), GetLastError()));

  00050	e5983440	 ldr         r3, [r8, #0x440]
  00054	1a00000d	 bne         |$LN6@OpenStream|
  00058	e3130002	 tst         r3, #2
  0005c	1a000001	 bne         |$LN5@OpenStream|
  00060	e3130020	 tst         r3, #0x20
  00064	0a000009	 beq         |$LN6@OpenStream|
  00068		 |$LN5@OpenStream|
  00068	eb000000	 bl          GetLastError
  0006c	e1a04000	 mov         r4, r0
  00070	eb000000	 bl          GetLastError
  00074	e5952000	 ldr         r2, [r5]
  00078	e59f1048	 ldr         r1, [pc, #0x48]
  0007c	e1a03000	 mov         r3, r0
  00080	e59f0048	 ldr         r0, [pc, #0x48]
  00084	e58d4000	 str         r4, [sp]
  00088	eb000000	 bl          CeLogMsg
  0008c	e5983440	 ldr         r3, [r8, #0x440]
  00090		 |$LN6@OpenStream|

; 61   :     }
; 62   :     PMLOGMSG(ZONE_DEVICE || ZONE_IOCTL, (_T("%s: handle to '%s' on behalf of '%s' is 0x%08x\r\n"), \
; 63   :         pszFname, pdsReal->pszName, pds->pszName, hRet));

  00090	e3130010	 tst         r3, #0x10
  00094	1a000001	 bne         |$LN7@OpenStream|
  00098	e3130020	 tst         r3, #0x20
  0009c	0a000005	 beq         |$LN8@OpenStream|
  000a0		 |$LN7@OpenStream|
  000a0	e5963000	 ldr         r3, [r6]
  000a4	e5952000	 ldr         r2, [r5]
  000a8	e59f001c	 ldr         r0, [pc, #0x1C]
  000ac	e59f1014	 ldr         r1, [pc, #0x14]
  000b0	e58d7000	 str         r7, [sp]
  000b4	eb000000	 bl          CeLogMsg
  000b8		 |$LN8@OpenStream|

; 64   : 
; 65   :     return hRet;
; 66   : }

  000b8	e1a00007	 mov         r0, r7
  000bc	e28dd00c	 add         sp, sp, #0xC
  000c0	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  000c4	e12fff1e	 bx          lr
  000c8		 |$LN13@OpenStream|
  000c8		 |$LN14@OpenStream|
  000c8	00000000	 DCD         |??_C@_1CC@OIEAOGEI@?$AAO?$AAp?$AAe?$AAn?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  000cc		 |$LN15@OpenStream|
  000cc	00000000	 DCD         |??_C@_1GC@OGEPHNOI@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAh?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAo?$AAn?$AA?5?$AAb?$AAe?$AAh?$AAa?$AAl?$AAf?$AA?5?$AAo?$AAf?$AA?5@|
  000d0		 |$LN16@OpenStream|
  000d0	00000000	 DCD         |??_C@_1FA@ELCLCFMF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAO?$AAp?$AAe?$AAn?$AAF?$AAi?$AAl?$AAe?$AA?$CI?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$CI?$AA0?$AAx@|
  000d4		 |$LN17@OpenStream|
  000d4	00000000	 DCD         |dpCurSettings|
  000d8		 |$M33664|

			 ENDP  ; |?OpenStreamDevice@@YAPAXPAU_DeviceState_tag@@@Z|, OpenStreamDevice

	EXPORT	|??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|CloseHandle|

  00000			 AREA	 |.pdata|, PDATA
|$T33687| DCD	|$LN10@CloseStrea|
	DCD	0x40002702

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "C", 0x0, "l", 0x0, "o"
	DCB	0x0, "s", 0x0, "e", 0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d"
	DCB	0x0, "l", 0x0, "e", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " ", 0x0, "f"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "0", 0x0, "x"
	DCB	0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "C"
	DCB	0x0, "l", 0x0, "o", 0x0, "s", 0x0, "e", 0x0, "S", 0x0, "t"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "m", 0x0, "D", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "o"
	DCB	0x0, "s", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "0"
	DCB	0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?CloseStreamDevice@@YAHPAX@Z| PROC	; CloseStreamDevice

; 72   : {

  00000		 |$LN10@CloseStrea|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M33684|
  00008	e1a05000	 mov         r5, r0

; 73   : #ifndef SHIP_BUILD
; 74   :     SETFNAME(_T("CloseStreamDevice"));
; 75   : #endif
; 76   : 
; 77   :     PMLOGMSG(ZONE_DEVICE || ZONE_IOCTL, (_T("%s: closing 0x%08x\r\n"), pszFname, hDevice));

  0000c	e59f4084	 ldr         r4, [pc, #0x84]
  00010	e5943440	 ldr         r3, [r4, #0x440]
  00014	e3130010	 tst         r3, #0x10
  00018	1a000001	 bne         |$LN3@CloseStrea|
  0001c	e3130020	 tst         r3, #0x20
  00020	0a000003	 beq         |$LN4@CloseStrea|
  00024		 |$LN3@CloseStrea|
  00024	e59f0068	 ldr         r0, [pc, #0x68]
  00028	e59f1060	 ldr         r1, [pc, #0x60]
  0002c	e1a02005	 mov         r2, r5
  00030	eb000000	 bl          CeLogMsg
  00034		 |$LN4@CloseStrea|

; 78   :     BOOL fOk = CloseHandle(hDevice);

  00034	e1a00005	 mov         r0, r5
  00038	eb000000	 bl          CloseHandle
  0003c	e1b06000	 movs        r6, r0

; 79   :     PMLOGMSG(!fOk && (ZONE_WARN || ZONE_IOCTL), (_T("%s: CloseHandle(0x%08x) failed %d (0x%08x)\r\n"), pszFname,
; 80   :         hDevice, GetLastError(), GetLastError()));

  00040	1a00000d	 bne         |$LN6@CloseStrea|
  00044	e5943440	 ldr         r3, [r4, #0x440]
  00048	e3130002	 tst         r3, #2
  0004c	1a000001	 bne         |$LN5@CloseStrea|
  00050	e3130020	 tst         r3, #0x20
  00054	0a000008	 beq         |$LN6@CloseStrea|
  00058		 |$LN5@CloseStrea|
  00058	eb000000	 bl          GetLastError
  0005c	e1a04000	 mov         r4, r0
  00060	eb000000	 bl          GetLastError
  00064	e59f1024	 ldr         r1, [pc, #0x24]
  00068	e1a03000	 mov         r3, r0
  0006c	e59f0018	 ldr         r0, [pc, #0x18]
  00070	e1a02005	 mov         r2, r5
  00074	e58d4000	 str         r4, [sp]
  00078	eb000000	 bl          CeLogMsg
  0007c		 |$LN6@CloseStrea|

; 81   :     return fOk;
; 82   : }

  0007c	e1a00006	 mov         r0, r6
  00080	e28dd004	 add         sp, sp, #4
  00084	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00088	e12fff1e	 bx          lr
  0008c		 |$LN11@CloseStrea|
  0008c		 |$LN12@CloseStrea|
  0008c	00000000	 DCD         |??_C@_1FK@CCPFKAJO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAC?$AAl?$AAo?$AAs?$AAe?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$CJ?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AA?$CF@|
  00090		 |$LN13@CloseStrea|
  00090	00000000	 DCD         |??_C@_1CE@CGNNHHC@?$AAC?$AAl?$AAo?$AAs?$AAe?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00094		 |$LN14@CloseStrea|
  00094	00000000	 DCD         |??_C@_1CK@OHDAKAFA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAl?$AAo?$AAs?$AAi?$AAn?$AAg?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  00098		 |$LN15@CloseStrea|
  00098	00000000	 DCD         |dpCurSettings|
  0009c		 |$M33685|

			 ENDP  ; |?CloseStreamDevice@@YAHPAX@Z|, CloseStreamDevice

	EXPORT	|??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|DeviceIoControl|
	IMPORT	|__C_specific_handler|

  00000			 AREA	 |.pdata|, PDATA
|$T33738| DCD	|$LN36@RequestStr|
	DCD	0xc0006105

  00000			 AREA	 |.pdata|, PDATA
|$T33740| DCD	|$LN22@RequestStr|
	DCD	0x40001402

  00000			 AREA	 |.xdata|, DATA
|$T33736| DCD	0x1
	DCD	|$LN26@RequestStr|
	DCD	|$LN27@RequestStr|
	DCD	|$LN22@RequestStr|
	DCD	|$LN23@RequestStr|

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I", 0x0, "o", 0x0, "C"
	DCB	0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l"
	DCB	0x0, "(", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, " ", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "e", 0x0, "x", 0x0, "c"
	DCB	0x0, "e", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "D", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I", 0x0, "o"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, "(", 0x0, "%", 0x0, "d", 0x0, ")", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t"
	DCB	0x0, "S", 0x0, "t", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "m"
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "c", 0x0, "a", 0x0, "l"
	DCB	0x0, "l", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "I"
	DCB	0x0, "o", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r"
	DCB	0x0, "o", 0x0, "l", 0x0, "(", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, ")", 0x0, " ", 0x0, "w"
	DCB	0x0, "/", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, " ", 0x0, "(", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'"
	DCB	0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@| DCB "<"
	DCB	0x0, "U", 0x0, "N", 0x0, "K", 0x0, "N", 0x0, "O", 0x0, "W"
	DCB	0x0, "N", 0x0, ">", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "R"
	DCB	0x0, "E", 0x0, "G", 0x0, "I", 0x0, "S", 0x0, "T", 0x0, "E"
	DCB	0x0, "R", 0x0, "_", 0x0, "P", 0x0, "O", 0x0, "W", 0x0, "E"
	DCB	0x0, "R", 0x0, "_", 0x0, "R", 0x0, "E", 0x0, "L", 0x0, "A"
	DCB	0x0, "T", 0x0, "I", 0x0, "O", 0x0, "N", 0x0, "S", 0x0, "H"
	DCB	0x0, "I", 0x0, "P", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "Q"
	DCB	0x0, "U", 0x0, "E", 0x0, "R", 0x0, "Y", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "S"
	DCB	0x0, "E", 0x0, "T", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "G"
	DCB	0x0, "E", 0x0, "T", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@| DCB "I"
	DCB	0x0, "O", 0x0, "C", 0x0, "T", 0x0, "L", 0x0, "_", 0x0, "P"
	DCB	0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "C"
	DCB	0x0, "A", 0x0, "P", 0x0, "A", 0x0, "B", 0x0, "I", 0x0, "L"
	DCB	0x0, "I", 0x0, "T", 0x0, "I", 0x0, "E", 0x0, "S", 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__C_specific_handler|
  00004	00000000	 DCD         |$T33736|

  00008		 |?RequestStreamDevice@@YAHPAXK0K0KPAK@Z| PROC ; RequestStreamDevice

; 89   : {

  00008		 |$LN36@RequestStr|
  00008	e1a0c00d	 mov         r12, sp
  0000c	e92d000f	 stmdb       sp!, {r0 - r3}
  00010	e92d59f0	 stmdb       sp!, {r4 - r8, r11, r12, lr}
  00014	e28db020	 add         r11, sp, #0x20
  00018	e24dd018	 sub         sp, sp, #0x18
  0001c		 |$LN34@RequestStr|
  0001c	e1a06003	 mov         r6, r3
  00020	e1a08002	 mov         r8, r2
  00024	e1a05001	 mov         r5, r1
  00028	e58b5004	 str         r5, [r11, #4]
  0002c	e1a07000	 mov         r7, r0
  00030	e58b7000	 str         r7, [r11]
  00034		 |$LN26@RequestStr|

; 90   :     BOOL fOk;
; 91   : 
; 92   : #ifndef SHIP_BUILD
; 93   :     SETFNAME(_T("RequestStreamDevice"));
; 94   : #endif
; 95   : 
; 96   :     DEBUGCHK(hDevice != INVALID_HANDLE_VALUE);
; 97   : 
; 98   :     __try {
; 99   :         PMLOGMSG(ZONE_IOCTL, (_T("%s: calling DeviceIoControl(0x%08x) w/ request %d ('%s')\r\n"),
; 100  :             pszFname, hDevice, dwRequest, 
; 101  :             dwRequest == IOCTL_POWER_CAPABILITIES ? _T("IOCTL_POWER_CAPABILITIES") 
; 102  :             : dwRequest == IOCTL_POWER_GET ? _T("IOCTL_POWER_GET") 
; 103  :             : dwRequest == IOCTL_POWER_SET ? _T("IOCTL_POWER_SET") 
; 104  :             : dwRequest == IOCTL_POWER_QUERY ? _T("IOCTL_POWER_QUERY") 
; 105  :             : dwRequest == IOCTL_REGISTER_POWER_RELATIONSHIP ? _T("IOCTL_REGISTER_POWER_RELATIONSHIP")
; 106  :             : _T("<UNKNOWN>")));

  00034	e59f4170	 ldr         r4, [pc, #0x170]
  00038	e594e440	 ldr         lr, [r4, #0x440]
  0003c	e31e0020	 tst         lr, #0x20
  00040	0a00001a	 beq         |$LN31@RequestStr|
  00044	e3a03832	 mov         r3, #0x32, 16
  00048	e383ea01	 orr         lr, r3, #1, 20
  0004c	e155000e	 cmp         r5, lr
  00050	059fe180	 ldreq       lr, [pc, #0x180]
  00054	0a00000f	 beq         |$LN5@RequestStr|
  00058	e59f3174	 ldr         r3, [pc, #0x174]
  0005c	e1550003	 cmp         r5, r3
  00060	059fe168	 ldreq       lr, [pc, #0x168]
  00064	0a00000b	 beq         |$LN5@RequestStr|
  00068	e59f315c	 ldr         r3, [pc, #0x15C]
  0006c	e1550003	 cmp         r5, r3
  00070	059fe150	 ldreq       lr, [pc, #0x150]
  00074	0a000007	 beq         |$LN5@RequestStr|
  00078	e59f3144	 ldr         r3, [pc, #0x144]
  0007c	e1550003	 cmp         r5, r3
  00080	059fe138	 ldreq       lr, [pc, #0x138]
  00084	0a000003	 beq         |$LN5@RequestStr|
  00088	e59f312c	 ldr         r3, [pc, #0x12C]
  0008c	e1550003	 cmp         r5, r3
  00090	059fe120	 ldreq       lr, [pc, #0x120]
  00094	159fe118	 ldrne       lr, [pc, #0x118]
  00098		 |$LN5@RequestStr|
  00098	e59f0110	 ldr         r0, [pc, #0x110]
  0009c	e1a03005	 mov         r3, r5
  000a0	e59f10f8	 ldr         r1, [pc, #0xF8]
  000a4	e1a02007	 mov         r2, r7
  000a8	e58de000	 str         lr, [sp]
  000ac	eb000000	 bl          CeLogMsg
  000b0		 |$LN31@RequestStr|

; 107  :         fOk = DeviceIoControl(hDevice, dwRequest, pInBuf, dwInSize, 
; 108  :             pOutBuf, dwOutSize, pdwBytesRet, NULL);

  000b0	e59b3018	 ldr         r3, [r11, #0x18]
  000b4	e59b2014	 ldr         r2, [r11, #0x14]
  000b8	e59b1010	 ldr         r1, [r11, #0x10]
  000bc	e3a0e000	 mov         lr, #0
  000c0	e58d3008	 str         r3, [sp, #8]
  000c4	e58d2004	 str         r2, [sp, #4]
  000c8	e58d1000	 str         r1, [sp]
  000cc	e1a03006	 mov         r3, r6
  000d0	e1a02008	 mov         r2, r8
  000d4	e1a01005	 mov         r1, r5
  000d8	e1a00007	 mov         r0, r7
  000dc	e58de00c	 str         lr, [sp, #0xC]
  000e0	eb000000	 bl          DeviceIoControl
  000e4	e1a06000	 mov         r6, r0
  000e8	e50b6028	 str         r6, [r11, #-0x28]
  000ec		 |$LN27@RequestStr|

; 109  :     }

  000ec	e5943440	 ldr         r3, [r4, #0x440]
  000f0	ea00000e	 b           |$LN28@RequestStr|
  000f4		 |$LN23@RequestStr|

; 111  :         PMLOGMSG(ZONE_WARN || ZONE_IOCTL, (_T("%s: exception in DeviceIoControl(%d)\r\n"), pszFname,
; 112  :             dwRequest));

  000f4	e59f40b0	 ldr         r4, [pc, #0xB0]
  000f8	e5943440	 ldr         r3, [r4, #0x440]
  000fc	e3130002	 tst         r3, #2
  00100	03130020	 tsteq       r3, #0x20
  00104	059b5004	 ldreq       r5, [r11, #4]
  00108	0a000005	 beq         |$LN17@RequestStr|
  0010c	e59b5004	 ldr         r5, [r11, #4]
  00110	e59f0090	 ldr         r0, [pc, #0x90]
  00114	e1a02005	 mov         r2, r5
  00118	e59f1080	 ldr         r1, [pc, #0x80]
  0011c	eb000000	 bl          CeLogMsg
  00120	e5943440	 ldr         r3, [r4, #0x440]
  00124		 |$LN17@RequestStr|

; 113  :         fOk = FALSE;

  00124	e3a06000	 mov         r6, #0
  00128	e50b6028	 str         r6, [r11, #-0x28]
  0012c	e59b7000	 ldr         r7, [r11]
  00130		 |$LN28@RequestStr|

; 114  :     }
; 115  : 
; 116  :     PMLOGMSG(!fOk && (ZONE_WARN || ZONE_IOCTL), 
; 117  :         (_T("%s: DeviceIoControl(%d) to 0x%08x failed %d (0x%08x)\r\n"), pszFname,
; 118  :         dwRequest, hDevice, GetLastError(), GetLastError()));

  00130	e3560000	 cmp         r6, #0
  00134	1a000010	 bne         |$LN2@RequestStr|
  00138	e3130002	 tst         r3, #2
  0013c	1a000001	 bne         |$LN18@RequestStr|
  00140	e3130020	 tst         r3, #0x20
  00144	0a00000c	 beq         |$LN2@RequestStr|
  00148		 |$LN18@RequestStr|
  00148	eb000000	 bl          GetLastError
  0014c	e1a04000	 mov         r4, r0
  00150	eb000000	 bl          GetLastError
  00154	e1a0e000	 mov         lr, r0
  00158	e59f0044	 ldr         r0, [pc, #0x44]
  0015c	e1a03007	 mov         r3, r7
  00160	e1a02005	 mov         r2, r5
  00164	e59f1034	 ldr         r1, [pc, #0x34]
  00168	e58d4004	 str         r4, [sp, #4]
  0016c	e58de000	 str         lr, [sp]
  00170	eb000000	 bl          CeLogMsg

; 119  :     return fOk;

  00174	ea000000	 b           |$LN2@RequestStr|
  00178		 |$LN33@RequestStr|
  00178	e51b6024	 ldr         r6, [r11, #-0x24]
  0017c		 |$LN2@RequestStr|

; 120  : }

  0017c	e1a00006	 mov         r0, r6
  00180	e24bd020	 sub         sp, r11, #0x20
  00184	e89d69f0	 ldmia       sp, {r4 - r8, r11, sp, lr}
  00188	e12fff1e	 bx          lr

			 ENDP  ; |?RequestStreamDevice@@YAHPAXK0K0KPAK@Z|, RequestStreamDevice

  0018c		 |$LN22@RequestStr|
  0018c		 |$LN35@RequestStr|

; 110  :     __except(EXCEPTION_EXECUTE_HANDLER) {

  0018c	e52de004	 str         lr, [sp, #-4]!
  00190	e24dd010	 sub         sp, sp, #0x10
  00194		 |$LN25@RequestStr|
  00194		 |$LN38@RequestStr|
  00194	e3a00001	 mov         r0, #1
  00198		 |$LN24@RequestStr|
  00198	e28dd010	 add         sp, sp, #0x10
  0019c	e49df004	 ldr         pc, [sp], #4
  001a0		 |$LN40@RequestStr|
  001a0		 |$LN41@RequestStr|
  001a0	00000000	 DCD         |??_C@_1CI@HOGMIADO@?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAS?$AAt?$AAr?$AAe?$AAa?$AAm?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  001a4		 |$LN42@RequestStr|
  001a4	00000000	 DCD         |??_C@_1GO@OABAJFNF@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAt?$AAo?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8@|
  001a8		 |$LN43@RequestStr|
  001a8	00000000	 DCD         |??_C@_1EO@MFPADMDA@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAe?$AAx?$AAc?$AAe?$AAp?$AAt?$AAi?$AAo?$AAn?$AA?5?$AAi?$AAn?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl@|
  001ac		 |$LN44@RequestStr|
  001ac	00000000	 DCD         |dpCurSettings|
  001b0		 |$LN45@RequestStr|
  001b0	00000000	 DCD         |??_C@_1HG@LGBENHLO@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAI?$AAo?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?$CI?$AA0?$AAx?$AA?$CF?$AA0@|
  001b4		 |$LN46@RequestStr|
  001b4	00000000	 DCD         |??_C@_1BE@GFCJAFPH@?$AA?$DM?$AAU?$AAN?$AAK?$AAN?$AAO?$AAW?$AAN?$AA?$DO?$AA?$AA@|
  001b8		 |$LN47@RequestStr|
  001b8	00000000	 DCD         |??_C@_1EE@EJIINHMD@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAR?$AAE?$AAG?$AAI?$AAS?$AAT?$AAE?$AAR?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAR?$AAE?$AAL?$AAA?$AAT?$AAI?$AAO?$AAN?$AAS?$AAH?$AAI@|
  001bc		 |$LN48@RequestStr|
  001bc	00321018	 DCD         0x321018
  001c0		 |$LN49@RequestStr|
  001c0	00000000	 DCD         |??_C@_1CE@CONJIH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAQ?$AAU?$AAE?$AAR?$AAY?$AA?$AA@|
  001c4		 |$LN50@RequestStr|
  001c4	0032100c	 DCD         0x32100c
  001c8		 |$LN51@RequestStr|
  001c8	00000000	 DCD         |??_C@_1CA@CMPIDKOH@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAS?$AAE?$AAT?$AA?$AA@|
  001cc		 |$LN52@RequestStr|
  001cc	00321008	 DCD         0x321008
  001d0		 |$LN53@RequestStr|
  001d0	00000000	 DCD         |??_C@_1CA@NEAJAFDG@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAG?$AAE?$AAT?$AA?$AA@|
  001d4		 |$LN54@RequestStr|
  001d4	00321004	 DCD         0x321004
  001d8		 |$LN55@RequestStr|
  001d8	00000000	 DCD         |??_C@_1DC@NLFIAHNJ@?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAP?$AAO?$AAW?$AAE?$AAR?$AA_?$AAC?$AAA?$AAP?$AAA?$AAB?$AAI?$AAL?$AAI?$AAT?$AAI?$AAE?$AAS?$AA?$AA@|
  001dc		 |$LN39@RequestStr|
  001dc		 |$LN37@RequestStr|
	END
