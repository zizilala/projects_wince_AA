; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\test\testGPIO\GpioTest.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|wmain|
	EXPORT	|??_C@_1BM@EIJJDCKO@?$AAH?$AAe?$AAl?$AAl?$AAo?$AA?5?$AAW?$AAo?$AAr?$AAl?$AAd?$AA?$CB?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|GPIOClrBit|
	IMPORT	|Sleep|
	IMPORT	|GPIOSetBit|
	IMPORT	|GPIOSetMode|
	IMPORT	|GPIOOpen|
	IMPORT	|wprintf|
	IMPORT	|_wtol|
; File c:\wince600\platform\z2170p\src\test\testgpio\gpiotest.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T35927| DCD	|$LN9@wmain|
	DCD	0x40001a01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BM@EIJJDCKO@?$AAH?$AAe?$AAl?$AAl?$AAo?$AA?5?$AAW?$AAo?$AAr?$AAl?$AAd?$AA?$CB?$AA?6?$AA?$AA@| DCB "H"
	DCB	0x0, "e", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, " ", 0x0, "W"
	DCB	0x0, "o", 0x0, "r", 0x0, "l", 0x0, "d", 0x0, "!", 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |wmain| PROC

; 10   : {

  00000		 |$LN9@wmain|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M35924|

; 11   :     DWORD id = 168;

  00004	e3a040a8	 mov         r4, #0xA8

; 12   :     if (argc == 2)

  00008	e3500002	 cmp         r0, #2
  0000c	1a000002	 bne         |$LN3@wmain|

; 13   :     {
; 14   :         id = _wtoi(argv[1]);

  00010	e5910004	 ldr         r0, [r1, #4]
  00014	eb000000	 bl          _wtol
  00018	e1a04000	 mov         r4, r0
  0001c		 |$LN3@wmain|

; 15   :     }
; 16   :     _tprintf(_T("Hello World!\n"));

  0001c	e59f0040	 ldr         r0, [pc, #0x40]
  00020	eb000000	 bl          wprintf

; 17   : #if 0
; 18   :     DWORD config[2] = {id,GPIO_DIR_OUTPUT};
; 19   : 
; 20   :     HANDLE h = CreateFile(L"GIO1:",0,0,NULL,OPEN_EXISTING,0,NULL);
; 21   :     DeviceIoControl(h,IOCTL_GPIO_SETMODE,config,sizeof(config),NULL,0,NULL,NULL);
; 22   : 
; 23   :     for (;;)
; 24   :     {
; 25   :         DeviceIoControl(h,IOCTL_GPIO_SETBIT,config,sizeof(config),NULL,0,NULL,NULL);
; 26   :         Sleep(10);
; 27   :         DeviceIoControl(h,IOCTL_GPIO_CLRBIT,config,sizeof(config),NULL,0,NULL,NULL);
; 28   :         Sleep(10);
; 29   :     }
; 30   :     CloseHandle(h);
; 31   : #else
; 32   :     HANDLE h = GPIOOpen();

  00024	eb000000	 bl          GPIOOpen

; 33   :     GPIOSetMode(h,id,GPIO_DIR_OUTPUT);

  00028	e3a02000	 mov         r2, #0
  0002c	e1a01004	 mov         r1, r4
  00030	e1a05000	 mov         r5, r0
  00034	eb000000	 bl          GPIOSetMode
  00038		 |$LL2@wmain|

; 34   :     for (;;)
; 35   :     {
; 36   :         GPIOSetBit(h,id);

  00038	e1a01004	 mov         r1, r4
  0003c	e1a00005	 mov         r0, r5
  00040	eb000000	 bl          GPIOSetBit

; 37   :         Sleep(10);

  00044	e3a0000a	 mov         r0, #0xA
  00048	eb000000	 bl          Sleep

; 38   :         GPIOClrBit(h,id);

  0004c	e1a01004	 mov         r1, r4
  00050	e1a00005	 mov         r0, r5
  00054	eb000000	 bl          GPIOClrBit

; 39   :         Sleep(10);

  00058	e3a0000a	 mov         r0, #0xA
  0005c	eb000000	 bl          Sleep

; 40   :     }

  00060	eafffff4	 b           |$LL2@wmain|
  00064		 |$LN10@wmain|
  00064		 |$LN11@wmain|
  00064	00000000	 DCD         |??_C@_1BM@EIJJDCKO@?$AAH?$AAe?$AAl?$AAl?$AAo?$AA?5?$AAW?$AAo?$AAr?$AAl?$AAd?$AA?$CB?$AA?6?$AA?$AA@|
  00068		 |$M35925|

			 ENDP  ; |wmain|

	END
