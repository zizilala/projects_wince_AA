; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\test\PMTEST\PMSET\set.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|RetailPrint|
	EXPORT	|??_C@_1BE@NPIILPOD@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|NKDbgPrintfW|
	IMPORT	|vswprintf|
	IMPORT	|swprintf|
	IMPORT	|vwprintf|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|__security_cookie|
	IMPORT	|__security_check_cookie|
; File c:\wince600\platform\z2170p\src\test\pmtest\pmset\set.c

  00000			 AREA	 |.pdata|, PDATA
|$T39158| DCD	|$LN5@RetailPrin|
	DCD	0xc0002905

  00000			 AREA	 |.xdata|, DATA
|$T39154| DCD	0xffffffe4

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@NPIILPOD@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?$AA@| DCB "P"
	DCB	0x0, "M", 0x0, "S", 0x0, "E", 0x0, "T", 0x0, ":", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T39154|

  00008		 |RetailPrint| PROC

; 97   : {

  00008		 |$LN5@RetailPrin|
  00008	e1a0c00d	 mov         r12, sp
  0000c	e92d000f	 stmdb       sp!, {r0 - r3}
  00010	e92d5000	 stmdb       sp!, {r12, lr}
  00014	e59fc08c	 ldr         r12, [pc, #0x8C]
  00018	e08dd00c	 add         sp, sp, r12
  0001c		 |$M39155|
  0001c	e28dca02	 add         r12, sp, #2, 20
  00020	e58c000c	 str         r0, [r12, #0xC]
  00024	e59f3078	 ldr         r3, [pc, #0x78]
  00028	e5933000	 ldr         r3, [r3]
  0002c	e58c3000	 str         r3, [r12]

; 98   :     va_list al;
; 99   :     wchar_t szTemp[2048];
; 100  :     wchar_t szTempFormat[2048];
; 101  : 
; 102  :     va_start(al, pszFormat);
; 103  : 
; 104  :     // Show message on console
; 105  :     vwprintf(pszFormat, al);

  00030	e3a01a02	 mov         r1, #2, 20
  00034	e3811010	 orr         r1, r1, #0x10
  00038	e08d1001	 add         r1, sp, r1
  0003c	eb000000	 bl          vwprintf

; 106  : 
; 107  :     // Show message on RETAILMSG
; 108  :     swprintf(szTempFormat, L"PMSET: %s", pszFormat);

  00040	e28d2a02	 add         r2, sp, #2, 20
  00044	e592200c	 ldr         r2, [r2, #0xC]
  00048	e59f1050	 ldr         r1, [pc, #0x50]
  0004c	e28d0000	 add         r0, sp, #0
  00050	eb000000	 bl          swprintf

; 109  :     pszFormat = szTempFormat;

  00054	e28d3000	 add         r3, sp, #0

; 110  :     vswprintf(szTemp, pszFormat, al);

  00058	e3a02a02	 mov         r2, #2, 20
  0005c	e3822010	 orr         r2, r2, #0x10
  00060	e08d2002	 add         r2, sp, r2
  00064	e28d1000	 add         r1, sp, #0
  00068	e28d0a01	 add         r0, sp, #1, 20
  0006c	e28dca02	 add         r12, sp, #2, 20
  00070	e58c300c	 str         r3, [r12, #0xC]
  00074	eb000000	 bl          vswprintf

; 111  :     RETAILMSG(1, (szTemp));

  00078	e28d0a01	 add         r0, sp, #1, 20
  0007c	eb000000	 bl          NKDbgPrintfW
  00080	e28d0a02	 add         r0, sp, #2, 20
  00084	e5900000	 ldr         r0, [r0]
  00088	eb000000	 bl          __security_check_cookie

; 112  : 
; 113  :     va_end(al);
; 114  : }

  0008c	e3a0ca02	 mov         r12, #2, 20
  00090	e38cc004	 orr         r12, r12, #4
  00094	e08dd00c	 add         sp, sp, r12
  00098	e89d6000	 ldmia       sp, {sp, lr}
  0009c	e12fff1e	 bx          lr
  000a0		 |$LN6@RetailPrin|
  000a0		 |$LN7@RetailPrin|
  000a0	00000000	 DCD         |??_C@_1BE@NPIILPOD@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?$AA@|
  000a4		 |$LN8@RetailPrin|
  000a4	00000000	 DCD         |__security_cookie|
  000a8		 |$LN9@RetailPrin|
  000a8	ffffdffc	 DCD         0xffffdffc
  000ac		 |$M39156|

			 ENDP  ; |RetailPrint|

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|WinMain|
	EXPORT	|??_C@_1FI@KIMKHAEC@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$DO?$AA?5?$AA?$DM?$AAH?$AAe?$AAx?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$DO?$AA?5?$AA?$DM?$AAH@| [ DATA ] ; `string'
	EXPORT	|??_C@_1JG@BGIOFIHM@?$AA?5?$AA?5?$AAw?$AAh?$AAe?$AAr?$AAe?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$DO?$AA?5?$AAi?$AAs?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAp?$AAo?$AAw?$AAe?$AAr?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1LE@NHCBGIKI@?$AA?5?$AA?5?$AA?5?$AA?5?$AAo?$AAp?$AAt?$AAi?$AAo?$AAn?$AAa?$AAl?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$DO?$AA?5?$AAs?$AAp?$AAe?$AAc?$AAi?$AAf@| [ DATA ] ; `string'
	EXPORT	|??_C@_1JC@HAPAMACI@?$AA?5?$AA?5?$AA?5?$AA?5?$AAo?$AAp?$AAt?$AAi?$AAo?$AAn?$AAa?$AAl?$AA?5?$AA?$DM?$AAO?$AAp?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$DO?$AA?5?$AAs?$AAp?$AAe?$AAc?$AAi?$AAf?$AAy?$AA?5?$AAo@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IC@ILILFGPB@?$AA?5?$AA?5?$AAE?$AAx?$AAa?$AAm?$AAp?$AAl?$AAe?$AA?3?$AA?5?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AAR?$AAu?$AAn?$AAA?$AAC?$AA?5?$AA1?$AA?0?$AA?5?$AAs?$AAe?$AAt?$AAs?$AA?5?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_1KK@GPIOJAHL@?$AA?5?$AA?5?$AAE?$AAx?$AAa?$AAm?$AAp?$AAl?$AAe?$AA?3?$AA?5?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AA0?$AA?5?$AA2?$AA0?$AA0?$AA0?$AA0?$AA0?$AA?5?$AA1?$AA0?$AA0?$AA0?$AA?0?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@JMFLCHAE@?$AAS?$AAe?$AAt?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?$CF@| [ DATA ] ; `string'
	EXPORT	|??_C@_15LHNHECKK@?$AA?$CF?$AAx?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_15GANGMFKL@?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_15KNBIKKIN@?$AA?$CF?$AAd?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1M@BDEGBIID@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|exit|
	IMPORT	|SetSystemPowerState|
	IMPORT	|swscanf|
	IMPORT	|CreateArgvArgc|
	IMPORT	|memset|

  00000			 AREA	 |.pdata|, PDATA
|$T39185| DCD	|$LN19@WinMain|
	DCD	0xc0006402

  00000			 AREA	 |.xdata|, DATA
|$T39181| DCD	0xffffffec

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@KIMKHAEC@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$DO?$AA?5?$AA?$DM?$AAH?$AAe?$AAx?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$DO?$AA?5?$AA?$DM?$AAH@| DCB "P"
	DCB	0x0, "M", 0x0, "S", 0x0, "E", 0x0, "T", 0x0, " ", 0x0, "<"
	DCB	0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, ">"
	DCB	0x0, " ", 0x0, "<", 0x0, "H", 0x0, "e", 0x0, "x", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "F", 0x0, "l"
	DCB	0x0, "a", 0x0, "g", 0x0, "s", 0x0, ">", 0x0, " ", 0x0, "<"
	DCB	0x0, "H", 0x0, "e", 0x0, "x", 0x0, "O", 0x0, "p", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "s", 0x0, ">", 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JG@BGIOFIHM@?$AA?5?$AA?5?$AAw?$AAh?$AAe?$AAr?$AAe?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$DO?$AA?5?$AAi?$AAs?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAp?$AAo?$AAw?$AAe?$AAr?$AA?5@| DCB " "
	DCB	0x0, " ", 0x0, "w", 0x0, "h", 0x0, "e", 0x0, "r", 0x0, "e"
	DCB	0x0, " ", 0x0, "<", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t"
	DCB	0x0, "e", 0x0, ">", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " "
	DCB	0x0, "s", 0x0, "y", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m"
	DCB	0x0, " ", 0x0, "p", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r"
	DCB	0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, "d", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, " "
	DCB	0x0, "t", 0x0, "h", 0x0, "e", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "y"
	DCB	0x0, ",", 0x0, " ", 0x0, "e", 0x0, ".", 0x0, "g", 0x0, "."
	DCB	0x0, " ", 0x0, "R", 0x0, "u", 0x0, "n", 0x0, "A", 0x0, "C"
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1LE@NHCBGIKI@?$AA?5?$AA?5?$AA?5?$AA?5?$AAo?$AAp?$AAt?$AAi?$AAo?$AAn?$AAa?$AAl?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$DO?$AA?5?$AAs?$AAp?$AAe?$AAc?$AAi?$AAf@| DCB " "
	DCB	0x0, " ", 0x0, " ", 0x0, " ", 0x0, "o", 0x0, "p", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "a", 0x0, "l", 0x0, " "
	DCB	0x0, "<", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "F", 0x0, "l", 0x0, "a", 0x0, "g", 0x0, "s", 0x0, ">"
	DCB	0x0, " ", 0x0, "s", 0x0, "p", 0x0, "e", 0x0, "c", 0x0, "i"
	DCB	0x0, "f", 0x0, "y", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "f", 0x0, "l", 0x0, "a"
	DCB	0x0, "g", 0x0, "s", 0x0, ",", 0x0, " ", 0x0, "i", 0x0, "n"
	DCB	0x0, " ", 0x0, "h", 0x0, "e", 0x0, "x", 0x0, ",", 0x0, " "
	DCB	0x0, "e", 0x0, ".", 0x0, "g", 0x0, ".", 0x0, " ", 0x0, "2"
	DCB	0x0, "0", 0x0, "0", 0x0, "0", 0x0, "0", 0x0, "0", 0x0, " "
	DCB	0x0, "(", 0x0, "P", 0x0, "O", 0x0, "W", 0x0, "E", 0x0, "R"
	DCB	0x0, "_", 0x0, "S", 0x0, "T", 0x0, "A", 0x0, "T", 0x0, "E"
	DCB	0x0, "_", 0x0, "S", 0x0, "U", 0x0, "S", 0x0, "P", 0x0, "E"
	DCB	0x0, "N", 0x0, "D", 0x0, ")", 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JC@HAPAMACI@?$AA?5?$AA?5?$AA?5?$AA?5?$AAo?$AAp?$AAt?$AAi?$AAo?$AAn?$AAa?$AAl?$AA?5?$AA?$DM?$AAO?$AAp?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$DO?$AA?5?$AAs?$AAp?$AAe?$AAc?$AAi?$AAf?$AAy?$AA?5?$AAo@| DCB " "
	DCB	0x0, " ", 0x0, " ", 0x0, " ", 0x0, "o", 0x0, "p", 0x0, "t"
	DCB	0x0, "i", 0x0, "o", 0x0, "n", 0x0, "a", 0x0, "l", 0x0, " "
	DCB	0x0, "<", 0x0, "O", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o"
	DCB	0x0, "n", 0x0, "s", 0x0, ">", 0x0, " ", 0x0, "s", 0x0, "p"
	DCB	0x0, "e", 0x0, "c", 0x0, "i", 0x0, "f", 0x0, "y", 0x0, " "
	DCB	0x0, "o", 0x0, "p", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n"
	DCB	0x0, "s", 0x0, ",", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, " "
	DCB	0x0, "h", 0x0, "e", 0x0, "x", 0x0, ",", 0x0, " ", 0x0, "e"
	DCB	0x0, ".", 0x0, "g", 0x0, ".", 0x0, " ", 0x0, "1", 0x0, "0"
	DCB	0x0, "0", 0x0, "0", 0x0, " ", 0x0, "(", 0x0, "P", 0x0, "O"
	DCB	0x0, "W", 0x0, "E", 0x0, "R", 0x0, "_", 0x0, "F", 0x0, "O"
	DCB	0x0, "R", 0x0, "C", 0x0, "E", 0x0, ")", 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IC@ILILFGPB@?$AA?5?$AA?5?$AAE?$AAx?$AAa?$AAm?$AAp?$AAl?$AAe?$AA?3?$AA?5?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AAR?$AAu?$AAn?$AAA?$AAC?$AA?5?$AA1?$AA?0?$AA?5?$AAs?$AAe?$AAt?$AAs?$AA?5?$AAt@| DCB " "
	DCB	0x0, " ", 0x0, "E", 0x0, "x", 0x0, "a", 0x0, "m", 0x0, "p"
	DCB	0x0, "l", 0x0, "e", 0x0, ":", 0x0, " ", 0x0, "P", 0x0, "M"
	DCB	0x0, "S", 0x0, "E", 0x0, "T", 0x0, " ", 0x0, "R", 0x0, "u"
	DCB	0x0, "n", 0x0, "A", 0x0, "C", 0x0, " ", 0x0, "1", 0x0, ","
	DCB	0x0, " ", 0x0, "s", 0x0, "e", 0x0, "t", 0x0, "s", 0x0, " "
	DCB	0x0, "t", 0x0, "h", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "y"
	DCB	0x0, "s", 0x0, "t", 0x0, "e", 0x0, "m", 0x0, " ", 0x0, "s"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " ", 0x0, "b"
	DCB	0x0, "y", 0x0, " ", 0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e"
	DCB	0x0, " ", 0x0, "b", 0x0, "y", 0x0, " ", 0x0, "n", 0x0, "a"
	DCB	0x0, "m", 0x0, "e", 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KK@GPIOJAHL@?$AA?5?$AA?5?$AAE?$AAx?$AAa?$AAm?$AAp?$AAl?$AAe?$AA?3?$AA?5?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AA0?$AA?5?$AA2?$AA0?$AA0?$AA0?$AA0?$AA0?$AA?5?$AA1?$AA0?$AA0?$AA0?$AA?0?$AA?5@| DCB " "
	DCB	0x0, " ", 0x0, "E", 0x0, "x", 0x0, "a", 0x0, "m", 0x0, "p"
	DCB	0x0, "l", 0x0, "e", 0x0, ":", 0x0, " ", 0x0, "P", 0x0, "M"
	DCB	0x0, "S", 0x0, "E", 0x0, "T", 0x0, " ", 0x0, "0", 0x0, " "
	DCB	0x0, "2", 0x0, "0", 0x0, "0", 0x0, "0", 0x0, "0", 0x0, "0"
	DCB	0x0, " ", 0x0, "1", 0x0, "0", 0x0, "0", 0x0, "0", 0x0, ","
	DCB	0x0, " ", 0x0, "w", 0x0, "i", 0x0, "l", 0x0, "l", 0x0, " "
	DCB	0x0, "f", 0x0, "o", 0x0, "r", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "a", 0x0, " ", 0x0, "s", 0x0, "u", 0x0, "s", 0x0, "p"
	DCB	0x0, "e", 0x0, "n", 0x0, "d", 0x0, " ", 0x0, "w", 0x0, "i"
	DCB	0x0, "t", 0x0, "h", 0x0, "o", 0x0, "u", 0x0, "t", 0x0, " "
	DCB	0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e", 0x0, " "
	DCB	0x0, "s", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "n", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@JMFLCHAE@?$AAS?$AAe?$AAt?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?$CF@| DCB "S"
	DCB	0x0, "e", 0x0, "t", 0x0, "S", 0x0, "y", 0x0, "s", 0x0, "t"
	DCB	0x0, "e", 0x0, "m", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e"
	DCB	0x0, "r", 0x0, "S", 0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, ":", 0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " "
	DCB	0x0, "E", 0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":"
	DCB	0x0, "%", 0x0, "d", 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_15LHNHECKK@?$AA?$CF?$AAx?$AA?$AA@| DCB "%", 0x0, "x", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_15GANGMFKL@?$AA?$CF?$AAs?$AA?$AA@| DCB "%", 0x0, "s", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_15KNBIKKIN@?$AA?$CF?$AAd?$AA?$AA@| DCB "%", 0x0, "d", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1M@BDEGBIID@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?$AA@| DCB "P", 0x0, "M", 0x0
	DCB	"S", 0x0, "E", 0x0, "T", 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T39181|

  00008		 |WinMain| PROC

; 40   : {

  00008		 |$LN19@WinMain|
  00008	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  0000c	e24dde86	 sub         sp, sp, #0x86, 28
  00010		 |$M39182|
  00010	e1a04002	 mov         r4, r2
  00014	e59f3178	 ldr         r3, [pc, #0x178]
  00018	e5933000	 ldr         r3, [r3]
  0001c	e58d385c	 str         r3, [sp, #0x85C]
  00020	e3a03c07	 mov         r3, #7, 24

; 41   :     WCHAR  state[1024] = {0};

  00024	e3a0e000	 mov         lr, #0
  00028	e38320fe	 orr         r2, r3, #0xFE
  0002c	e3a01000	 mov         r1, #0
  00030	e28d005e	 add         r0, sp, #0x5E
  00034	e1cde5bc	 strh        lr, [sp, #0x5C]
  00038	eb000000	 bl          memset

; 42   :     LPWSTR pState = &state[0];
; 43   :     TCHAR  *argv[20];
; 44   :     int     argc;
; 45   :     DWORD  dwErr=0, dwState=0;
; 46   :     DWORD  dwStateFlags = 0;    
; 47   :     DWORD  dwOptions = 0;
; 48   : 
; 49   :     UNREFERENCED_PARAMETER(hInst);
; 50   :     UNREFERENCED_PARAMETER(hPrevInst);
; 51   :     UNREFERENCED_PARAMETER(nCmShow);
; 52   :     
; 53   :     //
; 54   :     // parse command line
; 55   :     //
; 56   :     argc = CreateArgvArgc(TEXT( "PMSET" ), argv, lpCmdLine);

  0003c	e59f014c	 ldr         r0, [pc, #0x14C]
  00040	e3a0e000	 mov         lr, #0
  00044	e3a03000	 mov         r3, #0
  00048	e3a06000	 mov         r6, #0
  0004c	e1a02004	 mov         r2, r4
  00050	e28d100c	 add         r1, sp, #0xC
  00054	e58de004	 str         lr, [sp, #4]
  00058	e28d505c	 add         r5, sp, #0x5C
  0005c	e58d3000	 str         r3, [sp]
  00060	e58d6008	 str         r6, [sp, #8]
  00064	eb000000	 bl          CreateArgvArgc
  00068	e1a04000	 mov         r4, r0

; 57   :     if (argc > 1) {

  0006c	e3540001	 cmp         r4, #1
  00070	da00002e	 ble         |$_error$39097|

; 58   :         if (!swscanf(argv[1], TEXT("%d"), &dwState))

  00074	e59f1110	 ldr         r1, [pc, #0x110]
  00078	e59d0010	 ldr         r0, [sp, #0x10]
  0007c	e28d2000	 add         r2, sp, #0
  00080	eb000000	 bl          swscanf
  00084	e3500000	 cmp         r0, #0

; 59   :             dwState = 1;

  00088	03a03001	 moveq       r3, #1
  0008c	058d3000	 streq       r3, [sp]
  00090	159d3000	 ldrne       r3, [sp]

; 60   :         if (dwState == 0)

  00094	e3530000	 cmp         r3, #0

; 61   :             pState = NULL;

  00098	03a05000	 moveq       r5, #0
  0009c	0a000005	 beq         |$LN7@WinMain|

; 62   :         else if (!swscanf(argv[1], TEXT("%s"), &state))

  000a0	e59f10e0	 ldr         r1, [pc, #0xE0]
  000a4	e59d0010	 ldr         r0, [sp, #0x10]
  000a8	e28d205c	 add         r2, sp, #0x5C
  000ac	eb000000	 bl          swscanf
  000b0	e3500000	 cmp         r0, #0
  000b4	0a00001d	 beq         |$_error$39097|
  000b8		 |$LN7@WinMain|

; 63   :             goto _error;
; 64   :             
; 65   :         if (argc > 2) {

  000b8	e3540002	 cmp         r4, #2
  000bc	da000005	 ble         |$LN5@WinMain|

; 66   :             if (!swscanf(argv[2], TEXT("%x"), &dwStateFlags))

  000c0	e59d0014	 ldr         r0, [sp, #0x14]
  000c4	e59f10b8	 ldr         r1, [pc, #0xB8]
  000c8	e28d2004	 add         r2, sp, #4
  000cc	eb000000	 bl          swscanf
  000d0	e3500000	 cmp         r0, #0
  000d4	0a000015	 beq         |$_error$39097|
  000d8		 |$LN5@WinMain|

; 67   :                 goto _error;
; 68   :         }
; 69   :         
; 70   :         if (argc > 3) {        

  000d8	e3540003	 cmp         r4, #3
  000dc	da000005	 ble         |$LN3@WinMain|

; 71   :             if (!swscanf(argv[3], TEXT("%x"), &dwOptions))

  000e0	e59d0018	 ldr         r0, [sp, #0x18]
  000e4	e59f1098	 ldr         r1, [pc, #0x98]
  000e8	e28d2008	 add         r2, sp, #8
  000ec	eb000000	 bl          swscanf
  000f0	e3500000	 cmp         r0, #0
  000f4	0a00000d	 beq         |$_error$39097|
  000f8		 |$LN3@WinMain|

; 83   :     }
; 84   : 
; 85   :     dwErr = SetSystemPowerState(pState, dwStateFlags, dwOptions);

  000f8	e59d2008	 ldr         r2, [sp, #8]
  000fc	e59d1004	 ldr         r1, [sp, #4]
  00100	e1a00005	 mov         r0, r5
  00104	eb000000	 bl          SetSystemPowerState
  00108	e1b02000	 movs        r2, r0

; 86   :     if (ERROR_SUCCESS != dwErr) {
; 87   :         RetailPrint(TEXT("SetSystemPowerState:'%s' ERROR:%d\n"), state, dwErr);

  0010c	159f006c	 ldrne       r0, [pc, #0x6C]
  00110	128d105c	 addne       r1, sp, #0x5C
  00114	1b000000	 blne        RetailPrint

; 88   :     }
; 89   : 
; 90   :     return 0;

  00118	e59d085c	 ldr         r0, [sp, #0x85C]
  0011c	eb000000	 bl          __security_check_cookie
  00120	e3a00000	 mov         r0, #0

; 91   : }

  00124	e28dde86	 add         sp, sp, #0x86, 28
  00128	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  0012c	e12fff1e	 bx          lr
  00130		 |$_error$39097|

; 72   :                 goto _error;
; 73   :         }
; 74   :     } else {
; 75   : _error:    
; 76   :         RetailPrint(TEXT("PMSET <State> <HexStateFlags> <HexOptions>\n"));

  00130	e59f0044	 ldr         r0, [pc, #0x44]
  00134	eb000000	 bl          RetailPrint

; 77   :         RetailPrint(TEXT("  where <State> is system power state defined in the registry, e.g. RunAC\n"));

  00138	e59f0038	 ldr         r0, [pc, #0x38]
  0013c	eb000000	 bl          RetailPrint

; 78   :         RetailPrint(TEXT("    optional <StateFlags> specify state flags, in hex, e.g. 200000 (POWER_STATE_SUSPEND)\n"));

  00140	e59f002c	 ldr         r0, [pc, #0x2C]
  00144	eb000000	 bl          RetailPrint

; 79   :         RetailPrint(TEXT("    optional <Options> specify options, in hex, e.g. 1000 (POWER_FORCE)\n"));

  00148	e59f0020	 ldr         r0, [pc, #0x20]
  0014c	eb000000	 bl          RetailPrint

; 80   :         RetailPrint(TEXT("  Example: PMSET RunAC 1, sets the system state by name by name\n"));        

  00150	e59f0014	 ldr         r0, [pc, #0x14]
  00154	eb000000	 bl          RetailPrint

; 81   :         RetailPrint(TEXT("  Example: PMSET 0 200000 1000, will force a suspend without knowing the state name\n"));

  00158	e59f0008	 ldr         r0, [pc, #8]
  0015c	eb000000	 bl          RetailPrint

; 82   :         exit(1);

  00160	e3a00001	 mov         r0, #1
  00164	eb000000	 bl          exit
  00168		 |$LN21@WinMain|
  00168		 |$LN22@WinMain|
  00168	00000000	 DCD         |??_C@_1KK@GPIOJAHL@?$AA?5?$AA?5?$AAE?$AAx?$AAa?$AAm?$AAp?$AAl?$AAe?$AA?3?$AA?5?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AA0?$AA?5?$AA2?$AA0?$AA0?$AA0?$AA0?$AA0?$AA?5?$AA1?$AA0?$AA0?$AA0?$AA?0?$AA?5@|
  0016c		 |$LN23@WinMain|
  0016c	00000000	 DCD         |??_C@_1IC@ILILFGPB@?$AA?5?$AA?5?$AAE?$AAx?$AAa?$AAm?$AAp?$AAl?$AAe?$AA?3?$AA?5?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AAR?$AAu?$AAn?$AAA?$AAC?$AA?5?$AA1?$AA?0?$AA?5?$AAs?$AAe?$AAt?$AAs?$AA?5?$AAt@|
  00170		 |$LN24@WinMain|
  00170	00000000	 DCD         |??_C@_1JC@HAPAMACI@?$AA?5?$AA?5?$AA?5?$AA?5?$AAo?$AAp?$AAt?$AAi?$AAo?$AAn?$AAa?$AAl?$AA?5?$AA?$DM?$AAO?$AAp?$AAt?$AAi?$AAo?$AAn?$AAs?$AA?$DO?$AA?5?$AAs?$AAp?$AAe?$AAc?$AAi?$AAf?$AAy?$AA?5?$AAo@|
  00174		 |$LN25@WinMain|
  00174	00000000	 DCD         |??_C@_1LE@NHCBGIKI@?$AA?5?$AA?5?$AA?5?$AA?5?$AAo?$AAp?$AAt?$AAi?$AAo?$AAn?$AAa?$AAl?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$DO?$AA?5?$AAs?$AAp?$AAe?$AAc?$AAi?$AAf@|
  00178		 |$LN26@WinMain|
  00178	00000000	 DCD         |??_C@_1JG@BGIOFIHM@?$AA?5?$AA?5?$AAw?$AAh?$AAe?$AAr?$AAe?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$DO?$AA?5?$AAi?$AAs?$AA?5?$AAs?$AAy?$AAs?$AAt?$AAe?$AAm?$AA?5?$AAp?$AAo?$AAw?$AAe?$AAr?$AA?5@|
  0017c		 |$LN27@WinMain|
  0017c	00000000	 DCD         |??_C@_1FI@KIMKHAEC@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?5?$AA?$DM?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$DO?$AA?5?$AA?$DM?$AAH?$AAe?$AAx?$AAS?$AAt?$AAa?$AAt?$AAe?$AAF?$AAl?$AAa?$AAg?$AAs?$AA?$DO?$AA?5?$AA?$DM?$AAH@|
  00180		 |$LN28@WinMain|
  00180	00000000	 DCD         |??_C@_1EG@JMFLCHAE@?$AAS?$AAe?$AAt?$AAS?$AAy?$AAs?$AAt?$AAe?$AAm?$AAP?$AAo?$AAw?$AAe?$AAr?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?3?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?$CF@|
  00184		 |$LN29@WinMain|
  00184	00000000	 DCD         |??_C@_15LHNHECKK@?$AA?$CF?$AAx?$AA?$AA@|
  00188		 |$LN30@WinMain|
  00188	00000000	 DCD         |??_C@_15GANGMFKL@?$AA?$CF?$AAs?$AA?$AA@|
  0018c		 |$LN31@WinMain|
  0018c	00000000	 DCD         |??_C@_15KNBIKKIN@?$AA?$CF?$AAd?$AA?$AA@|
  00190		 |$LN32@WinMain|
  00190	00000000	 DCD         |??_C@_1M@BDEGBIID@?$AAP?$AAM?$AAS?$AAE?$AAT?$AA?$AA@|
  00194		 |$LN33@WinMain|
  00194	00000000	 DCD         |__security_cookie|
  00198		 |$LN20@WinMain|
  00198		 |$LN16@WinMain|
  00198		 |$M39183|

			 ENDP  ; |WinMain|

	END
